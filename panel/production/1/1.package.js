window.__package={"battle\/battle.js":"(function(__panel) {\n  var bgenerated, rightattack, leftattack, defence, prevRightAttack, prevLeftAttack, prevDefence, bsrcframe, toAllies, battlechat, bgenerator, bgenchk, walk, bredo;\n  var battleFixed;\n  var allies = {}, enemies = {};\n  var options = {};\n  var enemySelectBox;\n  var jsEnabled;\n  var battle_modifyChatWait;\n  var __genInitHandler, __redoInitHandler, __redoFillHandler;\n  var battleMovesRequest;\n  var selectedEnemy, savedMove;\n  \njQuery.extend(__panel, {\n  battle_fix: function(__options) {\n    jQuery.extend(options, __options);\n    \n    if(battleFixed) return;\n    window.bf3 = window.bf3.replace(\/<a\/, '<a id=\"updbutton\"');\n    bsrcframe = jQuery('#bsrc');\n    bsrcframe.load(function() {\n      __panel.triggerEvent('updatedata', {}, true);\n    });\n    window.__updatebf = window.updatebf;\n    window.updatebf = function() {\n      window.__updatebf();\n      __panel.triggerEvent('updatebf', {}, true);\n    };\n    window.__updatedata = window.updatedata;\n    window.updatedata = function() {\n      __panel.triggerEvent('beforeupdatedata', {}, true);\n      window.__updatedata();\n    };\n    __panel.bind('beforeupdatedata', function() {\n      if(jQuery('#updbutton').length) {\n        jQuery('#updbutton').html('\u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435...');\n      };\n    });\n    __panel.bind('updatedata', function() {\n      if(jQuery('#updbutton').length) {\n        jQuery('#updbutton').html('\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c');\n      };\n    });\n    if(options.wartime_s > 0) {\n      if(window.DataTimer > 0) clearTimeout(window.DataTimer);\n      window.DataTimer = setTimeout('updatedata()', options.wartime_s * 1000);\n      __panel.bind('updatedata', function() {\n        if(window.DataTimer > 0) clearTimeout(window.DataTimer);\n        window.DataTimer = setTimeout('updatedata()', options.wartime_s * 1000);\n      });\n    }\n    window.__makebf = window.makebf;\n    window.makebf = function() {\n      window.__makebf();\n      __panel.triggerEvent('makebf', {}, true);\n    };\n    jQuery(window).keydown(function(e) {\n      if(e.keyCode == 13 && e.ctrlKey) {\n        if(jQuery('#movego').length) fight();\n        else updatedata();\n        return false;\n      }\n    });\n    window.__fight = window.fight;\n    window.fight = function() {\n      __panel.triggerEvent('beforeFight', {}, true);\n      window.__fight();\n      __panel.triggerEvent('fight', {}, true);\n    };\n    window.__updatechatlines = window.updatechatlines;\n    \n    window.updatechatlines = function() {\n      window.__updatechatlines();\n      __panel.triggerEvent('updatechatlines', {}, true);\n    };\n  \n    window.__clrline = window.clrline;\n    window.clrline = function() {\n      __panel.triggerEvent('before_clrline', {}, true);\n      window.__clrline();\n      __panel.triggerEvent('clrline', {}, true);\n    };\n    battleFixed = true;\n    \n  },\n  \n  battle_init: function(__options) {\n    jQuery.extend(options, __options);\n    \n    allies = false;\n    if(location.pathname.indexOf('\/b.php') != -1)\n      __panel.battle_stdInit();\n    else if(location.pathname.indexOf('\/btl.php') != -1) {\n      __panel.battle_fix();\n      __panel.battle_jsInit();\n    } else if(location.pathname.indexOf('\/warlog.php') != -1 && document.body.innerHTML.indexOf('[ \u0412\u0430\u0448 \u0431\u043e\u0439 ]') == -1) {\n      var args = location.search.substr(1).toQueryParams();\n      var bid = args['bid'];\n      panel.get('BattleID', function(data) {\n        if(data == bid) {\n          __panel.triggerEvent('battleend', {bid: bid});\n        }\n      });\n    }\n  },\n  \n  battle_indexes: function() {\n    enemySelectBox = document.getElementsByTagName('select')[0];\n    if(!enemySelectBox) return;\n    if(enemies.indexesAdded) return;\n    enemies.indexesAdded = true;\n    var i = 0;\n    jQuery(enemySelectBox.childNodes).each(function(index) {\n      var matches = this.innerHTML.match(\/([0-9]+)\\. (.*)\\[[0-9]+\\]\/);\n      if(!matches) return;\n      if(!enemies['index']) enemies['index'] = [];\n      for(var j = i; j < enemies['name'].length; j++) {\n        if(enemies['name'][j] == matches[2]) {\n          var b = document.createElement('b');\n          b.innerHTML = matches[1] + '. ';\n          enemies['index'][j] = matches[1];\n          if(enemies['link'][j].previousSibling && enemies['link'][j].previousSibling.tagName.toUpperCase() == 'B' && enemies['link'][j].previousSibling.innerHTML == b.innerHTML) return;\n          enemies['link'][j].parentNode.insertBefore(b, enemies['link'][j]);\n          i = j - 1;\n        };\n      };\n      \n    });\n  },\n  \n  battle_addPM: function() {\n    if(enemies.pmAdded) return;\n    enemies.pmAdded = true;\n    if(jsEnabled) {\n      var msgfield = document.getElementsByName('oldm')[0];\n    } else {\n      var msgfield = document.forms['battlechat'].elements['newmessage'];\n    };\n    for(var j = 0; j < enemies['name'].length; j++) {\n      if(enemies['name'][j] == options.name) continue;\n      if(jQuery('#pm-' + enemies['id'][j]).length) continue;\n      var pm = jQuery('<span>[pm]<\/span>')\n        .attr('id', 'pm-' + enemies['id'][j])\n        .attr('name', enemies['name'][j])\n        .css({\n          'fontSize': '8px',\n          'cursor': 'pointer',\n          'margin': '3px 0px 0px -32px',\n          'position': 'absolute'\n        })\n        .click(function() {\n          var name = jQuery(this).attr('name');\n          var addText = name + ': ';\n          if(msgfield.value.indexOf(addText) == -1)\n            msgfield.value += addText;\n          msgfield.focus();\n        });\n      pm.insertBefore(enemies['link'][j]);\n    };\n    if(allies.pmAdded) return;\n    allies.pmAdded = true;\n    for(var j = 0; j < allies['name'].length; j++) {\n      if(allies['name'][j] == options.name) continue;\n      if(jQuery('#pm-' + allies['id'][j]).length) continue;\n\n      var pm = jQuery('<span>[pm]<\/span>')\n        .attr('id', 'pm-' + allies['id'][j])\n        .attr('name', allies['name'][j])\n        .css({\n        'fontSize': '8px',\n        'cursor': 'pointer',\n        'position': 'absolute',\n        'margin': '5px 0px 0px 15px'\n        })\n        .click(function() {\n          var name = jQuery(this).attr('name');\n          var addText = name + ': ';\n          if(msgfield.value.indexOf(addText) == -1)\n            msgfield.value += addText;\n          msgfield.focus();\n        });\n      pm.insertBefore(allies['link'][j].nextSibling.nextSibling);\n    };\n  },\n  \n  battle_advselect: function() {\n    if(!enemySelectBox) enemySelectBox = document.getElementsByTagName('select')[0];\n    if(!enemySelectBox) return;\n    if(enemies.advSelectCreated || enemySelectBox.advSelectCreated) return;\n    enemies.advSelectCreated = enemySelectBox.advSelectCreated = true;\n    jQuery(enemySelectBox.childNodes).each(function(index) {\n      var matches = this.innerHTML.match(\/([0-9]+)\\. (.*)\\[[0-9]+\\]\/);\n      if(!matches) return;\n      for(var j = 0; j < enemies['name'].length; j++) {\n        if(enemies['name'][j] == matches[2]) {\n          this.text = this.text + \"; HP: \" + enemies['hpcur'][j] + ' \/ ' + enemies['hpall'][j] + \";\\t\u0432\u0438\u0434\u0438\u043c\u043e\u0441\u0442\u044c: \" + enemies['visibility'][j] + \"%;\\t\" + enemies['weapon'][j];\n          return;\n        };\n      };\n      for(var j = 0; j < allies['name'].length; j++) {\n        if(allies['name'][j] == matches[2]) {\n          this.text = this.text + \"; HP: \" + allies['hpcur'][j] + ' \/ ' + allies['hpall'][j] + \";\\t\u0432\u0438\u0434\u0438\u043c\u043e\u0441\u0442\u044c: \" + allies['visibility'][j] + \"%;\\t\" + allies['weapon'][j];\n          return;\n        };\n      };\n    });\n  }, \n  \n  battle_convertTitles: function() {\n    jQuery(document.images).each(function(index) {\n      if(this.src.indexOf('i\/icons\/') != -1 && this.alt != undefined) {\n        this.title = this.alt;\n        var parts = this.alt.split(' ');\n        if(options.name == parts[0]) {\n          this.style.border='1px solid red';\n        };\n      };\n    });\n  },\n  \n  battle_addToAllies: function() {\n    var battlechat = battlechat = document.forms['battlechat'];\n    toAllies = jQuery('<input type=\"checkbox\">')\n      .change(function(e) {\n        var target = e.currentTarget;\n        if(jsEnabled) {\n          var msgfield = document.getElementsByName('oldm')[0];\n        } else {\n          var msgfield = battlechat.elements['newmessage'];\n        };\n        var ch = msgfield.value.charAt(0);\n        if(target.checked) {\n          if(ch == '~' || ch == '%' || ch == '*') return;\n          msgfield.value='~' + msgfield.value;\n          msgfield.focus();\n        } else {\n          if(ch == '~' || ch == '%' || ch == '*') {\n            msgfield.value = msgfield.value.slice(1);\n            msgfield.focus();\n          };\n        };\n      });\n    jQuery(battlechat).prepend(toAllies);\n    \n    __panel.bind('clrline', function() {\n      var oldm = document.getElementsByName('oldm')[0];\n      if(toAllies.attr('checked')) oldm.value = '~';\n      else oldm.value='';\n      savedMove = true;\n      if(!enemySelectBox) enemySelectBox = document.getElementsByTagName('select')[0];\n      selectedEnemy = jQuery(enemySelectBox).val();\n    });\n    jQuery(battlechat).prepend('<font>\u0441\u0432\u043e\u0438\u043c<\/font>');\n    var bowrds;\n    if(options.bwords && (bwords = options.bwords.split('|')) && bwords.length) {\n      var wordsdiv = jQuery('<div id=\"wordsdiv\"><\/div>')\n        .css({\n          'display': 'none',\n          'position': 'absolute'\n        }).appendTo(document.body);\n      var btn = jQuery('<a title=\"\u0411\u044b\u0441\u0442\u0440\u044b\u0435 \u0444\u0440\u0430\u0437\u044b\">&nbsp;&darr;&nbsp;<\/a>')\n        .css({\n        'cursor': 'pointer',\n        'margin-right': '10px'\n        })\n        .click(function(e) {\n          jQuery(wordsdiv).css({\n            'left': jQuery(this).css('left') + 5,\n            'top': jQuery(this).css('top') + 25\n          }).show();\n          return false;\n        });\n      for(var i = 0; i < bwords.length; i++) {\n        var element = jQuery('<a class=\"bword\">' + bwords[i] + '<\/a>').\n          css({\n            'border': '1px solid #339933',\n            'display': 'block',\n            'background': '#f0fff0',\n            'height': '20px',\n            'padding': '2px 4px'\n          }).click(function() {\n            var wordsdiv = jQuery('#wordsdiv'); \n            if(wordsdiv && Element.visible(wordsdiv)) {\n              Element.hide(wordsdiv);\n            };\n            battlechat.oldm.value = __panel.textContent || __panel.text || __panel.innerText;\n            document.forms['battlechat'].elements[document.forms['battlechat'].elements[document.forms['battlechat'].elements.length - 1].innerHTML == '\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c'? document.forms['battlechat'].elements.length - 2: document.forms['battlechat'].elements.length - 1].click();\n          });\n          jQuery(wordsdiv).append(element);\n      };\n      jQuery(document.body).click(function() {\n        jQuery('#wordsdiv:visible').hide();\n      });\n      btn.before(s);\n    };\n    var r = jQuery('<button>\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c<\/button>')\n      .css({'background': '#D0EED0'})\n      .click(function(e) {\n        updatedata();\n        return false;\n      }).appendTo(battlechat);\n  },\n  \n  battle_modifyChat: function() {\n    try {\n      var logField;\n      if(jsEnabled) \n        logField = jQuery('#log')[0];\n      else {\n        logField = document.getElementsByName('newmessage')[0].parentNode.parentNode.parentNode.getElementsByTagName('div')[0];\n      };\n      if(!logField || logField.firstChild.converted || (window.chrome && logField.firstChild.getAttribute && logField.firstChild.getAttribute('converted'))) return;\n      for(var i = 0; i < logField.childNodes.length; i++) {\n        if(!logField.childNodes[i+2] || logField.childNodes[i].converted || (logField.childNodes[i].getAttribute && logField.childNodes[i].getAttribute('converted'))) break;\n        logField.childNodes[i].converted = true;\n        if(logField.childNodes[i].setAttribute) logField.childNodes[i].setAttribute('converted', 1);\n        if(logField.childNodes[i+2].tagName && logField.childNodes[i+2].tagName.toUpperCase() == 'FONT' && logField.childNodes[i+2].getAttribute('color') == '#009999') { \/\/is team text\n          try {\n            var playerName = logField.childNodes[i].textContent || logField.childNodes[i].innerText;\n            if(!playerName) throw ('Weird colors in chat!');\n            var pindex = allies.name.indexOf(playerName);\n            if(pindex == -1) throw ('Player not found');\n            logField.childNodes[i+2].innerHTML += '&nbsp;&nbsp;[<font color=\\'red\\'>' + allies['weapon'][pindex] + '<\/font>]';\n          } catch (e) {\n            __panel.dispatchException(e);\n          };\n        };\n      };\n    } catch(e) {\n      if(!battle_modifyChatWait)\n        battle_modifyChatWait = setTimeout(__panel.battle_modifyChat.bind(this), 2000);\n    };\n    \n  },\n  \n  battle_playerInfo: function() {\n    if(options.uid) {\n      var data = {};\n      for(var i = 0; i < allies['id'].length; i++) {\n        if(allies['id'][i] == options.uid) {\n          data = {\n            'hpcur': allies['hpcur'][i],\n            'hpall': allies['hpall'][i],\n            'damage': allies['damage'][i],\n            'killed': allies['killed'][i],\n            'visibility': allies['visibility'][i]\n          };\n          break;\n        };\n      };\n      if(!data) {\n        for(var i = 0; i < enemies['id'].length; i++) {\n          if(enemies['id'][i] == options.uid) {\n            data = {\n              'hpcur': enemies['hpcur'][i],\n              'hpall': enemies['hpall'][i],\n              'damage': enemies['damage'][i],\n              'killed': enemies['killed'][i],\n              'visibility': enemies['visibility'][i]\n            };\n            break;\n          };\n        };\n      };\n      if(!data['hpcur']) return;\n      try {\n        if(!jQuery('#infoElem1').length || !jQuery('#infoElem2').length) {\n          var elems = jQuery('.txt');\n          for(var j = 0; j < elems[0].childNodes.length; j++) {\n            if(elems[0].childNodes[j].style) elems[0].childNodes[j].style.styleFloat = elems[0].childNodes[j].style.cssFloat = 'left';\n          };\n          for(var j = 0; j < elems[1].childNodes.length; j++) {\n            if(elems[1].childNodes[j].style) elems[1].childNodes[j].style.styleFloat = elems[1].childNodes[j].style.cssFloat = 'left';\n          };\n          var elem1 = jQuery('<div id=\"infoElem1\"><\/div>').css({'float': 'right', 'margin-right': '40px'}).appendTo(elems[1]);\n          var elem2 = jQuery('<div id=\"infoElem2\"><\/div>').css({'float': 'left', 'margin-left': '30px'}).appendTo(elems[2]);\n        };\n        if(jQuery('#infoElem1').length) {\n          jQuery('#infoElem1').html('<i>HP:<\/i> ' + (data['hpcur'] < data['hpall']\/10? '<font color=red>' + data['hpcur'] + '<\/font>': data['hpcur']) + '&nbsp;\/&nbsp;<font style=\"color: green; margin-right: 30px;\">' + data['hpall'] + '<\/font><i>\u0443\u0440\u043e\u043d:<\/i> <font style=\"color: #790000;\">' + data['damage'] + '<\/font> (' + data['killed'] + ') ');\n        };\n        if(jQuery('#infoElem2').length) {\n          jQuery('#infoElem2').html('<i>\u0432\u0438\u0434\u0438\u043c\u043e\u0441\u0442\u044c:<\/i> <font style=\"color: #0072bc\">' + data['visibility'] + '%<\/font>' + '&nbsp;&nbsp;&nbsp;<b><font color=\"blue\" title=\"\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u0440\u0443\u0437\u0435\u0439\">' + allies['id'].length + '<\/font><\/b> \/ <b><font color=\"red\" title=\"\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0440\u043e\u0442\u0438\u0432\u043d\u0438\u043a\u043e\u0432\">' + enemies['id'].length + '<\/font><\/b>');\n        };\n      } catch(e) {};\n    };\n  },\n  \n  battle_generator: function() {\n    __genInitHandler = function(){\n      if(bgenerated && defence) {\n        if(!isNaN(rightattack) && jQuery('#right_attack' + rightattack)) jQuery('#right_attack' + rightattack).click();\n        if(!isNaN(defence)) jQuery('#defence' + defence).click();\n        if(!isNaN(leftattack)) jQuery('#left_attack' + leftattack).click();\n        if(walk) jQuery('#walk').attr('checked', 1);\n      } else if(bgenchk.attr('checked')) {\n        if(jQuery('#right_attack1').length){\n          var r = Math.floor(Math.random() * 3) + 1;\n          jQuery('#right_attack'+r).click();\n          rightattack = r;\n        };\n        if(jQuery('#left_attack1').length) {\n          var l = Math.floor(Math.random() * 3) + 1;\n          if(options.genuniq) {\n            while(l == r) l = Math.floor(Math.random()*3) + 1;\n          };\n          jQuery('#left_attack'+l).click();\n          leftattack = l;\n        };\n        if(jQuery('#defence1').length) {\n          var d = Math.floor(Math.random() * 3) + 1;\n          jQuery('#defence' + d).click();\n          defence = d;\n        };\n        if(walk) jQuery('#walk').attr('checked', 1);\n        bgenerated = true;\n        \n      }\n      if(jQuery('#bf').length) jQuery('#bf').prepend(bgenerator);\n      else {\n        bgenerator.prepend(document.getElementsByTagName('script')[4]);\n      };\n    };\n    \n    if(!bgenerator) {\n      bgenerator = jQuery('<div id=\"generator\"><\/div>').css({'margin':'0 0 0 20px','position':'absolute'});\n      if(!bgenchk) {\n        bgenchk = jQuery('<input type=\"checkbox\">')\n          .appendTo(bgenerator)\n          .change(function(e) {\n            __panel.setOptions({'autogen': __panel.checked}, 'battle');\n            if(__panel.checked){\n              if(bredochk && bredochk.attr('checked')) bredochk.click();\n            };\n          });\n      }\n      jQuery('#walk').change(function() {\n        if(this.checked) walk = true;\n      });\n      if(parseInt(options.autogen) && !parseInt(options.autoredo)) bgenchk.attr('checked', 1);\n      jQuery('<a href=\"#\">\u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0439 \u0445\u043e\u0434<\/a>').click(\n        function(){ bgenerated = false; __genInitHandler();\n      }).appendTo(bgenerator);\n    }\n    if(jQuery('#bf').length) jQuery('#bf').prepend(bgenerator);\n    else {\n      bgenerator.prepend(document.getElementsByTagName('script')[4]);\n    };\n    if(bgenchk.attr('checked')) {\n      setTimeout(function() { __genInitHandler(); }, 10);\n    };\n  },\n  \n  battle_redoMove: function() {\n    __redoInitHandler = function(){\n      if(prevRightAttack) {\n        jQuery('#right_attack'+prevRightAttack).click();\n      };\n      if(prevLeftAttack) {\n        jQuery('#left_attack'+prevLeftAttack).click();\n      };\n      if(prevDefence) {\n        jQuery('#defence'+prevDefence).click();\n      };\n      if(walk) {\n        var __walk = document.getElementsByName('walk');\n        if(__walk && __walk.length && __walk[0]) __walk[0].click();\n      };\n      var bf = jQuery('#bf');\n      if(bf.length) bf.prepend(bredo);\n      else {\n        var s = document.getElementsByTagName('script')[4];\n        jQuery(s).before(bredo);\n      };\n    };\n    __redoFillHandler = function() {\n      if(jQuery('#right_attack1')) {\n        if(jQuery('#right_attack1').checked) {\n          prevRightAttack = 1;\n        } else if(jQuery('#right_attack2').checked) {\n          prevRightAttack = 2;\n        } else if(jQuery('#right_attack3').checked) {\n          prevRightAttack = 3;\n        };\n      }\n      if(jQuery('#left_attack1')) {\n        if(jQuery('#left_attack1').checked) {\n          prevLeftAttack = 1;\n        } else if(jQuery('#left_attack2').checked) {\n          prevLeftAttack = 2;\n        } else if(jQuery('#left_attack3').checked) {\n          prevLeftAttack = 3;\n        };\n      };\n      if(jQuery('#defence1').checked) {\n        prevDefence = 1;\n      } else if(jQuery('#defence2').checked) {\n        prevDefence = 2;\n      } else if(jQuery('#defence3').checked) {\n        prevDefence = 3;\n      };\n      var __walk = document.getElementsByName('walk');\n      if(__walk && __walk.length && __walk[0]) walk = __walk[0].checked;\n    };\n    \n    bredo = jQuery('<div id=\"redo_move\"><\/div>')\n      .css({'margin':'20px 0 0 20px','position':'absolute'});\n      \n    var bf = jQuery('#bf');\n    if(bf.length) bf.prepend(bredo);\n    else {\n      var s = document.getElementsByTagName('script')[4];\n      jQuery(s).before(bredo);\n    };\n    bredochk = jQuery('<input type=\"checkbox\" \/>')\n      .change(function(e) {\n        var target = e.currentTarget;\n        __panel.setOptions({'autoredo': target.checked}, 'battle');\n        if(target.checked) {\n          if(bgenchk && bgenchk.attr('checked')) bgenchk.click();\n        };\n      })\n      .appendTo(bredo);\n    if(options.autoredo) bredochk.attr('checked', 1);\n      \n    var a = jQuery('<span>\u0437\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u0445\u043e\u0434<\/span>').appendTo(bredo);\n    \n  },\n\n  battle_stdInit: function() {\n    __panel.triggerEvent('battlebegin', {'bid': window.BattleID});\n    __panel.set('BattleID', window.BattleID);\n\n    __panel.battle_getUserInfo();\n    __panel.battle_playersInit();\n    if(!options.nobattlepm) {\n      __panel.battle_addPM();\n    };\n    if(options.indexes) {\n      __panel.battle_indexes();\n    };\n    if(options.advSelect) {\n      __panel.battle_advselect();\n    }\n    if(__panel.getOptions().system.plugins.indexOf('battleimg') == -1) {\n      __panel.battle_convertTitles();\n    };\n    if(!options.noplinfo) {\n      __panel.battle_playerInfo();\n    };\n    __panel.battle_addToAllies();\n    if(!options.nobchat_m) {\n      __panel.battle_modifyChat();\n    };\n    if(!options.nobgen) {\n      __panel.battle_generator();\n    };\n  },\n  \n  battle_jsInit: function() {\n    __panel.triggerEvent('battlebegin', {'bid': window.BattleID});\n    \n    __panel.set('BattleID', window.BattleID);\n    jsEnabled = true;\n    __panel.battle_playersInit();\n    __panel.battle_getUserInfo();\n    __panel.battle_addToAllies();\n    if(!options.nobattlepm) {\n      __panel.battle_addPM();\n    };\n    if(options.indexes) {\n      __panel.battle_indexes();\n    };\n    if(options.advSelect) {\n      __panel.battle_advselect();\n    }\n    if(!options.noplinfo) {\n      __panel.battle_playerInfo();\n    };\n    if(__panel.getOptions().system.plugins.indexOf('battleimg') == -1) {\n      __panel.battle_convertTitles();\n    };\n    if(!options.nobchat_m) {\n      __panel.battle_modifyChat();\n    };\n    if(!options.nobgen) {\n      __panel.battle_generator();\n    };\n    __panel.battle_redoMove();\n    __panel.bind('makebf', function() {\n      if(bgenchk) {\n        __genInitHandler();\n      }\n      if(bredochk) {\n        __redoInitHandler()\n      };\n      if(!enemySelectBox) enemySelectBox = document.getElementsByTagName('select')[0];\n      if(selectedEnemy) jQuery(enemySelectBox).val(selectedEnemy);\n    });\n    __panel.bind('beforeFight', function() {\n      if(bredochk && bredochk.attr('checked')) {\n        __redoFillHandler()\n      };\n      bgenerated = rightattack = leftattack = defence = __panel.__clrline = false;\n    });\n    __panel.bind('fight', function() {\n      bgenerated = rightattack = leftattack = defence = __panel.__clrline = false;\n    });\n    if(options.battle_moves) {\n      __panel.bind('updatedata', function() {\n        if(window.waitforturn == 1 && !battleMovesRequest) {\n          battleMovesRequest = jQuery.ajax('b.php?bid=' + window.bid, {\n            success: function(response) {\n              battleMovesRequest = false;\n              var i = response.indexOf('style=\\'color:#008800\\' target=_blank');\n              while(i > 0) {\n                var esIndex = response.indexOf('=', i - 10);\n                if(esIndex == -1) break;\n                var plId = response.substr(esIndex + 1, i - esIndex - 2);\n                var link = false;\n                for(var j = 0; j < allies['id'].length; j++) {\n                  if(plId == allies['id'][j]) {\n                    link = allies['link'][j];\n                    break;\n                  };\n                };\n                if(!link) {\n                  for(var j = 0; j < enemies['id'].length; j++) {\n                    if(plId == enemies['id'][j]) {\n                      link = enemies['link'][j];\n                      break;\n                    };\n                  };\n                };\n                link.style.color = '#008800';\n                i = response.indexOf('style=\\'color:#008800\\' target=_blank', i + 1);\n              };\n            }\n          });\n        };\n      });\n    };\n    if(!__panel.__makebfHandler) {\n      __panel.__makebfHandler = function() {\n        if(!window.waitforturn) __panel.battle_playersInit();\n        __panel.__clrline = false;\n      };\n      __panel.bind('makebf', __panel.__makebfHandler);\n    };\n    __panel.__battlePlayersInit = function() {\n      if(!options.nobattlepm) {\n        __panel.battle_addPM();\n      };\n      if(options.indexes) {\n        __panel.battle_indexes();\n      };\n      if(options.advSelect) {\n        __panel.battle_advselect();\n      };\n      if(!options.noplinfo) {\n        __panel.battle_playerInfo();\n      };\n      if(__panel.getOptions().system.plugins.indexOf('battleimg') == -1) {\n        __panel.battle_convertTitles();\n      };\n    };\n    __panel.bind('playersInit', __panel.__battlePlayersInit);\n    __panel.bind('clrline', function() {\n      __panel.__clrline = true;\n    });\n    if(!options.nobchat_m && !__panel.__updatechatlinesHandler) {\n      __panel.__updatechatlinesHandler = function() {\n        __panel.battle_modifyChat();\n      };\n      __panel.bind('updatechatlines', __panel.__updatechatlinesHandler);\n    };\n  },\n  \n  battle_playersInit: function() {\n    try {\n    var images = {\n      name: [], \n      img: [],\n      pos: []\n    };\n    var myImgIndex = -1;\n    var orientation = 0;\n    if(!options.name) __panel.battle_getUserInfo();\n    var name = options.name;\n    jQuery(document.images).each(function(i) {\n      var alt = this.title? this.title: this.alt;\n      if((this.src.indexOf('i\/icons\/') != -1 || this.src.indexOf('b_files\/') != -1) && alt) {\n        var parts = alt.split(' [');\n        if(parseInt(parts[1]))\n          images['name'].push(parts[0]);\n        else {\n          images['name'].push(alt.split('] [')[0] + ']');\n        };\n        images['img'].push(this);\n        if(this.src.indexOf('left') != -1) images['pos'] = -1;\n        else if(this.src.indexOf('right') != -1) images['pos'] = 1;\n        else if(this.src.indexOf('tigr') != -1) this.className += 'tigr';\n        if(name == parts[0]) {\n          myImgIndex = images['img'].length - 1;\n          if(this.src.indexOf('left') != -1) orientation = -1;\n          else if(this.src.indexOf('right') != -1) orientation = 1;\n        };\n      };\n    });\n    if(orientation == 0) {\n       var name = images['name'][images['name'].length - 1];\n       for(var i = document.links.length - 1; i > 0; i--) {\n         if(document.links[i].textContent == name) {\n           var matches = document.links[i].nextSibling.nextSibling.innerHTML.match(\/\u0440\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435: ([\\d]+)\/);\n           myImgIndex = images['img'][0].parentNode.parentNode.childNodes.length - matches[1] + 1;\n           break;\n         }\n       }\n    };\n    \/\/\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u0434\u043b\u044f battleimg\n    __panel.myImgIndex = myImgIndex;\n    __panel.orientation = orientation;\n    __panel.btlImages = images;\n    var i=0;\n    var ac = -1; \/\/Allie counter\n    allies = {\n      id: [], \n      name: [],\n      level: [],\n      link: [], \n      hpcur: [],\n      hpall: [],\n      img: [], \n      distance: [],\n      power: [],\n      damage: [],\n      killed: [],\n      weapon: [],\n      weapon_code: [],\n      visibility: []\n    };\n    var foundImages = [];\n    var parentNode = null;\n    for(; i < document.links.length && document.links[i].href.indexOf('javascript:') != 0; i++) {\n      var l = document.links[i];\n      if(l.href.indexOf('info.php') != -1) {\n        ac++;\n        var name = l.textContent || l.innerText;\n        var nextDiv = l.nextSibling;\n        while(nextDiv.nextSibling && (!nextDiv.tagName || nextDiv.tagName.toUpperCase() != 'DIV')) nextDiv = nextDiv.nextSibling;\n        var matches = nextDiv.innerHTML.match(\/.*HP:[^\\d]+(\\d+)[^\\d]+(\\d+)[^\\d]+: (\\d+)[^\\d]+: (\\d+)[^\\d]+: (\\d+)[^\\d]+(\\d+)[^\\d+][^\\d]+: (\\d+)\/);\n        if(matches) {\n          if(parentNode && parentNode != l.parentNode) {i--; break;}\n          parentNode =  l.parentNode;\n          allies['id'].push(l.href.split('=')[1]);\n          allies['name'].push(name);\n          if(String(l.nextSibling.data || l.nextSibling.nodeValue).search(\/([0-9]+)\/))\n            allies['level'].push(RegExp.$1);\n          else\n            allies['level'].push('');\n          allies['link'].push(l);\n          allies['hpcur'].push(parseInt(matches[1]));\n          allies['hpall'].push(parseInt(matches[2]));\n          try {\n            var iind = images['name'].indexOf(name);\n            foundImages.push(iind);\n          } catch(e) {};\n          allies['img'].push(images['img'][iind]);\n          if(__panel.orientation == 1) {\n            if(iind > myImgIndex)\n              allies['distance'].push(-parseInt(matches[3]));\n            else\n              allies['distance'].push(parseInt(matches[3]));\n          } else if(__panel.orientation == -1) {\n            if(iind < myImgIndex)\n              allies['distance'].push(-parseInt(matches[3]));\n            else\n              allies['distance'].push(parseInt(matches[3]));\n          } else {\n            if(images['img'][iind] && images['img'][iind].parentNode.cellIndex < myImgIndex)\n              allies['distance'].push(-parseInt(matches[3]));\n            else\n              allies['distance'].push(parseInt(matches[3]));\n          };\n          allies['power'].push(parseInt(matches[4]));\n          allies['damage'].push(parseInt(matches[5]));\n          allies['killed'].push(parseInt(matches[6]));\n          allies['visibility'].push(parseInt(matches[7]));\n          var lis = nextDiv.getElementsByTagName('li');\n          if(lis.length) { \n            allies['weapon'].push(lis[0].textContent || lis[0].innerText);\n            if(lis[0].firstChild.href) {\n              var parts = lis[0].firstChild.href.split('=');\n              allies['weapon_code'].push(parts[1]);\n            } else {\n              allies['weapon_code'].push('');\n            };\n          } else {\n            allies['weapon'].push('');\n            allies['weapon_code'].push('');\n          };\n        };\n      };\n    };\n    enemies = {\n      id: [], \n      name: [],\n      level: [], \n      link: [], \n      hpcur: [],\n      hpall: [],\n      img: [], \n      distance: [],\n      power: [],\n      damage: [],\n      weapon: [],\n      weapon_code: [],\n      killed: [],\n      visibility: []\n    };\n    var ec = -1;\n    var len = document.links.length;\n    for(; i < len; i++) {\n      var l = document.links[i];\n      if(l.href.indexOf('info.php') != -1) {\n        ec++;\n        var name = l.textContent || l.innerText;\n        var nextDiv = l.nextSibling.nextSibling;\n        var matches = nextDiv.innerHTML.match(\/.*HP:[^\\d]+(\\d+)[^\\d]+(\\d+)[^\\d]+: (\\d+)[^\\d]+: (\\d+)[^\\d]+: (\\d+)[^\\d]+(\\d+)[^\\d+][^\\d]+: (\\d+)\/);\n        if(matches) {\n          enemies['id'].push(l.href.split('=')[1]);\n          enemies['name'].push(name);\n          if(String(l.nextSibling.data || l.nextSibling.nodeValue).search(\/([0-9]+)\/))\n            enemies['level'].push(RegExp.$1);\n          else\n            enemies['level'].push('');\n          enemies['link'].push(l);\n          enemies['hpcur'].push(parseInt(matches[1]));\n          enemies['hpall'].push(parseInt(matches[2]));\n          var iind = images['name'].indexOf(name);\n          foundImages.push(iind);\n          enemies['img'].push(images['img'][iind]);\n          var distance = parseInt(matches[3]);\n          if(__panel.orientation == 0) {\n            if(images['img'][iind] && images['img'][iind].parentNode.cellIndex < myImgIndex)\n              enemies['distance'].push(-parseInt(matches[3]));\n            else\n              enemies['distance'].push(parseInt(matches[3]));\n          } else {\n            enemies['distance'].push(parseInt(matches[3]));\n          };\n          \n          enemies['power'].push(parseInt(matches[4]));\n          enemies['damage'].push(parseInt(matches[5]));\n          enemies['killed'].push(parseInt(matches[6]));\n          enemies['visibility'].push(parseInt(matches[7]));\n          var lis = nextDiv.getElementsByTagName('li');\n          if(lis.length) {\n            enemies['weapon'].push(lis[0].textContent || lis[0].innerText);\n            if(lis[0].firstChild.href) {\n              var parts = lis[0].firstChild.href.split('=');\n              enemies['weapon_code'].push(parts[1]);\n            } else {\n              enemies['weapon_code'].push('');\n            };\n          } else {\n            enemies['weapon'].push('');\n            enemies['weapon_code'].push('');\n          };\n        };\n      };\n    };\n    \n    jQuery(images['img']).filter(function(index) {\n      this.__index = index;\n      return foundImages.indexOf(index) == -1; \n    }).each(function(index) {\n      var bs = document.getElementsByTagName('b');\n      var item = null;\n      for(var i = 0; i < bs.length; i++) {\n        if(bs[i].innerHTML == images['name'][this.__index])\n          item = bs[i];\n      };\n      if(!item) return;\n      var matches = (item.nextSibling.nextSibling || item.nextSibling).innerHTML.match(\/.*HP:[^\\d]+(\\d+)[^\\d]+(\\d+)[^\\d]+: (\\d+)[^\\d]+: (\\d+)[^\\d]+: (\\d+)[^\\d]+(\\d+)[^\\d+][^\\d]+: (\\d+)\/);\n      if(matches) {\n        enemies['id'].push(null);\n        enemies['name'].push(images['name'][this.__index]);\n        enemies['link'].push(item);\n        enemies['hpcur'].push(parseInt(matches[1]));\n        enemies['hpall'].push(parseInt(matches[2]));\n        enemies['img'].push(this);\n        enemies['distance'].push(parseInt(matches[3]));\n        enemies['power'].push(parseInt(matches[4]));\n        enemies['damage'].push(parseInt(matches[5]));\n        enemies['killed'].push(parseInt(matches[6]));\n        enemies['visibility'].push(parseInt(matches[7]));\n        enemies['weapon'].push('\u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e\u0435 \u043e\u0440\u0443\u0436\u0438\u0435');\n        enemies['weapon_code'].push('');\n      };\n    });\n    } catch(e) {\n      __panel.dispatchException(e);\n    };\n    __panel.triggerEvent('playersInit', {}, true);\n  },\n  \n  battle_getUserInfo: function() {\n    \/\/\u043f\u043e\u043b\u0443\u0447\u0430\u0435\u043c id \u044e\u0437\u0435\u0440\u0430\n    var cookies = document.cookie.split('; ');\n    for(var i = 0; i < cookies.length; i++) {\n      var parts = cookies[i].split('=');\n      if(parts[0] == 'uid') {\n        options.uid = parts[1];\n        break;\n      };\n    };\n    \/\/\u043f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u043d\u0438\u043a \u044e\u0437\u0435\u0440\u0430\n    for(var i = 0; i < document.links.length; i++) {\n      if(document.links[i].href.indexOf('info.php?id=' + options.uid) != -1) {\n        options.name = document.links[i].textContent || document.links[i].innerText;\n      };\n    };\n  }\n})})(window.__panel);","data\/exp_table.js":"__panel.expTable = [0, 5, 15, 37, 76, 143, 249, 412, 655, 1077, 1505, 2199, 3149, 4433, 6146, 8407, 11362, 15192, 20113, 26394, 34353, 44377, 56931, 72568, 91947, 115853, 145214, 181127, 224882, 277996, 342247, 419713, 512821, 624395, 757716, 916591, 1105426, 1329313, 1594124, 1906627, 2274598, 2723523, 3293658, 4046236, 5077268, 6541333, 8693509, 11964817, 17100771, 25421016, 39315825];","data\/items.js":"__panel.wear_string = 'narmour bronik1 bronik2 bronik3 bronik4 bronik5 soarmour bronik6 carmour sarmour7 armour_alpha bronik7 nhelmet helmet1 helmet2 helmet3 helmet4 dhelmet thelmet m1helmet pasfgt achelmet defender helmetmk7 nboots boots heavyboots lowshield1 armyboots hshields kboots shboots commboots bronik3c lowshieldc lwhelmet bronik4c cboots bronik5c empires bronik6c sas_helmet shields_la blackhawk chelmet hboots armour_p300 spectra blackcell dboots rbr fasthelmet armour_patrol delta5 helmetmk6 swatboots delta7 g15helmet maskl ilight deye nighthawk nmask mask1 mask2 maskp glasses1 svision irt7 ivision';\n\n__panel.mods_weapon = {\n  '1' : ['DM', 'Damage Multiplier Light', '1\/10', '\u041f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435 +8'],\n  '2' : ['BG', 'Barrel Greaser', '1\/70', '\u041f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435 +13'],\n  '3' : ['DH', 'Damage Multiplier Heavy', '1\/40', '\u041f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435 +10'], \n  '4' : ['FS', 'FastShot', '\u043a\u0440\u0430\u0439\u043d\u0435 \u0440\u0435\u0434\u043a\u043e', '\u041a\u043e\u043b-\u0432\u043e \u0432\u044b\u0441\u0442\u0440\u0435\u043b\u043e\u0432 +4'], \n  '5' : ['FL', 'Fast Loader', '1\/10', '\u041a\u043e\u043b-\u0432\u043e \u0432\u044b\u0441\u0442\u0440\u0435\u043b\u043e\u0432 +1'], \n  '6' : ['LB', 'Longbow Barrel', '\u043a\u0440\u0430\u0439\u043d\u0435 \u0440\u0435\u0434\u043a\u043e', '\u0414\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c +2'], \n  '7' : ['RL', 'Reloader', '\u043a\u0440\u0430\u0439\u043d\u0435 \u0440\u0435\u0434\u043a\u043e', '\u041a\u043e\u043b-\u0432\u043e \u0432\u044b\u0441\u0442\u0440\u0435\u043b\u043e\u0432 +4'], \n  '8' : ['JL', 'JackLong', '1\/70', '\u0414\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c +2'], \n  '9' : ['SB', 'Salted Bullets', '\u043a\u0440\u0430\u0439\u043d\u0435 \u0440\u0435\u0434\u043a\u043e', '\u041f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435 +10'], \n  '10' : ['IB', 'Iron Bullets', '1\/10', '\u041f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435 +1'], \n  '11' : ['KT', 'Killing Thing', '1\/10', '\u041f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435 +2'], \n  '12' : ['HKT', 'Heavy Killing Thing', '1\/30', '\u041f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435 +3'], \n  '13' : ['PB', 'Poisoned Bullets', '\u043a\u0440\u0430\u0439\u043d\u0435 \u0440\u0435\u0434\u043a\u043e', '\u041f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435 +5'], \n  '14' : ['ES', 'Extreme Shots', '1\/70', '\u041f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435 +4'], \n  '15' : ['DD', 'Digital Distance', '1\/30', '\u0414\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c +1'], \n  '16' : ['LY', 'Longshot Yellow', '1\/80', '\u0414\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c +2'], \n  '17' : ['SS', 'Speed Switch', '1\/50', '\u041a\u043e\u043b-\u0432\u043e \u0432\u044b\u0441\u0442\u0440\u0435\u043b\u043e\u0432 +2'], \n  '18' : ['US', 'Ultra Shooter', '1\/80', '\u041a\u043e\u043b-\u0432\u043e \u0432\u044b\u0441\u0442\u0440\u0435\u043b\u043e\u0432 +3'], \n  '19' : ['OB', 'One Bullet', '1\/10', '\u041a\u043e\u043b-\u0432\u043e \u0432\u044b\u0441\u0442\u0440\u0435\u043b\u043e\u0432 +1'], \n  '20' : ['DA', 'Digital Aim', '1\/20', '\u0422\u043e\u0447\u043d\u043e\u0441\u0442\u044c +10 %'], \n  '21' : ['SHS', 'SharpShooter', '1\/50', '\u0422\u043e\u0447\u043d\u043e\u0441\u0442\u044c +15 %'], \n  '22' : ['BHG', 'Big Heavy Gun', '\u043a\u0440\u0430\u0439\u043d\u0435 \u0440\u0435\u0434\u043a\u043e', '\u041a\u043e\u043b-\u0432\u043e \u0432\u044b\u0441\u0442\u0440\u0435\u043b\u043e\u0432 +5'], \n  '23' : ['FS', 'Floo Shots', '1\/40', '\u041a\u043e\u043b-\u0432\u043e \u0432\u044b\u0441\u0442\u0440\u0435\u043b\u043e\u0432 +3'], \n  '24' : ['DP', 'Deadly Plumbum', '1\/10', '\u041f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435 +1'], \n  '25' : ['HS', 'Head Shots', '1\/80', '\u041f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435 +2'], \n  '26' : ['HD', 'High Density', '1\/40', '\u0422\u043e\u0447\u043d\u043e\u0441\u0442\u044c +3%'], \n  '27' : ['BD', 'Boom Distance', '1\/40', '\u0414\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c +1'], \n  '28' : ['SBD', 'Super Boom Distance', '\u043a\u0440\u0430\u0439\u043d\u0435 \u0440\u0435\u0434\u043a\u043e', '\u0414\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c +2'], \n  '29' : ['KK', 'Kaboom Kaboom', '1\/70', '\u041f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435 +10'], \n  '30' : ['BB', 'BoomBastic', '1\/70', '\u0422\u043e\u0447\u043d\u043e\u0441\u0442\u044c (+10 %)'], \n  '31' : ['OHS', 'One Hand Shot', '\u043a\u0440\u0430\u0439\u043d\u0435 \u0440\u0435\u0434\u043a\u043e', '\u041a\u043e\u043b-\u0432\u043e \u0432\u044b\u0441\u0442\u0440\u0435\u043b\u043e\u0432 +1'], \n  '32' : ['TES', 'Two Extra Shots', '\u043a\u0440\u0430\u0439\u043d\u0435 \u0440\u0435\u0434\u043a\u043e', '\u041a\u043e\u043b-\u0432\u043e \u0432\u044b\u0441\u0442\u0440\u0435\u043b\u043e\u0432 +1'], \n  '33' : ['MS', 'Mad Shooting', '\u043a\u0440\u0430\u0439\u043d\u0435 \u0440\u0435\u0434\u043a\u043e', '\u041a\u043e\u043b-\u0432\u043e \u0432\u044b\u0441\u0442\u0440\u0435\u043b\u043e\u0432 +3'], \n  '34' : ['BP', 'Bullet Proof', '\u043a\u0440\u0430\u0439\u043d\u0435 \u0440\u0435\u0434\u043a\u043e', '\u0414\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c +2'], \n  '35' : ['AD', 'Ancient Damage', '1\/10', '\u041f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435 +1'], \n  '36' : ['TN', 'Two Nails', '\u043a\u0440\u0430\u0439\u043d\u0435 \u0440\u0435\u0434\u043a\u043e', '\u041a\u043e\u043b-\u0432\u043e \u0432\u044b\u0441\u0442\u0440\u0435\u043b\u043e\u0432 +2'], \n  '37' : ['TM', 'Third and Mortal', '\u043a\u0440\u0430\u0439\u043d\u0435 \u0440\u0435\u0434\u043a\u043e', '\u041a\u043e\u043b-\u0432\u043e \u0432\u044b\u0441\u0442\u0440\u0435\u043b\u043e\u0432 +3'], \n  '38' : ['OPT', 'One Plus Three', '\u043a\u0440\u0430\u0439\u043d\u0435 \u0440\u0435\u0434\u043a\u043e', '\u041a\u043e\u043b-\u0432\u043e \u0432\u044b\u0441\u0442\u0440\u0435\u043b\u043e\u0432 +4'], \n  '39' : ['FG', 'Freakin Gun', '1\/70', '\u0414\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c +2'], \n  '40' : ['SHD', 'Super High Density', '1\/70', '\u041a\u043e\u043b-\u0432\u043e \u0432\u044b\u0441\u0442\u0440\u0435\u043b\u043e\u0432 +7'], \n  '41' : ['HO', 'Heavy Optics', '\u043a\u0440\u0430\u0439\u043d\u0435 \u0440\u0435\u0434\u043a\u043e', '+ 2 \u043a \u0434\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438, +2 \u043a \u043a\u043e\u043b-\u0432\u0443 \u0432\u044b\u0441\u0442\u0440\u0435\u043b\u043e\u0432, +2 \u0443\u0440\u043e\u043d\u0430'], \n  '42' : ['HB', 'Heavy Bullets', '1\/70', '\u041f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f +4'], \n  '43' : ['DD', 'Digital Distance', '1\/40', '\u0414\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0441\u0442\u0440\u0435\u043b\u044c\u0431\u044b +1'], \n  '44' : ['ShS', 'Sharp Shooter', '1\/20', '\u0422\u043e\u0447\u043d\u043e\u0441\u0442\u044c \u0441\u0442\u0440\u0435\u043b\u044c\u0431\u044b +10 % ']\n};\n\n__panel.mods_wear = {\n  '1' : ['EA', 'Extra Armour', '1\/10', '+1 \u043a \u0431\u0440\u043e\u043d\u0435 \u0433\u043e\u043b\u043e\u0432\u044b'], \n  '2' : ['DF', 'Delta Force', '1\/30', '+2 \u043a \u0431\u0440\u043e\u043d\u0435 \u0433\u043e\u043b\u043e\u0432\u044b '], \n  '3' : ['TH', 'TiHelmet', '1\/50', '+3 \u043a \u0431\u0440\u043e\u043d\u0435 \u0433\u043e\u043b\u043e\u0432\u044b'], \n  '4' : ['EA', 'Extra Armour', '1\/10', '+1 \u043a \u0431\u0440\u043e\u043d\u0435 \u043a\u043e\u0440\u043f\u0443\u0441\u0430 '], \n  '5' : ['KH', 'Kenny Hope', '1\/50', '+2 \u043a \u0431\u0440\u043e\u043d\u0435 \u043a\u043e\u0440\u043f\u0443\u0441\u0430 '], \n  '6' : ['HM', 'Heavy Mass', '\u043a\u0440\u0430\u0439\u043d\u0435 \u0440\u0435\u0434\u043a\u043e', '+3 \u043a \u0431\u0440\u043e\u043d\u0435 \u043a\u043e\u0440\u043f\u0443\u0441\u0430 '], \n  '7' : ['EA', 'Extra Armour', '1\/10', '+1 \u043a \u0431\u0440\u043e\u043d\u0435 \u043a\u043e\u0440\u043f\u0443\u0441\u0430'], \n  '8' : ['BS', 'Bush Stump', '1\/50', '+2 \u043a \u0431\u0440\u043e\u043d\u0435 \u043d\u043e\u0433 '], \n  '9' : ['TB', 'Titanium Buttons', '\u043a\u0440\u0430\u0439\u043d\u0435 \u0440\u0435\u0434\u043a\u043e', '+3 \u043a \u0431\u0440\u043e\u043d\u0435 \u043d\u043e\u0433 '], \n  '10' : ['RC', 'Red Cross', '1\/10', '+1 \u043a \u0437\u0434\u043e\u0440\u043e\u0432\u044c\u044e'], \n  '11' : ['RC', 'Red Cross', '1\/10', '+1 \u043a \u0437\u0434\u043e\u0440\u043e\u0432\u044c\u044e'], \n  '12' : ['RC', 'Red Cross', '1\/10', '+1 \u043a \u0437\u0434\u043e\u0440\u043e\u0432\u044c\u044e'], \n  '13' : ['BT', 'Bushnell Trophy', '1\/50', '+2 \u043a \u043c\u0435\u0442\u043a\u043e\u0441\u0442\u0438'], \n  '14' : ['BE', 'Bushnell Elite', '\u043a\u0440\u0430\u0439\u043d\u0435 \u0440\u0435\u0434\u043a\u043e', '+3 \u043a \u043c\u0435\u0442\u043a\u043e\u0441\u0442\u0438'], \n  '15' : ['S', 'Strongman', '1\/50', '+2 \u043a \u0432\u044b\u043d\u043e\u0441\u043b\u0438\u0432\u043e\u0441\u0442\u0438'], \n  '16' : ['PA', 'Power Armour', '\u043a\u0440\u0430\u0439\u043d\u0435 \u0440\u0435\u0434\u043a\u043e', '+3 \u043a \u0432\u044b\u043d\u043e\u0441\u043b\u0438\u0432\u043e\u0441\u0442\u0438'], \n  '17' : ['PB', 'Power Boots', '1\/50', '+2 \u043a \u0441\u0438\u043b\u0435'], \n  '18' : ['HPB', 'Hardened Power Boots', '\u043a\u0440\u0430\u0439\u043d\u0435 \u0440\u0435\u0434\u043a\u043e', '+3 \u043a \u0441\u0438\u043b\u0435'], \n  '19' : ['CO', 'Clean Optics', '\u043a\u0440\u0430\u0439\u043d\u0435 \u0440\u0435\u0434\u043a\u043e', '+3% \u0442\u0435\u043f\u043b\u043e\u0432\u0438\u0437\u043e\u0440\u0430'], \n  '20': ['LV', 'Light Vision', '1\/50', '+2% \u0442\u0435\u043f\u043b\u043e\u0432\u0438\u0437\u043e\u0440\u0430'],\n  '21': ['EP', 'Extra Power', '1\/10', '+1% \u0442\u0435\u043f\u043b\u043e\u0432\u0438\u0437\u043e\u0440\u0430'],\n  '22': ['BT', 'Bushnell Trophy', '1\/50', '+2 \u043a \u043c\u0435\u0442\u043a\u043e\u0441\u0442\u0438'],\n  '23': ['MM', 'More mask', '1\/10', '+1% \u043c\u0430\u0441\u043a\u0438\u0440\u043e\u0432\u043a\u0438'],\n  '24': ['CS', 'Cigar Smoke', '1\/30', '+2% \u043c\u0430\u0441\u043a\u0438\u0440\u043e\u0432\u043a\u0438'],\n  '25': ['IM', 'Invisible Man', '\u043a\u0440\u0430\u0439\u043d\u0435 \u0440\u0435\u0434\u043a\u043e', '+3% \u043c\u0430\u0441\u043a\u0438\u0440\u043e\u0432\u043a\u0438'],\n  '26': ['S', 'Strongman', '1\/50', '+2 \u043a \u0432\u044b\u043d\u043e\u0441\u043b\u0438\u0432\u043e\u0441\u0442\u0438'],\n  '27': ['SS', 'Super Strongman', '\u043a\u0440\u0430\u0439\u043d\u0435 \u0440\u0435\u0434\u043a\u043e', '+3 \u043a \u0432\u044b\u043d\u043e\u0441\u043b\u0438\u0432\u043e\u0441\u0442\u0438']\n}\n","home\/home.js":"(function(panel) {\njQuery.extend(panel, {\n  home_durability: function() {\n    __panel.loadScript('data\/items.js', function() {\n    for(var i = 0; i < document.links.length; i++) {\n      if(document.links[i].href.indexOf('?item_id=') != -1 && (document.links[i].innerHTML.indexOf('<img') != -1 || document.links[i].innerHTML.indexOf('<IMG') != -1)) {\n        try {\n          var img = document.links[i].firstChild.tagName && document.links[i].firstChild.tagName.toUpperCase() == 'IMG'? document.links[i].firstChild: document.links[i].childNodes[1];\n          if(!img) continue;\n          var ar = img.title.split('\/');\n          if(ar.length < 2) continue;\n          for(var j = 0; j < ar.length; j++) {\n            if(ar[j] < 4) ar[j] = '<font style=\"color: red; font-weight: bold;\">' + ar[j] + '<\/font>';\n          };\n          var mods = document.links[i].href.match(\/item_id=([^=]+)&m=([0-9]+)\/);\n          var mod_add = '';\n          if(mods) {\n            var item_id = mods[1];\n            var mod = mods[2];\n              if(__panel.wear_string.indexOf(item_id) == -1) {\n                \/\/\u042d\u0442\u043e \u043e\u0440\u0443\u0436\u0438\u0435\n                if(__panel.mods_weapon[mod]) mod_add = '<font style=\"color: green; display: block; font-weight: bold; position: absolute; margin: -26px 0 0 17px; background: #ecffed; padding: 1px 1px 0px;\" title=\"' + __panel.mods_weapon[mod][1] + ', ' + __panel.mods_weapon[mod][3] + '; \u0447\u0430\u0441\u0442\u043e\u0442\u0430 \u043f\u043e\u044f\u0432\u043b\u0435\u043d\u0438\u044f: ' + __panel.mods_weapon[mod][2] + '\">' + __panel.mods_weapon[mod][0] + '<\/font>';\n              } else {\n                \/\/\u042d\u0442\u043e \u0431\u0440\u043e\u043d\u044f\n                if(__panel.mods_wear[mod]) mod_add = '<font style=\"color: green; display: block; font-weight: bold; position: absolute; margin: -26px 0 0 17px; background: #ecffed; padding: 1px 1px 0px;\" title=\"' + __panel.mods_wear[mod][1] + ', ' + __panel.mods_wear[mod][3] + '; \u0447\u0430\u0441\u0442\u043e\u0442\u0430 \u043f\u043e\u044f\u0432\u043b\u0435\u043d\u0438\u044f: ' + __panel.mods_wear[mod][2] + '\">' + __panel.mods_wear[mod][0] + '<\/font>';\n              };\n          }\n          document.links[i].parentNode.innerHTML += '<font style=\"display: block; text-align: center; font-size: 8px; color: #809980;\">' +  ar[0] + '\/' + ar[1] + (mod_add? mod_add: '') + '<\/font>';\n        } catch(e) {}\n      };\n    };\n    });\n  }\n});\n})(window.__panel);","home\/home_health.js":"(function(panel) {\njQuery.extend(panel, {\n  home_health: function() {\n    if(!window.hp_start) return;\n    __panel.get('health', function(data) {\n      var new_data = {hp_start: window.hp_start, hp_max: window.hp_max, hp_speed: window.hp_speed};\n      if(!data || data.hp_start != window.hp_start || data.hp_max != window.hp_max || data.hp_speed != window.hp_speed) {\n        __panel.triggerEvent('hp_update', new_data);\n      }\n      \/\/__panel.set('health', new_data);\n    });\n  }\n});\n})(window.__panel);","home\/home_widgets.js":"(function(panel) {\n  var progressBar, progressContainer, progressText, progressImg, timer100, timer80;\n  var healthUpdInterval;\n  var hp_current;\n  var timerType;\n  var health, options, widget;\n  \n  function home_formatTime(s) {\n    var h = Math.floor(s \/ 3600);\n    var m = Math.floor((s - h * 3600) \/ 60);\n    var s = s - h * 3600 - m * 60;\n    return (h > 0? (h < 9? '0' + h: h) + ':': '') + (m < 10? '0' + m: m) + ':' + (s < 10? '0' + s: s);\n  }\n\n  function home_health_timer() {\n    var width = Math.round(100 * 100 * hp_current \/ health.hp_max) \/ 100;\n    progressBar.css({width: width + '%'});\n    \/\/progressContainer.attr('title', width + '%');\n    if(width >= 80) {\n      if(progressImg.css('opacity') == 0.2) {\n        var width = parseInt(progressImg.css({opacity: 0.9}).attr('width'));\n        var count = 0;\n        var blinkInterval = setInterval(function() {\n          if(count > 5) {\n            clearInterval(blinkInterval);\n            return; \n          }\n          var curWidth = parseInt(progressImg.attr('width'));\n          if(curWidth == width) {\n            progressImg.css({margin: '-2px 0 0 -2px'}).attr('width', width + 4);\n          } else {\n            progressImg.css({margin: '0'}).attr('width', width);\n          }\n          count++;\n        }, 150);\n      }\n    } else {\n      progressImg.css({opacity: 0.2});\n    }\n    var text;\n    switch(timerType) {\n      case 0: \n        text = parseInt(width) + '%';\n      break;\n      case 1: \n        text = width > 80? home_formatTime(parseInt((health.hp_max - hp_current) \/ health.hp_speed)): home_formatTime(parseInt((health.hp_max - (health.hp_max * 20 \/ 100) - hp_current) \/ health.hp_speed));\n      break;\n      case 2:\n        text = home_formatTime(parseInt((health.hp_max - hp_current) \/ health.hp_speed));\n      break;\n    }\n    progressText.html(text);\n    progressBarText.html(text);\n    \n    hp_current += health.hp_speed;\n    if(hp_current >= health.hp_max) {\n      progressBar.css({width: '100%'});\n      progressText.html('100%');\n      progressBarText.html('100%');\n      health.hp_current = health.hp_start = health.hp_max;\n      if(options.autohide) widget.css({display: 'none'});\n      clearInterval(healthUpdInterval);\n      healthUpdInterval = false;\n      hp_current = false;\n      __panel.set('health', health);\n    } else {\n      health.hp_start = hp_current;\n      __panel.set('health', health);\n    }\n  }\n  \n  function home_health_progress(widget, init) {\n    if(((!hp_current && health.hp_start != health.hp_max) || hp_current < health.hp_start || init)) {\n      if(healthUpdInterval) {\n        clearInterval(healthUpdInterval);\n      } else {\n        if(health.hp_start \/ health.hp_max > 0.8) {\n          progressImg.css({opacity: 0.9});\n        }\n      }\n      widget.show();\n      var width = Math.round(100 * 100 * hp_current \/ health.hp_max) \/ 100;\n      progressBar.css({width: width + '%'});\n      \n      hp_current = health.hp_start;\n      healthUpdInterval = setInterval(home_health_timer, 1000);\n    }\n    if(health.hp_start == health.hp_max) {\n      progressBar.css({width: '100%'});\n      if(options.autohide) widget.css({display: 'none'});\n    }\n  }\n  \njQuery.extend(panel, {\n  home_health_widget: function(_widget, _options) {\n    widget = _widget;\n    options = _options;\n    progressImg = jQuery('<img src=\"' + __panel.path_to_theme() + '\/icons\/heart.png\" width=' + (options.size * 11 + 5) + '\"\/>');\n    widget.hide().css({\n      height: 'auto'\n    }).append(progressImg);\n    __panel.loadCSS('home\/home_widget.css');\n    progressBarText = jQuery('<div class=\"progress-bar-text\"><\/div>');\n    progressBar = jQuery('<div class=\"progress-bar\"><\/div>').css({\n      height: options.size * 10, \n      'line-height': options.size * 10 + 'px'\n    }).append(progressBarText);\n    progressText = jQuery('<div class=\"text\"><\/div>')\n      .css({'line-height': options.size * 10 + 'px'});\n    timerType = options.type;\n    \n    progressContainer = jQuery('<div class=\"progress-container\"><\/div>')\n      .append(progressBar)\n      .append(progressText)\n      .appendTo(widget)\n      .css({\n        height: options.size * 10\n      })\n      .attr('title', '\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0432\u0438\u0434\u0430')\n      .click(function() {\n        options.type++;\n        if(options.type > 2 || isNaN(options.type)) options.type = 0;\n        timerType = options.type;\n        __panel.setWidgetOptions(options, widget);\n        home_health_timer();\n        switch(timerType) {\n          case 0:\n            jQuery(this).attr('title', '\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u0432\u044b\u0437\u0434\u043e\u0440\u043e\u0432\u043b\u0435\u043d\u0438\u044f, \u043e\u0442 0% \u0434\u043e 100%');\n          break;\n          case 1:\n            jQuery(this).attr('title', '\u0422\u0430\u0439\u043c\u0435\u0440 \u0432\u044b\u0437\u0434\u043e\u0440\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0434\u043e 80%, \u0430 \u0437\u0430\u0442\u0435\u043c \u043e\u0441\u0442\u0430\u0432\u0448\u0435\u0435\u0441\u044f \u0432\u0440\u0435\u043c\u044f \u0432\u044b\u0437\u0434\u043e\u0440\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0434\u043e 100%');\n          break;\n          case 2:\n            jQuery(this).attr('title', '\u0422\u0430\u0439\u043c\u0435\u0440 \u0432\u044b\u0437\u0434\u043e\u0440\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0434\u043e 100%');\n          break;\n        }\n      });\n    timer100 = jQuery('<div class=\"timer100\"><\/div>');\n    timer80 = jQuery('<div class=\"timer80\"><\/div>');\n    jQuery('<div class=\"timers\"><\/div>')\n      .append(timer100)\n      .append(timer80)\n      .appendTo(widget);\n    switch(options.size) {\n      case 1:\n        progressBarText.css({'font-size': '10px'});\n        progressText.css({'font-size': '10px'});\n      break;\n      case 2:\n        progressBarText.css({'font-size': '12px'});\n        progressText.css({'font-size': '12px'});\n      break;\n    }\n    __panel.get('health', function(_health) {\n      health = _health;\n      home_health_progress(widget);\n    });\n    __panel.bind('hp_update', function(_health) {\n      __panel.set('health', _health);\n      health = _health;\n      home_health_progress(widget, true);\n    });\n  }\n});\n})(window.__panel);","lib\/crossclient.js":"var __crossClient = new function() {\n  var instance;\n  var windowID;\n  var events = [];\n  var lastEvents = {};\n  var holders = [];\n  \n  function __crossClient() {\n    if(!instance )\n      instance = this;\n    else return instance;\n    function clean_garbage(removeWindow) {\n      \/\/ clean event & window stack\n      var __holders = localStorage.event_holders;\n      if(__holders && __holders.charAt(0) == '[') __holders = JSON.parse(__holders);\n      else __holders = [];\n      if(removeWindow) {\n        localStorage.removeItem('events_' + windowID);\n        var index = __holders.indexOf(windowID);\n        if(index != -1) __holders.splice(index, 1);\n      };\n      \/\/ clean garbage\n      var cur_date = (new Date).getTime();\n      for(var i = 0; i < __holders.length; i++) {\n        var ar = __holders[i].split('_');\n        var window_time = parseInt(ar[0]);\n        if(cur_date - window_time > 86400000) { \/\/ \u0415\u0441\u043b\u0438 \u0437\u0430\u043f\u0438\u0441\u044c \u0441\u0442\u0430\u0440\u0448\u0435 \u0441\u0443\u0442\u043e\u043a, \u0443\u0434\u0430\u043b\u044f\u0435\u043c \u0437\u0430\u043f\u0438\u0441\u044c \u0438 \u0441\u0442\u0435\u043a \u0441\u043e\u0431\u044b\u0442\u0438\u0439\n          localStorage.removeItem('events_' + __holders[i]);\n          __holders.splice(i, 1);\n        }\n      };\n      localStorage.event_holders = JSON.stringify(__holders);\n      for(var key in localStorage) {\n        if(key.indexOf('events_') == 0) {\n          var ar = key.split('_');\n          if(parseInt(ar[2]) < cur_date - 86400000) {\n            \/\/ \u0423\u0434\u0430\u043b\u044f\u0435\u043c \u043f\u043e \u043e\u0434\u043d\u043e\u0439 \u043b\u0435\u0432\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438 \u0437\u0430 \u0440\u0430\u0437\n            localStorage.removeItem(key);\n            break;\n          }\n        }\n      }\n    };\n    \n    setTimeout(clean_garbage, 60000);\n    \n    window.addEventListener('unload', function(event) {\n      clean_garbage(true);\n    }, false);\n\n    window.addEventListener('storage', function(event) {\n      if(event.key.indexOf('events_') != -1) {\n        var event_stack_id = event.key.substr(7);\n        if(event_stack_id == windowID) return;\n        \n        var eventStack = JSON.parse(event.newValue);\n        \n        if(!eventStack) return;\n        \n        var runEvents = [];\n        \n        for(var i = 0; i < eventStack.length; i++) {\n          if(lastEvents[event_stack_id] && lastEvents[event_stack_id] == eventStack[i].msgID) break;\n          runEvents.push(eventStack[i]);\n        };\n        if(eventStack.length) {\n          lastEvents[event_stack_id] = eventStack[0].msgID;\n        };\n        for(var i = runEvents.length - 1; i >= 0; i--) {\n          parent.postMessage(JSON.stringify(runEvents[i]), '*');\n        };\n      }\n    }, false);\n\n    window.addEventListener('message', function(e) {\n      \/\/ checking origin & domain\n     var url;\n      if(e.domain) url = e.domain;\n      else if(e.origin) url = e.origin;\n      if(!url.match(\/[^\\.]*[\\.]?ganjawars.ru\/) && !url.match(\/[^\\.]*[\\.]?gwpanel.org\/)) {\n        throw('Error receiving message, wrong domain: ' + url);\n        return false;\n      }\n      \n      \/\/ parsing data\n      var data = JSON.parse(e.data);\n      \/\/ handling data\n      if(data.type == 'set') {\n        \/\/ set storage item and post callback\n        var val = localStorage.setItem(data.key, data.value);\n        parent.postMessage(JSON.stringify({'type': 'callback', 'msgID': data.msgID, 'retval': val}), '*');\n      } else if(data.type == 'get') {\n        \/\/ get storage item and post callback\n        var val = localStorage.getItem(data.key);\n        parent.postMessage(JSON.stringify({'type': 'callback', 'msgID': data.msgID, 'retval': val}), '*');\n      } else if(data.type == 'del') {\n        \/\/ get storage item and post callback\n        localStorage.removeItem(data.key);\n        parent.postMessage(JSON.stringify({'type': 'callback', 'msgID': data.msgID, 'retval': val}), '*');\n      } else if(data.type == 'event') {\n        \n        \/\/ handling events\n        var __event = {\n          'type': 'event',\n          'event': data.event,\n          'data': data.data,\n          'msgID': windowID + '_' + data.msgID\n        };\n        \n        \/\/ push event in current window event stack\n        events.unshift(__event);\n        \n        \/\/ clean the end of the events stack for better perfomance [on huge events number]\n        while(events.length > 100) {\n          events.pop();\n        };\n        \n        \/\/ set current window events stack\n        var key = 'events_' + windowID;\n        \n        localStorage.setItem(key, JSON.stringify(events));\n        \n        \/\/ return event to parent\n        parent.postMessage(JSON.stringify(__event), '*');\n      };\n        \/\/this.parseMessage(e.data, e.source);\n    }, false);\n    \n    holders = localStorage.event_holders;\n    if(holders && holders.charAt(0) == '[') holders = JSON.parse(holders);\n    if(!holders || !holders.push) holders = [];\n\n    windowID = (holders.length > 0? parseInt(holders[holders.length - 1].split('_', 1)[0]) + 1: '0') + '_' + (new Date).getTime();\n\n    holders.push(windowID);\n    localStorage.event_holders = JSON.stringify(holders);\n    \n    \/\/ initializing current event call stack and set last event ID to first events in stack (for not to run all previous events)\n    for(var i = 0; i < holders.length; i++) {\n      if(holders[i] == windowID) continue;\n      var item = localStorage.getItem('events_' + holders[i]);\n      if(item) {\n        var eventStack = JSON.parse(item);\n        if(eventStack.length) {\n          lastEvents[holders[i]] = eventStack[0].msgID;\n        }\n      }\n    };\n    parent.postMessage(JSON.stringify({'type': 'windowID', 'value': windowID}), '*');\n  };\n  return __crossClient;\n};\n\nif(window.parent && window.parent != window) window.crossClient = new __crossClient;\nif(window.crossClientCallback) {\n  window.crossClientCallback();\n}\n","lib\/crosswindow.js":"var __crossWindow = new function() {\n  var instance;\n  var postStack = {};\n  var listenersStack = {};\n  var frame;\n  var domain;\n  \n  function dispatchException(e, comment) {\n    if(window.console) console.log(comment, e);\n  }\n  \n  \/\/ Sending message to subframe\n  function postMessage(message, msgID, callback) {\n    \/\/\/ \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c ID \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f, \u0434\u043e \u0442\u0435\u0445 \u043f\u043e\u0440 \u043f\u043e\u043a\u0430 \u0442\u0430\u043a\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0435\u0441\u0442\u044c, \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043a \u0430\u0439\u0434\u0438\u0448\u043d\u0438\u043a\u0443 \u0438\u043d\u0434\u0435\u043a\u0441. \u0412\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u044f \u0430\u0439\u0434\u0438\u0448\u043d\u0438\u043a\u043e\u0432 \u043c\u0430\u043b\u0430, \u043d\u043e \u043e\u043d\u0430 \u0435\u0441\u0442\u044c.\n    var index = 0;\n    while(postStack[msgID]) {\n      msgID += index++;\n    }\n    \n    message['msgID'] = msgID;\n    \/\/\/ \u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c \u0432 \u0441\u0442\u0435\u043a \u0432\u044b\u0437\u043e\u0432\u043e\u0432 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435\n    postStack[msgID] = message;\n    postStack[msgID]['callback'] = callback;\n    \n    \/\/\/ \u041f\u0435\u0440\u0435\u0434\u0430\u0451\u043c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0444\u0440\u0435\u0439\u043c\u0443\n    frame.contentWindow.postMessage(JSON.stringify(message), '*');\n  }\n\n  function fireEvent(type, data) {\n    if(typeof(listenersStack['*'] != 'undefined')) {\n      for(var key in listenersStack['*']) {\n        try {\n          listenersStack['*'][key]['callback'](type, data);\n        } catch(e) {\n          dispatchException(e, 'crossWindow FireEvent error: ');\n        }\n      }\n    }\n    if(typeof(listenersStack[type]) == 'undefined') return;\n    for(var key in listenersStack[type]) {\n      if(typeof(listenersStack[type][key]) != 'object') return;\n      try {\n        listenersStack[type][key]['callback'](data);\n      } catch(e) {\n        dispatchException(e, 'crossWindow FireEvent error: ');\n      }\n    }\n  }\n\n  \/\/ \u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440\n  function __crossWindow(container, readyCallback, __domain) {\n    if(!instance )\n      instance = this;\n    else return instance;\n    if(!container) throw('You should specify container URL');\n    if(__domain) {\n      domain = __domain;\n    } else {\n      \/\/\/ \u041e\u0431\u0440\u0435\u0437\u0430\u0435\u043c \u0434\u043e\u043c\u0435\u043d \u0434\u043e \u0432\u0442\u043e\u0440\u043e\u0433\u043e \u0443\u0440\u043e\u0432\u043d\u044f\n      var ar = document.domain.split('.');\n      domain = ar.slice(ar.length - 2).join('.');\n    }\n    var __frame = jQuery('<iframe id=\"crossWindowContainer\" src=\"http:\/\/' + \n                          domain + container + '\"><\/iframe>')\n                  .css({'display': 'none' })\n                  .appendTo(document.documentElement);\n    frame = __frame[0];\n  \n    window.addEventListener('message', function(e) {\n      var url;\n      if(e.domain) url = e.domain;\n      else if(e.origin) url = e.origin;\n      if(!url.match(new RegExp('[^\\.]*[\\.]?' + domain))) return false;\n      var data = JSON.parse(e.data);\n      \n      if(data.type == 'callback') {\n        if(postStack[data.msgID] && postStack[data.msgID]['callback']) {\n          try {\n            postStack[data.msgID]['callback'](typeof(data.retval) == 'undefined'? null: JSON.parse(data.retval));\n          } catch(e) {\n            dispatchException(e, 'crossWindow Callback error: ');\n          }\n        }\n      } else if(data.type == 'event') {\n        fireEvent(data.event, JSON.parse(data.data));\n      } else if(data.type == 'windowID') {\n        instance.windowID = data.value;\n        if(readyCallback) readyCallback();\n\n        instance.set('focused', data.value);\n      }\n    });\n  }\n  \n  \/\/ Getting value from storage (asynchronous)\n  __crossWindow.prototype.get = function(key, callback) {\n    var callerFunc = (new Error).stack.split(\"\\n\")[1];\n    var msgID = (callerFunc.substring(0, callerFunc.indexOf(\"@\")).replace(\/[<>]+\/g, '') || \"anoynmous\") + '_' + (new Date).getTime();\n    \n    postMessage({'type': 'get', 'key': key}, msgID, callback);\n  };\n  \n  \/\/ Getting value from storage (asynchronous)\n  __crossWindow.prototype.set = function(key, value, callback) {\n    var callerFunc = (new Error).stack.split(\"\\n\")[1];\n    var msgID = (callerFunc.substring(0, callerFunc.indexOf(\"@\")).replace(\/[<>]+\/g, '') || \"anoynmous\") + '_' + (new Date).getTime();\n    \n    postMessage({'type': 'set', 'key': key, 'value': JSON.stringify(value)}, msgID, callback);\n    \n  };\n\n  \/\/ Removinb value from storage (asynchronous)\n  __crossWindow.prototype.del = function(key, callback) {\n    var callerFunc = (new Error).stack.split(\"\\n\")[1];\n    var msgID = (callerFunc.substring(0, callerFunc.indexOf(\"@\")).replace(\/[<>]+\/g, '') || \"anoynmous\") + '_' + (new Date).getTime();\n    \n    postMessage({'type': 'del', 'key': key}, msgID, callback);\n  };\n  \n  \/\/ Binding event to callback function, function returns unique event listener ID\n  __crossWindow.prototype.bind = function(type, callback, listenerID) {\n    if(!listenersStack[type]) listenersStack[type] = {};\n\n    if(!listenerID) {\n      var callerFunc = (new Error).stack.split(\"\\n\")[1];\n      var listenerID = (callerFunc.substring(0, callerFunc.indexOf(\"@\")).replace(\/[<>]+\/g, '') || \"anoynmous\") + '_' + (new Date).getTime();\n      var index = 0;\n      while(listenersStack[type][listenerID]) {\n        listenerID += index++;\n      }\n    }\n    listenersStack[type][listenerID] = {\n      'callback': callback \n    };\n    return listenerID;\n  };\n  \n  \/\/ Unbinding event by listener ID, returned by bind()\n  __crossWindow.prototype.unbind = function(type, listenerID) {\n    listenersStack[type][listenerID] = null;\n  };\n  \n  __crossWindow.prototype.triggerEvent = function(type, data, local) {\n    if(local) {\n      fireEvent(type, data);\n    } else {\n      var callerFunc = String(arguments.callee.caller);\n      var msgID = (callerFunc.substring(8, callerFunc.indexOf(\"(\")).replace(' ', '') || \"anoynmous\") + '_' + (new Date).getTime();\n      \n      postMessage({'type': 'event', 'event': type, 'data': JSON.stringify(data)}, msgID);\n    }\n  };\n   \n  return __crossWindow;\n}\n\n","lib\/foobar.js":"__panel.__foo_bar_script = 'foo bar';","lib\/jquery-ui.custom.js":"\/*!\n * jQuery UI 1.8.18\n *\n * Copyright 2011, AUTHORS.txt (http:\/\/jqueryui.com\/about)\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http:\/\/jquery.org\/license\n *\n * http:\/\/docs.jquery.com\/UI\n *\/\n(function( $, undefined ) {\n\n\/\/ prevent duplicate loading\n\/\/ this is only a problem because we proxy existing functions\n\/\/ and we don't want to double proxy them\n$.ui = $.ui || {};\nif ( $.ui.version ) {\n\treturn;\n}\n\n$.extend( $.ui, {\n\tversion: \"1.8.18\",\n\n\tkeyCode: {\n\t\tALT: 18,\n\t\tBACKSPACE: 8,\n\t\tCAPS_LOCK: 20,\n\t\tCOMMA: 188,\n\t\tCOMMAND: 91,\n\t\tCOMMAND_LEFT: 91, \/\/ COMMAND\n\t\tCOMMAND_RIGHT: 93,\n\t\tCONTROL: 17,\n\t\tDELETE: 46,\n\t\tDOWN: 40,\n\t\tEND: 35,\n\t\tENTER: 13,\n\t\tESCAPE: 27,\n\t\tHOME: 36,\n\t\tINSERT: 45,\n\t\tLEFT: 37,\n\t\tMENU: 93, \/\/ COMMAND_RIGHT\n\t\tNUMPAD_ADD: 107,\n\t\tNUMPAD_DECIMAL: 110,\n\t\tNUMPAD_DIVIDE: 111,\n\t\tNUMPAD_ENTER: 108,\n\t\tNUMPAD_MULTIPLY: 106,\n\t\tNUMPAD_SUBTRACT: 109,\n\t\tPAGE_DOWN: 34,\n\t\tPAGE_UP: 33,\n\t\tPERIOD: 190,\n\t\tRIGHT: 39,\n\t\tSHIFT: 16,\n\t\tSPACE: 32,\n\t\tTAB: 9,\n\t\tUP: 38,\n\t\tWINDOWS: 91 \/\/ COMMAND\n\t}\n});\n\n\/\/ plugins\n$.fn.extend({\n\tpropAttr: $.fn.prop || $.fn.attr,\n\n\t_focus: $.fn.focus,\n\tfocus: function( delay, fn ) {\n\t\treturn typeof delay === \"number\" ?\n\t\t\tthis.each(function() {\n\t\t\t\tvar elem = this;\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t$( elem ).focus();\n\t\t\t\t\tif ( fn ) {\n\t\t\t\t\t\tfn.call( elem );\n\t\t\t\t\t}\n\t\t\t\t}, delay );\n\t\t\t}) :\n\t\t\tthis._focus.apply( this, arguments );\n\t},\n\n\tscrollParent: function() {\n\t\tvar scrollParent;\n\t\tif (($.browser.msie && (\/(static|relative)\/).test(this.css('position'))) || (\/absolute\/).test(this.css('position'))) {\n\t\t\tscrollParent = this.parents().filter(function() {\n\t\t\t\treturn (\/(relative|absolute|fixed)\/).test($.curCSS(this,'position',1)) && (\/(auto|scroll)\/).test($.curCSS(this,'overflow',1)+$.curCSS(this,'overflow-y',1)+$.curCSS(this,'overflow-x',1));\n\t\t\t}).eq(0);\n\t\t} else {\n\t\t\tscrollParent = this.parents().filter(function() {\n\t\t\t\treturn (\/(auto|scroll)\/).test($.curCSS(this,'overflow',1)+$.curCSS(this,'overflow-y',1)+$.curCSS(this,'overflow-x',1));\n\t\t\t}).eq(0);\n\t\t}\n\n\t\treturn (\/fixed\/).test(this.css('position')) || !scrollParent.length ? $(document) : scrollParent;\n\t},\n\n\tzIndex: function( zIndex ) {\n\t\tif ( zIndex !== undefined ) {\n\t\t\treturn this.css( \"zIndex\", zIndex );\n\t\t}\n\n\t\tif ( this.length ) {\n\t\t\tvar elem = $( this[ 0 ] ), position, value;\n\t\t\twhile ( elem.length && elem[ 0 ] !== document ) {\n\t\t\t\t\/\/ Ignore z-index if position is set to a value where z-index is ignored by the browser\n\t\t\t\t\/\/ This makes behavior of this function consistent across browsers\n\t\t\t\t\/\/ WebKit always returns auto if the element is positioned\n\t\t\t\tposition = elem.css( \"position\" );\n\t\t\t\tif ( position === \"absolute\" || position === \"relative\" || position === \"fixed\" ) {\n\t\t\t\t\t\/\/ IE returns 0 when zIndex is not specified\n\t\t\t\t\t\/\/ other browsers return a string\n\t\t\t\t\t\/\/ we ignore the case of nested elements with an explicit value of 0\n\t\t\t\t\t\/\/ <div style=\"z-index: -10;\"><div style=\"z-index: 0;\"><\/div><\/div>\n\t\t\t\t\tvalue = parseInt( elem.css( \"zIndex\" ), 10 );\n\t\t\t\t\tif ( !isNaN( value ) && value !== 0 ) {\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telem = elem.parent();\n\t\t\t}\n\t\t}\n\n\t\treturn 0;\n\t},\n\n\tdisableSelection: function() {\n\t\treturn this.bind( ( $.support.selectstart ? \"selectstart\" : \"mousedown\" ) +\n\t\t\t\".ui-disableSelection\", function( event ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t});\n\t},\n\n\tenableSelection: function() {\n\t\treturn this.unbind( \".ui-disableSelection\" );\n\t}\n});\n\n$.each( [ \"Width\", \"Height\" ], function( i, name ) {\n\tvar side = name === \"Width\" ? [ \"Left\", \"Right\" ] : [ \"Top\", \"Bottom\" ],\n\t\ttype = name.toLowerCase(),\n\t\torig = {\n\t\t\tinnerWidth: $.fn.innerWidth,\n\t\t\tinnerHeight: $.fn.innerHeight,\n\t\t\touterWidth: $.fn.outerWidth,\n\t\t\touterHeight: $.fn.outerHeight\n\t\t};\n\n\tfunction reduce( elem, size, border, margin ) {\n\t\t$.each( side, function() {\n\t\t\tsize -= parseFloat( $.curCSS( elem, \"padding\" + this, true) ) || 0;\n\t\t\tif ( border ) {\n\t\t\t\tsize -= parseFloat( $.curCSS( elem, \"border\" + this + \"Width\", true) ) || 0;\n\t\t\t}\n\t\t\tif ( margin ) {\n\t\t\t\tsize -= parseFloat( $.curCSS( elem, \"margin\" + this, true) ) || 0;\n\t\t\t}\n\t\t});\n\t\treturn size;\n\t}\n\n\t$.fn[ \"inner\" + name ] = function( size ) {\n\t\tif ( size === undefined ) {\n\t\t\treturn orig[ \"inner\" + name ].call( this );\n\t\t}\n\n\t\treturn this.each(function() {\n\t\t\t$( this ).css( type, reduce( this, size ) + \"px\" );\n\t\t});\n\t};\n\n\t$.fn[ \"outer\" + name] = function( size, margin ) {\n\t\tif ( typeof size !== \"number\" ) {\n\t\t\treturn orig[ \"outer\" + name ].call( this, size );\n\t\t}\n\n\t\treturn this.each(function() {\n\t\t\t$( this).css( type, reduce( this, size, true, margin ) + \"px\" );\n\t\t});\n\t};\n});\n\n\/\/ selectors\nfunction focusable( element, isTabIndexNotNaN ) {\n\tvar nodeName = element.nodeName.toLowerCase();\n\tif ( \"area\" === nodeName ) {\n\t\tvar map = element.parentNode,\n\t\t\tmapName = map.name,\n\t\t\timg;\n\t\tif ( !element.href || !mapName || map.nodeName.toLowerCase() !== \"map\" ) {\n\t\t\treturn false;\n\t\t}\n\t\timg = $( \"img[usemap=#\" + mapName + \"]\" )[0];\n\t\treturn !!img && visible( img );\n\t}\n\treturn ( \/input|select|textarea|button|object\/.test( nodeName )\n\t\t? !element.disabled\n\t\t: \"a\" == nodeName\n\t\t\t? element.href || isTabIndexNotNaN\n\t\t\t: isTabIndexNotNaN)\n\t\t\/\/ the element and all of its ancestors must be visible\n\t\t&& visible( element );\n}\n\nfunction visible( element ) {\n\treturn !$( element ).parents().andSelf().filter(function() {\n\t\treturn $.curCSS( this, \"visibility\" ) === \"hidden\" ||\n\t\t\t$.expr.filters.hidden( this );\n\t}).length;\n}\n\n$.extend( $.expr[ \":\" ], {\n\tdata: function( elem, i, match ) {\n\t\treturn !!$.data( elem, match[ 3 ] );\n\t},\n\n\tfocusable: function( element ) {\n\t\treturn focusable( element, !isNaN( $.attr( element, \"tabindex\" ) ) );\n\t},\n\n\ttabbable: function( element ) {\n\t\tvar tabIndex = $.attr( element, \"tabindex\" ),\n\t\t\tisTabIndexNaN = isNaN( tabIndex );\n\t\treturn ( isTabIndexNaN || tabIndex >= 0 ) && focusable( element, !isTabIndexNaN );\n\t}\n});\n\n\/\/ support\n$(function() {\n\tvar body = document.body,\n\t\tdiv = body.appendChild( div = document.createElement( \"div\" ) );\n\n\t\/\/ access offsetHeight before setting the style to prevent a layout bug\n\t\/\/ in IE 9 which causes the elemnt to continue to take up space even\n\t\/\/ after it is removed from the DOM (#8026)\n\tdiv.offsetHeight;\n\n\t$.extend( div.style, {\n\t\tminHeight: \"100px\",\n\t\theight: \"auto\",\n\t\tpadding: 0,\n\t\tborderWidth: 0\n\t});\n\n\t$.support.minHeight = div.offsetHeight === 100;\n\t$.support.selectstart = \"onselectstart\" in div;\n\n\t\/\/ set display to none to avoid a layout bug in IE\n\t\/\/ http:\/\/dev.jquery.com\/ticket\/4014\n\tbody.removeChild( div ).style.display = \"none\";\n});\n\n\n\n\n\n\/\/ deprecated\n$.extend( $.ui, {\n\t\/\/ $.ui.plugin is deprecated.  Use the proxy pattern instead.\n\tplugin: {\n\t\tadd: function( module, option, set ) {\n\t\t\tvar proto = $.ui[ module ].prototype;\n\t\t\tfor ( var i in set ) {\n\t\t\t\tproto.plugins[ i ] = proto.plugins[ i ] || [];\n\t\t\t\tproto.plugins[ i ].push( [ option, set[ i ] ] );\n\t\t\t}\n\t\t},\n\t\tcall: function( instance, name, args ) {\n\t\t\tvar set = instance.plugins[ name ];\n\t\t\tif ( !set || !instance.element[ 0 ].parentNode ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tfor ( var i = 0; i < set.length; i++ ) {\n\t\t\t\tif ( instance.options[ set[ i ][ 0 ] ] ) {\n\t\t\t\t\tset[ i ][ 1 ].apply( instance.element, args );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\n\t\/\/ will be deprecated when we switch to jQuery 1.4 - use jQuery.contains()\n\tcontains: function( a, b ) {\n\t\treturn document.compareDocumentPosition ?\n\t\t\ta.compareDocumentPosition( b ) & 16 :\n\t\t\ta !== b && a.contains( b );\n\t},\n\t\n\t\/\/ only used by resizable\n\thasScroll: function( el, a ) {\n\t\n\t\t\/\/If overflow is hidden, the element might have extra content, but the user wants to hide it\n\t\tif ( $( el ).css( \"overflow\" ) === \"hidden\") {\n\t\t\treturn false;\n\t\t}\n\t\n\t\tvar scroll = ( a && a === \"left\" ) ? \"scrollLeft\" : \"scrollTop\",\n\t\t\thas = false;\n\t\n\t\tif ( el[ scroll ] > 0 ) {\n\t\t\treturn true;\n\t\t}\n\t\n\t\t\/\/ TODO: determine which cases actually cause this to happen\n\t\t\/\/ if the element doesn't have the scroll set, see if it's possible to\n\t\t\/\/ set the scroll\n\t\tel[ scroll ] = 1;\n\t\thas = ( el[ scroll ] > 0 );\n\t\tel[ scroll ] = 0;\n\t\treturn has;\n\t},\n\t\n\t\/\/ these are odd functions, fix the API or move into individual plugins\n\tisOverAxis: function( x, reference, size ) {\n\t\t\/\/Determines when x coordinate is over \"b\" element axis\n\t\treturn ( x > reference ) && ( x < ( reference + size ) );\n\t},\n\tisOver: function( y, x, top, left, height, width ) {\n\t\t\/\/Determines when x, y coordinates is over \"b\" element\n\t\treturn $.ui.isOverAxis( y, top, height ) && $.ui.isOverAxis( x, left, width );\n\t}\n});\n\n})( jQuery );\n\/*!\n * jQuery UI Widget 1.8.18\n *\n * Copyright 2011, AUTHORS.txt (http:\/\/jqueryui.com\/about)\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http:\/\/jquery.org\/license\n *\n * http:\/\/docs.jquery.com\/UI\/Widget\n *\/\n(function( $, undefined ) {\n\n\/\/ jQuery 1.4+\nif ( $.cleanData ) {\n\tvar _cleanData = $.cleanData;\n\t$.cleanData = function( elems ) {\n\t\tfor ( var i = 0, elem; (elem = elems[i]) != null; i++ ) {\n\t\t\ttry {\n\t\t\t\t$( elem ).triggerHandler( \"remove\" );\n\t\t\t\/\/ http:\/\/bugs.jquery.com\/ticket\/8235\n\t\t\t} catch( e ) {}\n\t\t}\n\t\t_cleanData( elems );\n\t};\n} else {\n\tvar _remove = $.fn.remove;\n\t$.fn.remove = function( selector, keepData ) {\n\t\treturn this.each(function() {\n\t\t\tif ( !keepData ) {\n\t\t\t\tif ( !selector || $.filter( selector, [ this ] ).length ) {\n\t\t\t\t\t$( \"*\", this ).add( [ this ] ).each(function() {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t$( this ).triggerHandler( \"remove\" );\n\t\t\t\t\t\t\/\/ http:\/\/bugs.jquery.com\/ticket\/8235\n\t\t\t\t\t\t} catch( e ) {}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn _remove.call( $(this), selector, keepData );\n\t\t});\n\t};\n}\n\n$.widget = function( name, base, prototype ) {\n\tvar namespace = name.split( \".\" )[ 0 ],\n\t\tfullName;\n\tname = name.split( \".\" )[ 1 ];\n\tfullName = namespace + \"-\" + name;\n\n\tif ( !prototype ) {\n\t\tprototype = base;\n\t\tbase = $.Widget;\n\t}\n\n\t\/\/ create selector for plugin\n\t$.expr[ \":\" ][ fullName ] = function( elem ) {\n\t\treturn !!$.data( elem, name );\n\t};\n\n\t$[ namespace ] = $[ namespace ] || {};\n\t$[ namespace ][ name ] = function( options, element ) {\n\t\t\/\/ allow instantiation without initializing for simple inheritance\n\t\tif ( arguments.length ) {\n\t\t\tthis._createWidget( options, element );\n\t\t}\n\t};\n\n\tvar basePrototype = new base();\n\t\/\/ we need to make the options hash a property directly on the new instance\n\t\/\/ otherwise we'll modify the options hash on the prototype that we're\n\t\/\/ inheriting from\n\/\/\t$.each( basePrototype, function( key, val ) {\n\/\/\t\tif ( $.isPlainObject(val) ) {\n\/\/\t\t\tbasePrototype[ key ] = $.extend( {}, val );\n\/\/\t\t}\n\/\/\t});\n\tbasePrototype.options = $.extend( true, {}, basePrototype.options );\n\t$[ namespace ][ name ].prototype = $.extend( true, basePrototype, {\n\t\tnamespace: namespace,\n\t\twidgetName: name,\n\t\twidgetEventPrefix: $[ namespace ][ name ].prototype.widgetEventPrefix || name,\n\t\twidgetBaseClass: fullName\n\t}, prototype );\n\n\t$.widget.bridge( name, $[ namespace ][ name ] );\n};\n\n$.widget.bridge = function( name, object ) {\n\t$.fn[ name ] = function( options ) {\n\t\tvar isMethodCall = typeof options === \"string\",\n\t\t\targs = Array.prototype.slice.call( arguments, 1 ),\n\t\t\treturnValue = this;\n\n\t\t\/\/ allow multiple hashes to be passed on init\n\t\toptions = !isMethodCall && args.length ?\n\t\t\t$.extend.apply( null, [ true, options ].concat(args) ) :\n\t\t\toptions;\n\n\t\t\/\/ prevent calls to internal methods\n\t\tif ( isMethodCall && options.charAt( 0 ) === \"_\" ) {\n\t\t\treturn returnValue;\n\t\t}\n\n\t\tif ( isMethodCall ) {\n\t\t\tthis.each(function() {\n\t\t\t\tvar instance = $.data( this, name ),\n\t\t\t\t\tmethodValue = instance && $.isFunction( instance[options] ) ?\n\t\t\t\t\t\tinstance[ options ].apply( instance, args ) :\n\t\t\t\t\t\tinstance;\n\t\t\t\t\/\/ TODO: add this back in 1.9 and use $.error() (see #5972)\n\/\/\t\t\t\tif ( !instance ) {\n\/\/\t\t\t\t\tthrow \"cannot call methods on \" + name + \" prior to initialization; \" +\n\/\/\t\t\t\t\t\t\"attempted to call method '\" + options + \"'\";\n\/\/\t\t\t\t}\n\/\/\t\t\t\tif ( !$.isFunction( instance[options] ) ) {\n\/\/\t\t\t\t\tthrow \"no such method '\" + options + \"' for \" + name + \" widget instance\";\n\/\/\t\t\t\t}\n\/\/\t\t\t\tvar methodValue = instance[ options ].apply( instance, args );\n\t\t\t\tif ( methodValue !== instance && methodValue !== undefined ) {\n\t\t\t\t\treturnValue = methodValue;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tthis.each(function() {\n\t\t\t\tvar instance = $.data( this, name );\n\t\t\t\tif ( instance ) {\n\t\t\t\t\tinstance.option( options || {} )._init();\n\t\t\t\t} else {\n\t\t\t\t\t$.data( this, name, new object( options, this ) );\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn returnValue;\n\t};\n};\n\n$.Widget = function( options, element ) {\n\t\/\/ allow instantiation without initializing for simple inheritance\n\tif ( arguments.length ) {\n\t\tthis._createWidget( options, element );\n\t}\n};\n\n$.Widget.prototype = {\n\twidgetName: \"widget\",\n\twidgetEventPrefix: \"\",\n\toptions: {\n\t\tdisabled: false\n\t},\n\t_createWidget: function( options, element ) {\n\t\t\/\/ $.widget.bridge stores the plugin instance, but we do it anyway\n\t\t\/\/ so that it's stored even before the _create function runs\n\t\t$.data( element, this.widgetName, this );\n\t\tthis.element = $( element );\n\t\tthis.options = $.extend( true, {},\n\t\t\tthis.options,\n\t\t\tthis._getCreateOptions(),\n\t\t\toptions );\n\n\t\tvar self = this;\n\t\tthis.element.bind( \"remove.\" + this.widgetName, function() {\n\t\t\tself.destroy();\n\t\t});\n\n\t\tthis._create();\n\t\tthis._trigger( \"create\" );\n\t\tthis._init();\n\t},\n\t_getCreateOptions: function() {\n\t\treturn $.metadata && $.metadata.get( this.element[0] )[ this.widgetName ];\n\t},\n\t_create: function() {},\n\t_init: function() {},\n\n\tdestroy: function() {\n\t\tthis.element\n\t\t\t.unbind( \".\" + this.widgetName )\n\t\t\t.removeData( this.widgetName );\n\t\tthis.widget()\n\t\t\t.unbind( \".\" + this.widgetName )\n\t\t\t.removeAttr( \"aria-disabled\" )\n\t\t\t.removeClass(\n\t\t\t\tthis.widgetBaseClass + \"-disabled \" +\n\t\t\t\t\"ui-state-disabled\" );\n\t},\n\n\twidget: function() {\n\t\treturn this.element;\n\t},\n\n\toption: function( key, value ) {\n\t\tvar options = key;\n\n\t\tif ( arguments.length === 0 ) {\n\t\t\t\/\/ don't return a reference to the internal hash\n\t\t\treturn $.extend( {}, this.options );\n\t\t}\n\n\t\tif  (typeof key === \"string\" ) {\n\t\t\tif ( value === undefined ) {\n\t\t\t\treturn this.options[ key ];\n\t\t\t}\n\t\t\toptions = {};\n\t\t\toptions[ key ] = value;\n\t\t}\n\n\t\tthis._setOptions( options );\n\n\t\treturn this;\n\t},\n\t_setOptions: function( options ) {\n\t\tvar self = this;\n\t\t$.each( options, function( key, value ) {\n\t\t\tself._setOption( key, value );\n\t\t});\n\n\t\treturn this;\n\t},\n\t_setOption: function( key, value ) {\n\t\tthis.options[ key ] = value;\n\n\t\tif ( key === \"disabled\" ) {\n\t\t\tthis.widget()\n\t\t\t\t[ value ? \"addClass\" : \"removeClass\"](\n\t\t\t\t\tthis.widgetBaseClass + \"-disabled\" + \" \" +\n\t\t\t\t\t\"ui-state-disabled\" )\n\t\t\t\t.attr( \"aria-disabled\", value );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tenable: function() {\n\t\treturn this._setOption( \"disabled\", false );\n\t},\n\tdisable: function() {\n\t\treturn this._setOption( \"disabled\", true );\n\t},\n\n\t_trigger: function( type, event, data ) {\n\t\tvar prop, orig,\n\t\t\tcallback = this.options[ type ];\n\n\t\tdata = data || {};\n\t\tevent = $.Event( event );\n\t\tevent.type = ( type === this.widgetEventPrefix ?\n\t\t\ttype :\n\t\t\tthis.widgetEventPrefix + type ).toLowerCase();\n\t\t\/\/ the original event may come from any element\n\t\t\/\/ so we need to reset the target on the new event\n\t\tevent.target = this.element[ 0 ];\n\n\t\t\/\/ copy original event properties over to the new event\n\t\torig = event.originalEvent;\n\t\tif ( orig ) {\n\t\t\tfor ( prop in orig ) {\n\t\t\t\tif ( !( prop in event ) ) {\n\t\t\t\t\tevent[ prop ] = orig[ prop ];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.element.trigger( event, data );\n\n\t\treturn !( $.isFunction(callback) &&\n\t\t\tcallback.call( this.element[0], event, data ) === false ||\n\t\t\tevent.isDefaultPrevented() );\n\t}\n};\n\n})( jQuery );\n\/*!\n * jQuery UI Mouse 1.8.18\n *\n * Copyright 2011, AUTHORS.txt (http:\/\/jqueryui.com\/about)\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http:\/\/jquery.org\/license\n *\n * http:\/\/docs.jquery.com\/UI\/Mouse\n *\n * Depends:\n *\tjquery.ui.widget.js\n *\/\n(function( $, undefined ) {\n\nvar mouseHandled = false;\n$( document ).mouseup( function( e ) {\n\tmouseHandled = false;\n});\n\n$.widget(\"ui.mouse\", {\n\toptions: {\n\t\tcancel: ':input,option',\n\t\tdistance: 1,\n\t\tdelay: 0\n\t},\n\t_mouseInit: function() {\n\t\tvar self = this;\n\n\t\tthis.element\n\t\t\t.bind('mousedown.'+this.widgetName, function(event) {\n\t\t\t\treturn self._mouseDown(event);\n\t\t\t})\n\t\t\t.bind('click.'+this.widgetName, function(event) {\n\t\t\t\tif (true === $.data(event.target, self.widgetName + '.preventClickEvent')) {\n\t\t\t\t    $.removeData(event.target, self.widgetName + '.preventClickEvent');\n\t\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\tthis.started = false;\n\t},\n\n\t\/\/ TODO: make sure destroying one instance of mouse doesn't mess with\n\t\/\/ other instances of mouse\n\t_mouseDestroy: function() {\n\t\tthis.element.unbind('.'+this.widgetName);\n\t},\n\n\t_mouseDown: function(event) {\n\t\t\/\/ don't let more than one widget handle mouseStart\n\t\tif( mouseHandled ) { return };\n\n\t\t\/\/ we may have missed mouseup (out of window)\n\t\t(this._mouseStarted && this._mouseUp(event));\n\n\t\tthis._mouseDownEvent = event;\n\n\t\tvar self = this,\n\t\t\tbtnIsLeft = (event.which == 1),\n\t\t\t\/\/ event.target.nodeName works around a bug in IE 8 with\n\t\t\t\/\/ disabled inputs (#7620)\n\t\t\telIsCancel = (typeof this.options.cancel == \"string\" && event.target.nodeName ? $(event.target).closest(this.options.cancel).length : false);\n\t\tif (!btnIsLeft || elIsCancel || !this._mouseCapture(event)) {\n\t\t\treturn true;\n\t\t}\n\n\t\tthis.mouseDelayMet = !this.options.delay;\n\t\tif (!this.mouseDelayMet) {\n\t\t\tthis._mouseDelayTimer = setTimeout(function() {\n\t\t\t\tself.mouseDelayMet = true;\n\t\t\t}, this.options.delay);\n\t\t}\n\n\t\tif (this._mouseDistanceMet(event) && this._mouseDelayMet(event)) {\n\t\t\tthis._mouseStarted = (this._mouseStart(event) !== false);\n\t\t\tif (!this._mouseStarted) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\t\/\/ Click event may never have fired (Gecko & Opera)\n\t\tif (true === $.data(event.target, this.widgetName + '.preventClickEvent')) {\n\t\t\t$.removeData(event.target, this.widgetName + '.preventClickEvent');\n\t\t}\n\n\t\t\/\/ these delegates are required to keep context\n\t\tthis._mouseMoveDelegate = function(event) {\n\t\t\treturn self._mouseMove(event);\n\t\t};\n\t\tthis._mouseUpDelegate = function(event) {\n\t\t\treturn self._mouseUp(event);\n\t\t};\n\t\t$(document)\n\t\t\t.bind('mousemove.'+this.widgetName, this._mouseMoveDelegate)\n\t\t\t.bind('mouseup.'+this.widgetName, this._mouseUpDelegate);\n\n\t\tevent.preventDefault();\n\t\t\n\t\tmouseHandled = true;\n\t\treturn true;\n\t},\n\n\t_mouseMove: function(event) {\n\t\t\/\/ IE mouseup check - mouseup happened when mouse was out of window\n\t\tif ($.browser.msie && !(document.documentMode >= 9) && !event.button) {\n\t\t\treturn this._mouseUp(event);\n\t\t}\n\n\t\tif (this._mouseStarted) {\n\t\t\tthis._mouseDrag(event);\n\t\t\treturn event.preventDefault();\n\t\t}\n\n\t\tif (this._mouseDistanceMet(event) && this._mouseDelayMet(event)) {\n\t\t\tthis._mouseStarted =\n\t\t\t\t(this._mouseStart(this._mouseDownEvent, event) !== false);\n\t\t\t(this._mouseStarted ? this._mouseDrag(event) : this._mouseUp(event));\n\t\t}\n\n\t\treturn !this._mouseStarted;\n\t},\n\n\t_mouseUp: function(event) {\n\t\t$(document)\n\t\t\t.unbind('mousemove.'+this.widgetName, this._mouseMoveDelegate)\n\t\t\t.unbind('mouseup.'+this.widgetName, this._mouseUpDelegate);\n\n\t\tif (this._mouseStarted) {\n\t\t\tthis._mouseStarted = false;\n\n\t\t\tif (event.target == this._mouseDownEvent.target) {\n\t\t\t    $.data(event.target, this.widgetName + '.preventClickEvent', true);\n\t\t\t}\n\n\t\t\tthis._mouseStop(event);\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t_mouseDistanceMet: function(event) {\n\t\treturn (Math.max(\n\t\t\t\tMath.abs(this._mouseDownEvent.pageX - event.pageX),\n\t\t\t\tMath.abs(this._mouseDownEvent.pageY - event.pageY)\n\t\t\t) >= this.options.distance\n\t\t);\n\t},\n\n\t_mouseDelayMet: function(event) {\n\t\treturn this.mouseDelayMet;\n\t},\n\n\t\/\/ These are placeholder methods, to be overriden by extending plugin\n\t_mouseStart: function(event) {},\n\t_mouseDrag: function(event) {},\n\t_mouseStop: function(event) {},\n\t_mouseCapture: function(event) { return true; }\n});\n\n})(jQuery);\n\/*\n * jQuery UI Draggable 1.8.18\n *\n * Copyright 2011, AUTHORS.txt (http:\/\/jqueryui.com\/about)\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http:\/\/jquery.org\/license\n *\n * http:\/\/docs.jquery.com\/UI\/Draggables\n *\n * Depends:\n *\tjquery.ui.core.js\n *\tjquery.ui.mouse.js\n *\tjquery.ui.widget.js\n *\/\n(function( $, undefined ) {\n\n$.widget(\"ui.draggable\", $.ui.mouse, {\n\twidgetEventPrefix: \"drag\",\n\toptions: {\n\t\taddClasses: true,\n\t\tappendTo: \"parent\",\n\t\taxis: false,\n\t\tconnectToSortable: false,\n\t\tcontainment: false,\n\t\tcursor: \"auto\",\n\t\tcursorAt: false,\n\t\tgrid: false,\n\t\thandle: false,\n\t\thelper: \"original\",\n\t\tiframeFix: false,\n\t\topacity: false,\n\t\trefreshPositions: false,\n\t\trevert: false,\n\t\trevertDuration: 500,\n\t\tscope: \"default\",\n\t\tscroll: true,\n\t\tscrollSensitivity: 20,\n\t\tscrollSpeed: 20,\n\t\tsnap: false,\n\t\tsnapMode: \"both\",\n\t\tsnapTolerance: 20,\n\t\tstack: false,\n\t\tzIndex: false\n\t},\n\t_create: function() {\n\n\t\tif (this.options.helper == 'original' && !(\/^(?:r|a|f)\/).test(this.element.css(\"position\")))\n\t\t\tthis.element[0].style.position = 'relative';\n\n\t\t(this.options.addClasses && this.element.addClass(\"ui-draggable\"));\n\t\t(this.options.disabled && this.element.addClass(\"ui-draggable-disabled\"));\n\n\t\tthis._mouseInit();\n\n\t},\n\n\tdestroy: function() {\n\t\tif(!this.element.data('draggable')) return;\n\t\tthis.element\n\t\t\t.removeData(\"draggable\")\n\t\t\t.unbind(\".draggable\")\n\t\t\t.removeClass(\"ui-draggable\"\n\t\t\t\t+ \" ui-draggable-dragging\"\n\t\t\t\t+ \" ui-draggable-disabled\");\n\t\tthis._mouseDestroy();\n\n\t\treturn this;\n\t},\n\n\t_mouseCapture: function(event) {\n\n\t\tvar o = this.options;\n\n\t\t\/\/ among others, prevent a drag on a resizable-handle\n\t\tif (this.helper || o.disabled || $(event.target).is('.ui-resizable-handle'))\n\t\t\treturn false;\n\n\t\t\/\/Quit if we're not on a valid handle\n\t\tthis.handle = this._getHandle(event);\n\t\tif (!this.handle)\n\t\t\treturn false;\n\t\t\n\t\tif ( o.iframeFix ) {\n\t\t\t$(o.iframeFix === true ? \"iframe\" : o.iframeFix).each(function() {\n\t\t\t\t$('<div class=\"ui-draggable-iframeFix\" style=\"background: #fff;\"><\/div>')\n\t\t\t\t.css({\n\t\t\t\t\twidth: this.offsetWidth+\"px\", height: this.offsetHeight+\"px\",\n\t\t\t\t\tposition: \"absolute\", opacity: \"0.001\", zIndex: 1000\n\t\t\t\t})\n\t\t\t\t.css($(this).offset())\n\t\t\t\t.appendTo(\"body\");\n\t\t\t});\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\t_mouseStart: function(event) {\n\n\t\tvar o = this.options;\n\n\t\t\/\/Create and append the visible helper\n\t\tthis.helper = this._createHelper(event);\n\n\t\t\/\/Cache the helper size\n\t\tthis._cacheHelperProportions();\n\n\t\t\/\/If ddmanager is used for droppables, set the global draggable\n\t\tif($.ui.ddmanager)\n\t\t\t$.ui.ddmanager.current = this;\n\n\t\t\/*\n\t\t * - Position generation -\n\t\t * This block generates everything position related - it's the core of draggables.\n\t\t *\/\n\n\t\t\/\/Cache the margins of the original element\n\t\tthis._cacheMargins();\n\n\t\t\/\/Store the helper's css position\n\t\tthis.cssPosition = this.helper.css(\"position\");\n\t\tthis.scrollParent = this.helper.scrollParent();\n\n\t\t\/\/The element's absolute position on the page minus margins\n\t\tthis.offset = this.positionAbs = this.element.offset();\n\t\tthis.offset = {\n\t\t\ttop: this.offset.top - this.margins.top,\n\t\t\tleft: this.offset.left - this.margins.left\n\t\t};\n\n\t\t$.extend(this.offset, {\n\t\t\tclick: { \/\/Where the click happened, relative to the element\n\t\t\t\tleft: event.pageX - this.offset.left,\n\t\t\t\ttop: event.pageY - this.offset.top\n\t\t\t},\n\t\t\tparent: this._getParentOffset(),\n\t\t\trelative: this._getRelativeOffset() \/\/This is a relative to absolute position minus the actual position calculation - only used for relative positioned helper\n\t\t});\n\n\t\t\/\/Generate the original position\n\t\tthis.originalPosition = this.position = this._generatePosition(event);\n\t\tthis.originalPageX = event.pageX;\n\t\tthis.originalPageY = event.pageY;\n\n\t\t\/\/Adjust the mouse offset relative to the helper if 'cursorAt' is supplied\n\t\t(o.cursorAt && this._adjustOffsetFromHelper(o.cursorAt));\n\n\t\t\/\/Set a containment if given in the options\n\t\tif(o.containment)\n\t\t\tthis._setContainment();\n\n\t\t\/\/Trigger event + callbacks\n\t\tif(this._trigger(\"start\", event) === false) {\n\t\t\tthis._clear();\n\t\t\treturn false;\n\t\t}\n\n\t\t\/\/Recache the helper size\n\t\tthis._cacheHelperProportions();\n\n\t\t\/\/Prepare the droppable offsets\n\t\tif ($.ui.ddmanager && !o.dropBehaviour)\n\t\t\t$.ui.ddmanager.prepareOffsets(this, event);\n\n\t\tthis.helper.addClass(\"ui-draggable-dragging\");\n\t\tthis._mouseDrag(event, true); \/\/Execute the drag once - this causes the helper not to be visible before getting its correct position\n\t\t\n\t\t\/\/If the ddmanager is used for droppables, inform the manager that dragging has started (see #5003)\n\t\tif ( $.ui.ddmanager ) $.ui.ddmanager.dragStart(this, event);\n\t\t\n\t\treturn true;\n\t},\n\n\t_mouseDrag: function(event, noPropagation) {\n\n\t\t\/\/Compute the helpers position\n\t\tthis.position = this._generatePosition(event);\n\t\tthis.positionAbs = this._convertPositionTo(\"absolute\");\n\n\t\t\/\/Call plugins and callbacks and use the resulting position if something is returned\n\t\tif (!noPropagation) {\n\t\t\tvar ui = this._uiHash();\n\t\t\tif(this._trigger('drag', event, ui) === false) {\n\t\t\t\tthis._mouseUp({});\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis.position = ui.position;\n\t\t}\n\n\t\tif(!this.options.axis || this.options.axis != \"y\") this.helper[0].style.left = this.position.left+'px';\n\t\tif(!this.options.axis || this.options.axis != \"x\") this.helper[0].style.top = this.position.top+'px';\n\t\tif($.ui.ddmanager) $.ui.ddmanager.drag(this, event);\n\n\t\treturn false;\n\t},\n\n\t_mouseStop: function(event) {\n\n\t\t\/\/If we are using droppables, inform the manager about the drop\n\t\tvar dropped = false;\n\t\tif ($.ui.ddmanager && !this.options.dropBehaviour)\n\t\t\tdropped = $.ui.ddmanager.drop(this, event);\n\n\t\t\/\/if a drop comes from outside (a sortable)\n\t\tif(this.dropped) {\n\t\t\tdropped = this.dropped;\n\t\t\tthis.dropped = false;\n\t\t}\n\t\t\n\t\t\/\/if the original element is removed, don't bother to continue if helper is set to \"original\"\n\t\tif((!this.element[0] || !this.element[0].parentNode) && this.options.helper == \"original\")\n\t\t\treturn false;\n\n\t\tif((this.options.revert == \"invalid\" && !dropped) || (this.options.revert == \"valid\" && dropped) || this.options.revert === true || ($.isFunction(this.options.revert) && this.options.revert.call(this.element, dropped))) {\n\t\t\tvar self = this;\n\t\t\t$(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function() {\n\t\t\t\tif(self._trigger(\"stop\", event) !== false) {\n\t\t\t\t\tself._clear();\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tif(this._trigger(\"stop\", event) !== false) {\n\t\t\t\tthis._clear();\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t},\n\t\n\t_mouseUp: function(event) {\n\t\tif (this.options.iframeFix === true) {\n\t\t\t$(\"div.ui-draggable-iframeFix\").each(function() { \n\t\t\t\tthis.parentNode.removeChild(this); \n\t\t\t}); \/\/Remove frame helpers\n\t\t}\n\t\t\n\t\t\/\/If the ddmanager is used for droppables, inform the manager that dragging has stopped (see #5003)\n\t\tif( $.ui.ddmanager ) $.ui.ddmanager.dragStop(this, event);\n\t\t\n\t\treturn $.ui.mouse.prototype._mouseUp.call(this, event);\n\t},\n\t\n\tcancel: function() {\n\t\t\n\t\tif(this.helper.is(\".ui-draggable-dragging\")) {\n\t\t\tthis._mouseUp({});\n\t\t} else {\n\t\t\tthis._clear();\n\t\t}\n\t\t\n\t\treturn this;\n\t\t\n\t},\n\n\t_getHandle: function(event) {\n\n\t\tvar handle = !this.options.handle || !$(this.options.handle, this.element).length ? true : false;\n\t\t$(this.options.handle, this.element)\n\t\t\t.find(\"*\")\n\t\t\t.andSelf()\n\t\t\t.each(function() {\n\t\t\t\tif(this == event.target) handle = true;\n\t\t\t});\n\n\t\treturn handle;\n\n\t},\n\n\t_createHelper: function(event) {\n\n\t\tvar o = this.options;\n\t\tvar helper = $.isFunction(o.helper) ? $(o.helper.apply(this.element[0], [event])) : (o.helper == 'clone' ? this.element.clone().removeAttr('id') : this.element);\n\n\t\tif(!helper.parents('body').length)\n\t\t\thelper.appendTo((o.appendTo == 'parent' ? this.element[0].parentNode : o.appendTo));\n\n\t\tif(helper[0] != this.element[0] && !(\/(fixed|absolute)\/).test(helper.css(\"position\")))\n\t\t\thelper.css(\"position\", \"absolute\");\n\n\t\treturn helper;\n\n\t},\n\n\t_adjustOffsetFromHelper: function(obj) {\n\t\tif (typeof obj == 'string') {\n\t\t\tobj = obj.split(' ');\n\t\t}\n\t\tif ($.isArray(obj)) {\n\t\t\tobj = {left: +obj[0], top: +obj[1] || 0};\n\t\t}\n\t\tif ('left' in obj) {\n\t\t\tthis.offset.click.left = obj.left + this.margins.left;\n\t\t}\n\t\tif ('right' in obj) {\n\t\t\tthis.offset.click.left = this.helperProportions.width - obj.right + this.margins.left;\n\t\t}\n\t\tif ('top' in obj) {\n\t\t\tthis.offset.click.top = obj.top + this.margins.top;\n\t\t}\n\t\tif ('bottom' in obj) {\n\t\t\tthis.offset.click.top = this.helperProportions.height - obj.bottom + this.margins.top;\n\t\t}\n\t},\n\n\t_getParentOffset: function() {\n\n\t\t\/\/Get the offsetParent and cache its position\n\t\tthis.offsetParent = this.helper.offsetParent();\n\t\tvar po = this.offsetParent.offset();\n\n\t\t\/\/ This is a special case where we need to modify a offset calculated on start, since the following happened:\n\t\t\/\/ 1. The position of the helper is absolute, so it's position is calculated based on the next positioned parent\n\t\t\/\/ 2. The actual offset parent is a child of the scroll parent, and the scroll parent isn't the document, which means that\n\t\t\/\/    the scroll is included in the initial calculation of the offset of the parent, and never recalculated upon drag\n\t\tif(this.cssPosition == 'absolute' && this.scrollParent[0] != document && $.ui.contains(this.scrollParent[0], this.offsetParent[0])) {\n\t\t\tpo.left += this.scrollParent.scrollLeft();\n\t\t\tpo.top += this.scrollParent.scrollTop();\n\t\t}\n\n\t\tif((this.offsetParent[0] == document.body) \/\/This needs to be actually done for all browsers, since pageX\/pageY includes this information\n\t\t|| (this.offsetParent[0].tagName && this.offsetParent[0].tagName.toLowerCase() == 'html' && $.browser.msie)) \/\/Ugly IE fix\n\t\t\tpo = { top: 0, left: 0 };\n\n\t\treturn {\n\t\t\ttop: po.top + (parseInt(this.offsetParent.css(\"borderTopWidth\"),10) || 0),\n\t\t\tleft: po.left + (parseInt(this.offsetParent.css(\"borderLeftWidth\"),10) || 0)\n\t\t};\n\n\t},\n\n\t_getRelativeOffset: function() {\n\n\t\tif(this.cssPosition == \"relative\") {\n\t\t\tvar p = this.element.position();\n\t\t\treturn {\n\t\t\t\ttop: p.top - (parseInt(this.helper.css(\"top\"),10) || 0) + this.scrollParent.scrollTop(),\n\t\t\t\tleft: p.left - (parseInt(this.helper.css(\"left\"),10) || 0) + this.scrollParent.scrollLeft()\n\t\t\t};\n\t\t} else {\n\t\t\treturn { top: 0, left: 0 };\n\t\t}\n\n\t},\n\n\t_cacheMargins: function() {\n\t\tthis.margins = {\n\t\t\tleft: (parseInt(this.element.css(\"marginLeft\"),10) || 0),\n\t\t\ttop: (parseInt(this.element.css(\"marginTop\"),10) || 0),\n\t\t\tright: (parseInt(this.element.css(\"marginRight\"),10) || 0),\n\t\t\tbottom: (parseInt(this.element.css(\"marginBottom\"),10) || 0)\n\t\t};\n\t},\n\n\t_cacheHelperProportions: function() {\n\t\tthis.helperProportions = {\n\t\t\twidth: this.helper.outerWidth(),\n\t\t\theight: this.helper.outerHeight()\n\t\t};\n\t},\n\n\t_setContainment: function() {\n\n\t\tvar o = this.options;\n\t\tif(o.containment == 'parent') o.containment = this.helper[0].parentNode;\n\t\tif(o.containment == 'document' || o.containment == 'window') this.containment = [\n\t\t\to.containment == 'document' ? 0 : $(window).scrollLeft() - this.offset.relative.left - this.offset.parent.left,\n\t\t\to.containment == 'document' ? 0 : $(window).scrollTop() - this.offset.relative.top - this.offset.parent.top,\n\t\t\t(o.containment == 'document' ? 0 : $(window).scrollLeft()) + $(o.containment == 'document' ? document : window).width() - this.helperProportions.width - this.margins.left,\n\t\t\t(o.containment == 'document' ? 0 : $(window).scrollTop()) + ($(o.containment == 'document' ? document : window).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top\n\t\t];\n\n\t\tif(!(\/^(document|window|parent)$\/).test(o.containment) && o.containment.constructor != Array) {\n\t\t        var c = $(o.containment);\n\t\t\tvar ce = c[0]; if(!ce) return;\n\t\t\tvar co = c.offset();\n\t\t\tvar over = ($(ce).css(\"overflow\") != 'hidden');\n\n\t\t\tthis.containment = [\n\t\t\t\t(parseInt($(ce).css(\"borderLeftWidth\"),10) || 0) + (parseInt($(ce).css(\"paddingLeft\"),10) || 0),\n\t\t\t\t(parseInt($(ce).css(\"borderTopWidth\"),10) || 0) + (parseInt($(ce).css(\"paddingTop\"),10) || 0),\n\t\t\t\t(over ? Math.max(ce.scrollWidth,ce.offsetWidth) : ce.offsetWidth) - (parseInt($(ce).css(\"borderLeftWidth\"),10) || 0) - (parseInt($(ce).css(\"paddingRight\"),10) || 0) - this.helperProportions.width - this.margins.left - this.margins.right,\n\t\t\t\t(over ? Math.max(ce.scrollHeight,ce.offsetHeight) : ce.offsetHeight) - (parseInt($(ce).css(\"borderTopWidth\"),10) || 0) - (parseInt($(ce).css(\"paddingBottom\"),10) || 0) - this.helperProportions.height - this.margins.top  - this.margins.bottom\n\t\t\t];\n\t\t\tthis.relative_container = c;\n\n\t\t} else if(o.containment.constructor == Array) {\n\t\t\tthis.containment = o.containment;\n\t\t}\n\n\t},\n\n\t_convertPositionTo: function(d, pos) {\n\n\t\tif(!pos) pos = this.position;\n\t\tvar mod = d == \"absolute\" ? 1 : -1;\n\t\tvar o = this.options, scroll = this.cssPosition == 'absolute' && !(this.scrollParent[0] != document && $.ui.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent, scrollIsRootNode = (\/(html|body)\/i).test(scroll[0].tagName);\n\n\t\treturn {\n\t\t\ttop: (\n\t\t\t\tpos.top\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\/\/ The absolute mouse position\n\t\t\t\t+ this.offset.relative.top * mod\t\t\t\t\t\t\t\t\t\t\/\/ Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\t+ this.offset.parent.top * mod\t\t\t\t\t\t\t\t\t\t\t\/\/ The offsetParent's offset without borders (offset + border)\n\t\t\t\t- ($.browser.safari && $.browser.version < 526 && this.cssPosition == 'fixed' ? 0 : ( this.cssPosition == 'fixed' ? -this.scrollParent.scrollTop() : ( scrollIsRootNode ? 0 : scroll.scrollTop() ) ) * mod)\n\t\t\t),\n\t\t\tleft: (\n\t\t\t\tpos.left\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\/\/ The absolute mouse position\n\t\t\t\t+ this.offset.relative.left * mod\t\t\t\t\t\t\t\t\t\t\/\/ Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\t+ this.offset.parent.left * mod\t\t\t\t\t\t\t\t\t\t\t\/\/ The offsetParent's offset without borders (offset + border)\n\t\t\t\t- ($.browser.safari && $.browser.version < 526 && this.cssPosition == 'fixed' ? 0 : ( this.cssPosition == 'fixed' ? -this.scrollParent.scrollLeft() : scrollIsRootNode ? 0 : scroll.scrollLeft() ) * mod)\n\t\t\t)\n\t\t};\n\n\t},\n\n\t_generatePosition: function(event) {\n\n\t\tvar o = this.options, scroll = this.cssPosition == 'absolute' && !(this.scrollParent[0] != document && $.ui.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent, scrollIsRootNode = (\/(html|body)\/i).test(scroll[0].tagName);\n\t\tvar pageX = event.pageX;\n\t\tvar pageY = event.pageY;\n\n\t\t\/*\n\t\t * - Position constraining -\n\t\t * Constrain the position to a mix of grid, containment.\n\t\t *\/\n\n\t\tif(this.originalPosition) { \/\/If we are not dragging yet, we won't check for options\n\t\t         var containment;\n\t\t         if(this.containment) {\n\t\t\t\t if (this.relative_container){\n\t\t\t\t     var co = this.relative_container.offset();\n\t\t\t\t     containment = [ this.containment[0] + co.left,\n\t\t\t\t\t\t     this.containment[1] + co.top,\n\t\t\t\t\t\t     this.containment[2] + co.left,\n\t\t\t\t\t\t     this.containment[3] + co.top ];\n\t\t\t\t }\n\t\t\t\t else {\n\t\t\t\t     containment = this.containment;\n\t\t\t\t }\n\n\t\t\t\tif(event.pageX - this.offset.click.left < containment[0]) pageX = containment[0] + this.offset.click.left;\n\t\t\t\tif(event.pageY - this.offset.click.top < containment[1]) pageY = containment[1] + this.offset.click.top;\n\t\t\t\tif(event.pageX - this.offset.click.left > containment[2]) pageX = containment[2] + this.offset.click.left;\n\t\t\t\tif(event.pageY - this.offset.click.top > containment[3]) pageY = containment[3] + this.offset.click.top;\n\t\t\t}\n\n\t\t\tif(o.grid) {\n\t\t\t\t\/\/Check for grid elements set to 0 to prevent divide by 0 error causing invalid argument errors in IE (see ticket #6950)\n\t\t\t\tvar top = o.grid[1] ? this.originalPageY + Math.round((pageY - this.originalPageY) \/ o.grid[1]) * o.grid[1] : this.originalPageY;\n\t\t\t\tpageY = containment ? (!(top - this.offset.click.top < containment[1] || top - this.offset.click.top > containment[3]) ? top : (!(top - this.offset.click.top < containment[1]) ? top - o.grid[1] : top + o.grid[1])) : top;\n\n\t\t\t\tvar left = o.grid[0] ? this.originalPageX + Math.round((pageX - this.originalPageX) \/ o.grid[0]) * o.grid[0] : this.originalPageX;\n\t\t\t\tpageX = containment ? (!(left - this.offset.click.left < containment[0] || left - this.offset.click.left > containment[2]) ? left : (!(left - this.offset.click.left < containment[0]) ? left - o.grid[0] : left + o.grid[0])) : left;\n\t\t\t}\n\n\t\t}\n\n\t\treturn {\n\t\t\ttop: (\n\t\t\t\tpageY\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\/\/ The absolute mouse position\n\t\t\t\t- this.offset.click.top\t\t\t\t\t\t\t\t\t\t\t\t\t\/\/ Click offset (relative to the element)\n\t\t\t\t- this.offset.relative.top\t\t\t\t\t\t\t\t\t\t\t\t\/\/ Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\t- this.offset.parent.top\t\t\t\t\t\t\t\t\t\t\t\t\/\/ The offsetParent's offset without borders (offset + border)\n\t\t\t\t+ ($.browser.safari && $.browser.version < 526 && this.cssPosition == 'fixed' ? 0 : ( this.cssPosition == 'fixed' ? -this.scrollParent.scrollTop() : ( scrollIsRootNode ? 0 : scroll.scrollTop() ) ))\n\t\t\t),\n\t\t\tleft: (\n\t\t\t\tpageX\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\/\/ The absolute mouse position\n\t\t\t\t- this.offset.click.left\t\t\t\t\t\t\t\t\t\t\t\t\/\/ Click offset (relative to the element)\n\t\t\t\t- this.offset.relative.left\t\t\t\t\t\t\t\t\t\t\t\t\/\/ Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\t- this.offset.parent.left\t\t\t\t\t\t\t\t\t\t\t\t\/\/ The offsetParent's offset without borders (offset + border)\n\t\t\t\t+ ($.browser.safari && $.browser.version < 526 && this.cssPosition == 'fixed' ? 0 : ( this.cssPosition == 'fixed' ? -this.scrollParent.scrollLeft() : scrollIsRootNode ? 0 : scroll.scrollLeft() ))\n\t\t\t)\n\t\t};\n\n\t},\n\n\t_clear: function() {\n\t\tthis.helper.removeClass(\"ui-draggable-dragging\");\n\t\tif(this.helper[0] != this.element[0] && !this.cancelHelperRemoval) this.helper.remove();\n\t\t\/\/if($.ui.ddmanager) $.ui.ddmanager.current = null;\n\t\tthis.helper = null;\n\t\tthis.cancelHelperRemoval = false;\n\t},\n\n\t\/\/ From now on bulk stuff - mainly helpers\n\n\t_trigger: function(type, event, ui) {\n\t\tui = ui || this._uiHash();\n\t\t$.ui.plugin.call(this, type, [event, ui]);\n\t\tif(type == \"drag\") this.positionAbs = this._convertPositionTo(\"absolute\"); \/\/The absolute position has to be recalculated after plugins\n\t\treturn $.Widget.prototype._trigger.call(this, type, event, ui);\n\t},\n\n\tplugins: {},\n\n\t_uiHash: function(event) {\n\t\treturn {\n\t\t\thelper: this.helper,\n\t\t\tposition: this.position,\n\t\t\toriginalPosition: this.originalPosition,\n\t\t\toffset: this.positionAbs\n\t\t};\n\t}\n\n});\n\n$.extend($.ui.draggable, {\n\tversion: \"1.8.18\"\n});\n\n$.ui.plugin.add(\"draggable\", \"connectToSortable\", {\n\tstart: function(event, ui) {\n\n\t\tvar inst = $(this).data(\"draggable\"), o = inst.options,\n\t\t\tuiSortable = $.extend({}, ui, { item: inst.element });\n\t\tinst.sortables = [];\n\t\t$(o.connectToSortable).each(function() {\n\t\t\tvar sortable = $.data(this, 'sortable');\n\t\t\tif (sortable && !sortable.options.disabled) {\n\t\t\t\tinst.sortables.push({\n\t\t\t\t\tinstance: sortable,\n\t\t\t\t\tshouldRevert: sortable.options.revert\n\t\t\t\t});\n\t\t\t\tsortable.refreshPositions();\t\/\/ Call the sortable's refreshPositions at drag start to refresh the containerCache since the sortable container cache is used in drag and needs to be up to date (this will ensure it's initialised as well as being kept in step with any changes that might have happened on the page).\n\t\t\t\tsortable._trigger(\"activate\", event, uiSortable);\n\t\t\t}\n\t\t});\n\n\t},\n\tstop: function(event, ui) {\n\n\t\t\/\/If we are still over the sortable, we fake the stop event of the sortable, but also remove helper\n\t\tvar inst = $(this).data(\"draggable\"),\n\t\t\tuiSortable = $.extend({}, ui, { item: inst.element });\n\n\t\t$.each(inst.sortables, function() {\n\t\t\tif(this.instance.isOver) {\n\n\t\t\t\tthis.instance.isOver = 0;\n\n\t\t\t\tinst.cancelHelperRemoval = true; \/\/Don't remove the helper in the draggable instance\n\t\t\t\tthis.instance.cancelHelperRemoval = false; \/\/Remove it in the sortable instance (so sortable plugins like revert still work)\n\n\t\t\t\t\/\/The sortable revert is supported, and we have to set a temporary dropped variable on the draggable to support revert: 'valid\/invalid'\n\t\t\t\tif(this.shouldRevert) this.instance.options.revert = true;\n\n\t\t\t\t\/\/Trigger the stop of the sortable\n\t\t\t\tthis.instance._mouseStop(event);\n\n\t\t\t\tthis.instance.options.helper = this.instance.options._helper;\n\n\t\t\t\t\/\/If the helper has been the original item, restore properties in the sortable\n\t\t\t\tif(inst.options.helper == 'original')\n\t\t\t\t\tthis.instance.currentItem.css({ top: 'auto', left: 'auto' });\n\n\t\t\t} else {\n\t\t\t\tthis.instance.cancelHelperRemoval = false; \/\/Remove the helper in the sortable instance\n\t\t\t\tthis.instance._trigger(\"deactivate\", event, uiSortable);\n\t\t\t}\n\n\t\t});\n\n\t},\n\tdrag: function(event, ui) {\n\n\t\tvar inst = $(this).data(\"draggable\"), self = this;\n\n\t\tvar checkPos = function(o) {\n\t\t\tvar dyClick = this.offset.click.top, dxClick = this.offset.click.left;\n\t\t\tvar helperTop = this.positionAbs.top, helperLeft = this.positionAbs.left;\n\t\t\tvar itemHeight = o.height, itemWidth = o.width;\n\t\t\tvar itemTop = o.top, itemLeft = o.left;\n\n\t\t\treturn $.ui.isOver(helperTop + dyClick, helperLeft + dxClick, itemTop, itemLeft, itemHeight, itemWidth);\n\t\t};\n\n\t\t$.each(inst.sortables, function(i) {\n\t\t\t\n\t\t\t\/\/Copy over some variables to allow calling the sortable's native _intersectsWith\n\t\t\tthis.instance.positionAbs = inst.positionAbs;\n\t\t\tthis.instance.helperProportions = inst.helperProportions;\n\t\t\tthis.instance.offset.click = inst.offset.click;\n\t\t\t\n\t\t\tif(this.instance._intersectsWith(this.instance.containerCache)) {\n\n\t\t\t\t\/\/If it intersects, we use a little isOver variable and set it once, so our move-in stuff gets fired only once\n\t\t\t\tif(!this.instance.isOver) {\n\n\t\t\t\t\tthis.instance.isOver = 1;\n\t\t\t\t\t\/\/Now we fake the start of dragging for the sortable instance,\n\t\t\t\t\t\/\/by cloning the list group item, appending it to the sortable and using it as inst.currentItem\n\t\t\t\t\t\/\/We can then fire the start event of the sortable with our passed browser event, and our own helper (so it doesn't create a new one)\n\t\t\t\t\tthis.instance.currentItem = $(self).clone().removeAttr('id').appendTo(this.instance.element).data(\"sortable-item\", true);\n\t\t\t\t\tthis.instance.options._helper = this.instance.options.helper; \/\/Store helper option to later restore it\n\t\t\t\t\tthis.instance.options.helper = function() { return ui.helper[0]; };\n\n\t\t\t\t\tevent.target = this.instance.currentItem[0];\n\t\t\t\t\tthis.instance._mouseCapture(event, true);\n\t\t\t\t\tthis.instance._mouseStart(event, true, true);\n\n\t\t\t\t\t\/\/Because the browser event is way off the new appended portlet, we modify a couple of variables to reflect the changes\n\t\t\t\t\tthis.instance.offset.click.top = inst.offset.click.top;\n\t\t\t\t\tthis.instance.offset.click.left = inst.offset.click.left;\n\t\t\t\t\tthis.instance.offset.parent.left -= inst.offset.parent.left - this.instance.offset.parent.left;\n\t\t\t\t\tthis.instance.offset.parent.top -= inst.offset.parent.top - this.instance.offset.parent.top;\n\n\t\t\t\t\tinst._trigger(\"toSortable\", event);\n\t\t\t\t\tinst.dropped = this.instance.element; \/\/draggable revert needs that\n\t\t\t\t\t\/\/hack so receive\/update callbacks work (mostly)\n\t\t\t\t\tinst.currentItem = inst.element;\n\t\t\t\t\tthis.instance.fromOutside = inst;\n\n\t\t\t\t}\n\n\t\t\t\t\/\/Provided we did all the previous steps, we can fire the drag event of the sortable on every draggable drag, when it intersects with the sortable\n\t\t\t\tif(this.instance.currentItem) this.instance._mouseDrag(event);\n\n\t\t\t} else {\n\n\t\t\t\t\/\/If it doesn't intersect with the sortable, and it intersected before,\n\t\t\t\t\/\/we fake the drag stop of the sortable, but make sure it doesn't remove the helper by using cancelHelperRemoval\n\t\t\t\tif(this.instance.isOver) {\n\n\t\t\t\t\tthis.instance.isOver = 0;\n\t\t\t\t\tthis.instance.cancelHelperRemoval = true;\n\t\t\t\t\t\n\t\t\t\t\t\/\/Prevent reverting on this forced stop\n\t\t\t\t\tthis.instance.options.revert = false;\n\t\t\t\t\t\n\t\t\t\t\t\/\/ The out event needs to be triggered independently\n\t\t\t\t\tthis.instance._trigger('out', event, this.instance._uiHash(this.instance));\n\t\t\t\t\t\n\t\t\t\t\tthis.instance._mouseStop(event, true);\n\t\t\t\t\tthis.instance.options.helper = this.instance.options._helper;\n\n\t\t\t\t\t\/\/Now we remove our currentItem, the list group clone again, and the placeholder, and animate the helper back to it's original size\n\t\t\t\t\tthis.instance.currentItem.remove();\n\t\t\t\t\tif(this.instance.placeholder) this.instance.placeholder.remove();\n\n\t\t\t\t\tinst._trigger(\"fromSortable\", event);\n\t\t\t\t\tinst.dropped = false; \/\/draggable revert needs that\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t});\n\n\t}\n});\n\n$.ui.plugin.add(\"draggable\", \"cursor\", {\n\tstart: function(event, ui) {\n\t\tvar t = $('body'), o = $(this).data('draggable').options;\n\t\tif (t.css(\"cursor\")) o._cursor = t.css(\"cursor\");\n\t\tt.css(\"cursor\", o.cursor);\n\t},\n\tstop: function(event, ui) {\n\t\tvar o = $(this).data('draggable').options;\n\t\tif (o._cursor) $('body').css(\"cursor\", o._cursor);\n\t}\n});\n\n$.ui.plugin.add(\"draggable\", \"opacity\", {\n\tstart: function(event, ui) {\n\t\tvar t = $(ui.helper), o = $(this).data('draggable').options;\n\t\tif(t.css(\"opacity\")) o._opacity = t.css(\"opacity\");\n\t\tt.css('opacity', o.opacity);\n\t},\n\tstop: function(event, ui) {\n\t\tvar o = $(this).data('draggable').options;\n\t\tif(o._opacity) $(ui.helper).css('opacity', o._opacity);\n\t}\n});\n\n$.ui.plugin.add(\"draggable\", \"scroll\", {\n\tstart: function(event, ui) {\n\t\tvar i = $(this).data(\"draggable\");\n\t\tif(i.scrollParent[0] != document && i.scrollParent[0].tagName != 'HTML') i.overflowOffset = i.scrollParent.offset();\n\t},\n\tdrag: function(event, ui) {\n\n\t\tvar i = $(this).data(\"draggable\"), o = i.options, scrolled = false;\n\n\t\tif(i.scrollParent[0] != document && i.scrollParent[0].tagName != 'HTML') {\n\n\t\t\tif(!o.axis || o.axis != 'x') {\n\t\t\t\tif((i.overflowOffset.top + i.scrollParent[0].offsetHeight) - event.pageY < o.scrollSensitivity)\n\t\t\t\t\ti.scrollParent[0].scrollTop = scrolled = i.scrollParent[0].scrollTop + o.scrollSpeed;\n\t\t\t\telse if(event.pageY - i.overflowOffset.top < o.scrollSensitivity)\n\t\t\t\t\ti.scrollParent[0].scrollTop = scrolled = i.scrollParent[0].scrollTop - o.scrollSpeed;\n\t\t\t}\n\n\t\t\tif(!o.axis || o.axis != 'y') {\n\t\t\t\tif((i.overflowOffset.left + i.scrollParent[0].offsetWidth) - event.pageX < o.scrollSensitivity)\n\t\t\t\t\ti.scrollParent[0].scrollLeft = scrolled = i.scrollParent[0].scrollLeft + o.scrollSpeed;\n\t\t\t\telse if(event.pageX - i.overflowOffset.left < o.scrollSensitivity)\n\t\t\t\t\ti.scrollParent[0].scrollLeft = scrolled = i.scrollParent[0].scrollLeft - o.scrollSpeed;\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif(!o.axis || o.axis != 'x') {\n\t\t\t\tif(event.pageY - $(document).scrollTop() < o.scrollSensitivity)\n\t\t\t\t\tscrolled = $(document).scrollTop($(document).scrollTop() - o.scrollSpeed);\n\t\t\t\telse if($(window).height() - (event.pageY - $(document).scrollTop()) < o.scrollSensitivity)\n\t\t\t\t\tscrolled = $(document).scrollTop($(document).scrollTop() + o.scrollSpeed);\n\t\t\t}\n\n\t\t\tif(!o.axis || o.axis != 'y') {\n\t\t\t\tif(event.pageX - $(document).scrollLeft() < o.scrollSensitivity)\n\t\t\t\t\tscrolled = $(document).scrollLeft($(document).scrollLeft() - o.scrollSpeed);\n\t\t\t\telse if($(window).width() - (event.pageX - $(document).scrollLeft()) < o.scrollSensitivity)\n\t\t\t\t\tscrolled = $(document).scrollLeft($(document).scrollLeft() + o.scrollSpeed);\n\t\t\t}\n\n\t\t}\n\n\t\tif(scrolled !== false && $.ui.ddmanager && !o.dropBehaviour)\n\t\t\t$.ui.ddmanager.prepareOffsets(i, event);\n\n\t}\n});\n\n$.ui.plugin.add(\"draggable\", \"snap\", {\n\tstart: function(event, ui) {\n\n\t\tvar i = $(this).data(\"draggable\"), o = i.options;\n\t\ti.snapElements = [];\n\n\t\t$(o.snap.constructor != String ? ( o.snap.items || ':data(draggable)' ) : o.snap).each(function() {\n\t\t\tvar $t = $(this); var $o = $t.offset();\n\t\t\tif(this != i.element[0]) i.snapElements.push({\n\t\t\t\titem: this,\n\t\t\t\twidth: $t.outerWidth(), height: $t.outerHeight(),\n\t\t\t\ttop: $o.top, left: $o.left\n\t\t\t});\n\t\t});\n\n\t},\n\tdrag: function(event, ui) {\n\n\t\tvar inst = $(this).data(\"draggable\"), o = inst.options;\n\t\tvar d = o.snapTolerance;\n\n\t\tvar x1 = ui.offset.left, x2 = x1 + inst.helperProportions.width,\n\t\t\ty1 = ui.offset.top, y2 = y1 + inst.helperProportions.height;\n\n\t\tfor (var i = inst.snapElements.length - 1; i >= 0; i--){\n\n\t\t\tvar l = inst.snapElements[i].left, r = l + inst.snapElements[i].width,\n\t\t\t\tt = inst.snapElements[i].top, b = t + inst.snapElements[i].height;\n\n\t\t\t\/\/Yes, I know, this is insane ;)\n\t\t\tif(!((l-d < x1 && x1 < r+d && t-d < y1 && y1 < b+d) || (l-d < x1 && x1 < r+d && t-d < y2 && y2 < b+d) || (l-d < x2 && x2 < r+d && t-d < y1 && y1 < b+d) || (l-d < x2 && x2 < r+d && t-d < y2 && y2 < b+d))) {\n\t\t\t\tif(inst.snapElements[i].snapping) (inst.options.snap.release && inst.options.snap.release.call(inst.element, event, $.extend(inst._uiHash(), { snapItem: inst.snapElements[i].item })));\n\t\t\t\tinst.snapElements[i].snapping = false;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif(o.snapMode != 'inner') {\n\t\t\t\tvar ts = Math.abs(t - y2) <= d;\n\t\t\t\tvar bs = Math.abs(b - y1) <= d;\n\t\t\t\tvar ls = Math.abs(l - x2) <= d;\n\t\t\t\tvar rs = Math.abs(r - x1) <= d;\n\t\t\t\tif(ts) ui.position.top = inst._convertPositionTo(\"relative\", { top: t - inst.helperProportions.height, left: 0 }).top - inst.margins.top;\n\t\t\t\tif(bs) ui.position.top = inst._convertPositionTo(\"relative\", { top: b, left: 0 }).top - inst.margins.top;\n\t\t\t\tif(ls) ui.position.left = inst._convertPositionTo(\"relative\", { top: 0, left: l - inst.helperProportions.width }).left - inst.margins.left;\n\t\t\t\tif(rs) ui.position.left = inst._convertPositionTo(\"relative\", { top: 0, left: r }).left - inst.margins.left;\n\t\t\t}\n\n\t\t\tvar first = (ts || bs || ls || rs);\n\n\t\t\tif(o.snapMode != 'outer') {\n\t\t\t\tvar ts = Math.abs(t - y1) <= d;\n\t\t\t\tvar bs = Math.abs(b - y2) <= d;\n\t\t\t\tvar ls = Math.abs(l - x1) <= d;\n\t\t\t\tvar rs = Math.abs(r - x2) <= d;\n\t\t\t\tif(ts) ui.position.top = inst._convertPositionTo(\"relative\", { top: t, left: 0 }).top - inst.margins.top;\n\t\t\t\tif(bs) ui.position.top = inst._convertPositionTo(\"relative\", { top: b - inst.helperProportions.height, left: 0 }).top - inst.margins.top;\n\t\t\t\tif(ls) ui.position.left = inst._convertPositionTo(\"relative\", { top: 0, left: l }).left - inst.margins.left;\n\t\t\t\tif(rs) ui.position.left = inst._convertPositionTo(\"relative\", { top: 0, left: r - inst.helperProportions.width }).left - inst.margins.left;\n\t\t\t}\n\n\t\t\tif(!inst.snapElements[i].snapping && (ts || bs || ls || rs || first))\n\t\t\t\t(inst.options.snap.snap && inst.options.snap.snap.call(inst.element, event, $.extend(inst._uiHash(), { snapItem: inst.snapElements[i].item })));\n\t\t\tinst.snapElements[i].snapping = (ts || bs || ls || rs || first);\n\n\t\t};\n\n\t}\n});\n\n$.ui.plugin.add(\"draggable\", \"stack\", {\n\tstart: function(event, ui) {\n\n\t\tvar o = $(this).data(\"draggable\").options;\n\n\t\tvar group = $.makeArray($(o.stack)).sort(function(a,b) {\n\t\t\treturn (parseInt($(a).css(\"zIndex\"),10) || 0) - (parseInt($(b).css(\"zIndex\"),10) || 0);\n\t\t});\n\t\tif (!group.length) { return; }\n\t\t\n\t\tvar min = parseInt(group[0].style.zIndex) || 0;\n\t\t$(group).each(function(i) {\n\t\t\tthis.style.zIndex = min + i;\n\t\t});\n\n\t\tthis[0].style.zIndex = min + group.length;\n\n\t}\n});\n\n$.ui.plugin.add(\"draggable\", \"zIndex\", {\n\tstart: function(event, ui) {\n\t\tvar t = $(ui.helper), o = $(this).data(\"draggable\").options;\n\t\tif(t.css(\"zIndex\")) o._zIndex = t.css(\"zIndex\");\n\t\tt.css('zIndex', o.zIndex);\n\t},\n\tstop: function(event, ui) {\n\t\tvar o = $(this).data(\"draggable\").options;\n\t\tif(o._zIndex) $(ui.helper).css('zIndex', o._zIndex);\n\t}\n});\n\n})(jQuery);\n","lib\/jquery-ui.custom.min.js":"\/*!\n * jQuery UI 1.8.18\n *\n * Copyright 2011, AUTHORS.txt (http:\/\/jqueryui.com\/about)\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http:\/\/jquery.org\/license\n *\n * http:\/\/docs.jquery.com\/UI\n *\/(function(a,b){function d(b){return!a(b).parents().andSelf().filter(function(){return a.curCSS(this,\"visibility\")===\"hidden\"||a.expr.filters.hidden(this)}).length}function c(b,c){var e=b.nodeName.toLowerCase();if(\"area\"===e){var f=b.parentNode,g=f.name,h;if(!b.href||!g||f.nodeName.toLowerCase()!==\"map\")return!1;h=a(\"img[usemap=#\"+g+\"]\")[0];return!!h&&d(h)}return(\/input|select|textarea|button|object\/.test(e)?!b.disabled:\"a\"==e?b.href||c:c)&&d(b)}a.ui=a.ui||{};a.ui.version||(a.extend(a.ui,{version:\"1.8.18\",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),a.fn.extend({propAttr:a.fn.prop||a.fn.attr,_focus:a.fn.focus,focus:function(b,c){return typeof b==\"number\"?this.each(function(){var d=this;setTimeout(function(){a(d).focus(),c&&c.call(d)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;a.browser.msie&&\/(static|relative)\/.test(this.css(\"position\"))||\/absolute\/.test(this.css(\"position\"))?b=this.parents().filter(function(){return\/(relative|absolute|fixed)\/.test(a.curCSS(this,\"position\",1))&&\/(auto|scroll)\/.test(a.curCSS(this,\"overflow\",1)+a.curCSS(this,\"overflow-y\",1)+a.curCSS(this,\"overflow-x\",1))}).eq(0):b=this.parents().filter(function(){return\/(auto|scroll)\/.test(a.curCSS(this,\"overflow\",1)+a.curCSS(this,\"overflow-y\",1)+a.curCSS(this,\"overflow-x\",1))}).eq(0);return\/fixed\/.test(this.css(\"position\"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css(\"zIndex\",c);if(this.length){var d=a(this[0]),e,f;while(d.length&&d[0]!==document){e=d.css(\"position\");if(e===\"absolute\"||e===\"relative\"||e===\"fixed\"){f=parseInt(d.css(\"zIndex\"),10);if(!isNaN(f)&&f!==0)return f}d=d.parent()}}return 0},disableSelection:function(){return this.bind((a.support.selectstart?\"selectstart\":\"mousedown\")+\".ui-disableSelection\",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(\".ui-disableSelection\")}}),a.each([\"Width\",\"Height\"],function(c,d){function h(b,c,d,f){a.each(e,function(){c-=parseFloat(a.curCSS(b,\"padding\"+this,!0))||0,d&&(c-=parseFloat(a.curCSS(b,\"border\"+this+\"Width\",!0))||0),f&&(c-=parseFloat(a.curCSS(b,\"margin\"+this,!0))||0)});return c}var e=d===\"Width\"?[\"Left\",\"Right\"]:[\"Top\",\"Bottom\"],f=d.toLowerCase(),g={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn[\"inner\"+d]=function(c){if(c===b)return g[\"inner\"+d].call(this);return this.each(function(){a(this).css(f,h(this,c)+\"px\")})},a.fn[\"outer\"+d]=function(b,c){if(typeof b!=\"number\")return g[\"outer\"+d].call(this,b);return this.each(function(){a(this).css(f,h(this,b,!0,c)+\"px\")})}}),a.extend(a.expr[\":\"],{data:function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,\"tabindex\")))},tabbable:function(b){var d=a.attr(b,\"tabindex\"),e=isNaN(d);return(e||d>=0)&&c(b,!e)}}),a(function(){var b=document.body,c=b.appendChild(c=document.createElement(\"div\"));c.offsetHeight,a.extend(c.style,{minHeight:\"100px\",height:\"auto\",padding:0,borderWidth:0}),a.support.minHeight=c.offsetHeight===100,a.support.selectstart=\"onselectstart\"in c,b.removeChild(c).style.display=\"none\"}),a.extend(a.ui,{plugin:{add:function(b,c,d){var e=a.ui[b].prototype;for(var f in d)e.plugins[f]=e.plugins[f]||[],e.plugins[f].push([c,d[f]])},call:function(a,b,c){var d=a.plugins[b];if(!!d&&!!a.element[0].parentNode)for(var e=0;e<d.length;e++)a.options[d[e][0]]&&d[e][1].apply(a.element,c)}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(b,c){if(a(b).css(\"overflow\")===\"hidden\")return!1;var d=c&&c===\"left\"?\"scrollLeft\":\"scrollTop\",e=!1;if(b[d]>0)return!0;b[d]=1,e=b[d]>0,b[d]=0;return e},isOverAxis:function(a,b,c){return a>b&&a<b+c},isOver:function(b,c,d,e,f,g){return a.ui.isOverAxis(b,d,f)&&a.ui.isOverAxis(c,e,g)}}))})(jQuery);\/*!\n * jQuery UI Widget 1.8.18\n *\n * Copyright 2011, AUTHORS.txt (http:\/\/jqueryui.com\/about)\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http:\/\/jquery.org\/license\n *\n * http:\/\/docs.jquery.com\/UI\/Widget\n *\/(function(a,b){if(a.cleanData){var c=a.cleanData;a.cleanData=function(b){for(var d=0,e;(e=b[d])!=null;d++)try{a(e).triggerHandler(\"remove\")}catch(f){}c(b)}}else{var d=a.fn.remove;a.fn.remove=function(b,c){return this.each(function(){c||(!b||a.filter(b,[this]).length)&&a(\"*\",this).add([this]).each(function(){try{a(this).triggerHandler(\"remove\")}catch(b){}});return d.call(a(this),b,c)})}}a.widget=function(b,c,d){var e=b.split(\".\")[0],f;b=b.split(\".\")[1],f=e+\"-\"+b,d||(d=c,c=a.Widget),a.expr[\":\"][f]=function(c){return!!a.data(c,b)},a[e]=a[e]||{},a[e][b]=function(a,b){arguments.length&&this._createWidget(a,b)};var g=new c;g.options=a.extend(!0,{},g.options),a[e][b].prototype=a.extend(!0,g,{namespace:e,widgetName:b,widgetEventPrefix:a[e][b].prototype.widgetEventPrefix||b,widgetBaseClass:f},d),a.widget.bridge(b,a[e][b])},a.widget.bridge=function(c,d){a.fn[c]=function(e){var f=typeof e==\"string\",g=Array.prototype.slice.call(arguments,1),h=this;e=!f&&g.length?a.extend.apply(null,[!0,e].concat(g)):e;if(f&&e.charAt(0)===\"_\")return h;f?this.each(function(){var d=a.data(this,c),f=d&&a.isFunction(d[e])?d[e].apply(d,g):d;if(f!==d&&f!==b){h=f;return!1}}):this.each(function(){var b=a.data(this,c);b?b.option(e||{})._init():a.data(this,c,new d(e,this))});return h}},a.Widget=function(a,b){arguments.length&&this._createWidget(a,b)},a.Widget.prototype={widgetName:\"widget\",widgetEventPrefix:\"\",options:{disabled:!1},_createWidget:function(b,c){a.data(c,this.widgetName,this),this.element=a(c),this.options=a.extend(!0,{},this.options,this._getCreateOptions(),b);var d=this;this.element.bind(\"remove.\"+this.widgetName,function(){d.destroy()}),this._create(),this._trigger(\"create\"),this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind(\".\"+this.widgetName).removeData(this.widgetName),this.widget().unbind(\".\"+this.widgetName).removeAttr(\"aria-disabled\").removeClass(this.widgetBaseClass+\"-disabled \"+\"ui-state-disabled\")},widget:function(){return this.element},option:function(c,d){var e=c;if(arguments.length===0)return a.extend({},this.options);if(typeof c==\"string\"){if(d===b)return this.options[c];e={},e[c]=d}this._setOptions(e);return this},_setOptions:function(b){var c=this;a.each(b,function(a,b){c._setOption(a,b)});return this},_setOption:function(a,b){this.options[a]=b,a===\"disabled\"&&this.widget()[b?\"addClass\":\"removeClass\"](this.widgetBaseClass+\"-disabled\"+\" \"+\"ui-state-disabled\").attr(\"aria-disabled\",b);return this},enable:function(){return this._setOption(\"disabled\",!1)},disable:function(){return this._setOption(\"disabled\",!0)},_trigger:function(b,c,d){var e,f,g=this.options[b];d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent;if(f)for(e in f)e in c||(c[e]=f[e]);this.element.trigger(c,d);return!(a.isFunction(g)&&g.call(this.element[0],c,d)===!1||c.isDefaultPrevented())}}})(jQuery);\/*!\n * jQuery UI Mouse 1.8.18\n *\n * Copyright 2011, AUTHORS.txt (http:\/\/jqueryui.com\/about)\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http:\/\/jquery.org\/license\n *\n * http:\/\/docs.jquery.com\/UI\/Mouse\n *\n * Depends:\n *\tjquery.ui.widget.js\n *\/(function(a,b){var c=!1;a(document).mouseup(function(a){c=!1}),a.widget(\"ui.mouse\",{options:{cancel:\":input,option\",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind(\"mousedown.\"+this.widgetName,function(a){return b._mouseDown(a)}).bind(\"click.\"+this.widgetName,function(c){if(!0===a.data(c.target,b.widgetName+\".preventClickEvent\")){a.removeData(c.target,b.widgetName+\".preventClickEvent\"),c.stopImmediatePropagation();return!1}}),this.started=!1},_mouseDestroy:function(){this.element.unbind(\".\"+this.widgetName)},_mouseDown:function(b){if(!c){this._mouseStarted&&this._mouseUp(b),this._mouseDownEvent=b;var d=this,e=b.which==1,f=typeof this.options.cancel==\"string\"&&b.target.nodeName?a(b.target).closest(this.options.cancel).length:!1;if(!e||f||!this._mouseCapture(b))return!0;this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)){this._mouseStarted=this._mouseStart(b)!==!1;if(!this._mouseStarted){b.preventDefault();return!0}}!0===a.data(b.target,this.widgetName+\".preventClickEvent\")&&a.removeData(b.target,this.widgetName+\".preventClickEvent\"),this._mouseMoveDelegate=function(a){return d._mouseMove(a)},this._mouseUpDelegate=function(a){return d._mouseUp(a)},a(document).bind(\"mousemove.\"+this.widgetName,this._mouseMoveDelegate).bind(\"mouseup.\"+this.widgetName,this._mouseUpDelegate),b.preventDefault(),c=!0;return!0}},_mouseMove:function(b){if(a.browser.msie&&!(document.documentMode>=9)&&!b.button)return this._mouseUp(b);if(this._mouseStarted){this._mouseDrag(b);return b.preventDefault()}this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b));return!this._mouseStarted},_mouseUp:function(b){a(document).unbind(\"mousemove.\"+this.widgetName,this._mouseMoveDelegate).unbind(\"mouseup.\"+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target==this._mouseDownEvent.target&&a.data(b.target,this.widgetName+\".preventClickEvent\",!0),this._mouseStop(b));return!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(a){return this.mouseDelayMet},_mouseStart:function(a){},_mouseDrag:function(a){},_mouseStop:function(a){},_mouseCapture:function(a){return!0}})})(jQuery);\/*\n * jQuery UI Draggable 1.8.18\n *\n * Copyright 2011, AUTHORS.txt (http:\/\/jqueryui.com\/about)\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http:\/\/jquery.org\/license\n *\n * http:\/\/docs.jquery.com\/UI\/Draggables\n *\n * Depends:\n *\tjquery.ui.core.js\n *\tjquery.ui.mouse.js\n *\tjquery.ui.widget.js\n *\/(function(a,b){a.widget(\"ui.draggable\",a.ui.mouse,{widgetEventPrefix:\"drag\",options:{addClasses:!0,appendTo:\"parent\",axis:!1,connectToSortable:!1,containment:!1,cursor:\"auto\",cursorAt:!1,grid:!1,handle:!1,helper:\"original\",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:\"default\",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:\"both\",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){this.options.helper==\"original\"&&!\/^(?:r|a|f)\/.test(this.element.css(\"position\"))&&(this.element[0].style.position=\"relative\"),this.options.addClasses&&this.element.addClass(\"ui-draggable\"),this.options.disabled&&this.element.addClass(\"ui-draggable-disabled\"),this._mouseInit()},destroy:function(){if(!!this.element.data(\"draggable\")){this.element.removeData(\"draggable\").unbind(\".draggable\").removeClass(\"ui-draggable ui-draggable-dragging ui-draggable-disabled\"),this._mouseDestroy();return this}},_mouseCapture:function(b){var c=this.options;if(this.helper||c.disabled||a(b.target).is(\".ui-resizable-handle\"))return!1;this.handle=this._getHandle(b);if(!this.handle)return!1;c.iframeFix&&a(c.iframeFix===!0?\"iframe\":c.iframeFix).each(function(){a('<div class=\"ui-draggable-iframeFix\" style=\"background: #fff;\"><\/div>').css({width:this.offsetWidth+\"px\",height:this.offsetHeight+\"px\",position:\"absolute\",opacity:\"0.001\",zIndex:1e3}).css(a(this).offset()).appendTo(\"body\")});return!0},_mouseStart:function(b){var c=this.options;this.helper=this._createHelper(b),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css(\"position\"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),c.containment&&this._setContainment();if(this._trigger(\"start\",b)===!1){this._clear();return!1}this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.helper.addClass(\"ui-draggable-dragging\"),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b);return!0},_mouseDrag:function(b,c){this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo(\"absolute\");if(!c){var d=this._uiHash();if(this._trigger(\"drag\",b,d)===!1){this._mouseUp({});return!1}this.position=d.position}if(!this.options.axis||this.options.axis!=\"y\")this.helper[0].style.left=this.position.left+\"px\";if(!this.options.axis||this.options.axis!=\"x\")this.helper[0].style.top=this.position.top+\"px\";a.ui.ddmanager&&a.ui.ddmanager.drag(this,b);return!1},_mouseStop:function(b){var c=!1;a.ui.ddmanager&&!this.options.dropBehaviour&&(c=a.ui.ddmanager.drop(this,b)),this.dropped&&(c=this.dropped,this.dropped=!1);if((!this.element[0]||!this.element[0].parentNode)&&this.options.helper==\"original\")return!1;if(this.options.revert==\"invalid\"&&!c||this.options.revert==\"valid\"&&c||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)){var d=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){d._trigger(\"stop\",b)!==!1&&d._clear()})}else this._trigger(\"stop\",b)!==!1&&this._clear();return!1},_mouseUp:function(b){this.options.iframeFix===!0&&a(\"div.ui-draggable-iframeFix\").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b);return a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){this.helper.is(\".ui-draggable-dragging\")?this._mouseUp({}):this._clear();return this},_getHandle:function(b){var c=!this.options.handle||!a(this.options.handle,this.element).length?!0:!1;a(this.options.handle,this.element).find(\"*\").andSelf().each(function(){this==b.target&&(c=!0)});return c},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b])):c.helper==\"clone\"?this.element.clone().removeAttr(\"id\"):this.element;d.parents(\"body\").length||d.appendTo(c.appendTo==\"parent\"?this.element[0].parentNode:c.appendTo),d[0]!=this.element[0]&&!\/(fixed|absolute)\/.test(d.css(\"position\"))&&d.css(\"position\",\"absolute\");return d},_adjustOffsetFromHelper:function(b){typeof b==\"string\"&&(b=b.split(\" \")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),\"left\"in b&&(this.offset.click.left=b.left+this.margins.left),\"right\"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),\"top\"in b&&(this.offset.click.top=b.top+this.margins.top),\"bottom\"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();this.cssPosition==\"absolute\"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==\"html\"&&a.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css(\"borderTopWidth\"),10)||0),left:b.left+(parseInt(this.offsetParent.css(\"borderLeftWidth\"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==\"relative\"){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css(\"top\"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css(\"left\"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css(\"marginLeft\"),10)||0,top:parseInt(this.element.css(\"marginTop\"),10)||0,right:parseInt(this.element.css(\"marginRight\"),10)||0,bottom:parseInt(this.element.css(\"marginBottom\"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;b.containment==\"parent\"&&(b.containment=this.helper[0].parentNode);if(b.containment==\"document\"||b.containment==\"window\")this.containment=[b.containment==\"document\"?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,b.containment==\"document\"?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(b.containment==\"document\"?0:a(window).scrollLeft())+a(b.containment==\"document\"?document:window).width()-this.helperProportions.width-this.margins.left,(b.containment==\"document\"?0:a(window).scrollTop())+(a(b.containment==\"document\"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!\/^(document|window|parent)$\/.test(b.containment)&&b.containment.constructor!=Array){var c=a(b.containment),d=c[0];if(!d)return;var e=c.offset(),f=a(d).css(\"overflow\")!=\"hidden\";this.containment=[(parseInt(a(d).css(\"borderLeftWidth\"),10)||0)+(parseInt(a(d).css(\"paddingLeft\"),10)||0),(parseInt(a(d).css(\"borderTopWidth\"),10)||0)+(parseInt(a(d).css(\"paddingTop\"),10)||0),(f?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css(\"borderLeftWidth\"),10)||0)-(parseInt(a(d).css(\"paddingRight\"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(f?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css(\"borderTopWidth\"),10)||0)-(parseInt(a(d).css(\"paddingBottom\"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=c}else b.containment.constructor==Array&&(this.containment=b.containment)},_convertPositionTo:function(b,c){c||(c=this.position);var d=b==\"absolute\"?1:-1,e=this.options,f=this.cssPosition==\"absolute\"&&(this.scrollParent[0]==document||!a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,g=\/(html|body)\/i.test(f[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-(a.browser.safari&&a.browser.version<526&&this.cssPosition==\"fixed\"?0:(this.cssPosition==\"fixed\"?-this.scrollParent.scrollTop():g?0:f.scrollTop())*d),left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-(a.browser.safari&&a.browser.version<526&&this.cssPosition==\"fixed\"?0:(this.cssPosition==\"fixed\"?-this.scrollParent.scrollLeft():g?0:f.scrollLeft())*d)}},_generatePosition:function(b){var c=this.options,d=this.cssPosition==\"absolute\"&&(this.scrollParent[0]==document||!a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=\/(html|body)\/i.test(d[0].tagName),f=b.pageX,g=b.pageY;if(this.originalPosition){var h;if(this.containment){if(this.relative_container){var i=this.relative_container.offset();h=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]}else h=this.containment;b.pageX-this.offset.click.left<h[0]&&(f=h[0]+this.offset.click.left),b.pageY-this.offset.click.top<h[1]&&(g=h[1]+this.offset.click.top),b.pageX-this.offset.click.left>h[2]&&(f=h[2]+this.offset.click.left),b.pageY-this.offset.click.top>h[3]&&(g=h[3]+this.offset.click.top)}if(c.grid){var j=c.grid[1]?this.originalPageY+Math.round((g-this.originalPageY)\/c.grid[1])*c.grid[1]:this.originalPageY;g=h?j-this.offset.click.top<h[1]||j-this.offset.click.top>h[3]?j-this.offset.click.top<h[1]?j+c.grid[1]:j-c.grid[1]:j:j;var k=c.grid[0]?this.originalPageX+Math.round((f-this.originalPageX)\/c.grid[0])*c.grid[0]:this.originalPageX;f=h?k-this.offset.click.left<h[0]||k-this.offset.click.left>h[2]?k-this.offset.click.left<h[0]?k+c.grid[0]:k-c.grid[0]:k:k}}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&a.browser.version<526&&this.cssPosition==\"fixed\"?0:this.cssPosition==\"fixed\"?-this.scrollParent.scrollTop():e?0:d.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&a.browser.version<526&&this.cssPosition==\"fixed\"?0:this.cssPosition==\"fixed\"?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())}},_clear:function(){this.helper.removeClass(\"ui-draggable-dragging\"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(b,c,d){d=d||this._uiHash(),a.ui.plugin.call(this,b,[c,d]),b==\"drag\"&&(this.positionAbs=this._convertPositionTo(\"absolute\"));return a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(a){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.extend(a.ui.draggable,{version:\"1.8.18\"}),a.ui.plugin.add(\"draggable\",\"connectToSortable\",{start:function(b,c){var d=a(this).data(\"draggable\"),e=d.options,f=a.extend({},c,{item:d.element});d.sortables=[],a(e.connectToSortable).each(function(){var c=a.data(this,\"sortable\");c&&!c.options.disabled&&(d.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger(\"activate\",b,f))})},stop:function(b,c){var d=a(this).data(\"draggable\"),e=a.extend({},c,{item:d.element});a.each(d.sortables,function(){this.instance.isOver?(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,d.options.helper==\"original\"&&this.instance.currentItem.css({top:\"auto\",left:\"auto\"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger(\"deactivate\",b,e))})},drag:function(b,c){var d=a(this).data(\"draggable\"),e=this,f=function(b){var c=this.offset.click.top,d=this.offset.click.left,e=this.positionAbs.top,f=this.positionAbs.left,g=b.height,h=b.width,i=b.top,j=b.left;return a.ui.isOver(e+c,f+d,i,j,g,h)};a.each(d.sortables,function(f){this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(e).clone().removeAttr(\"id\").appendTo(this.instance.element).data(\"sortable-item\",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger(\"toSortable\",b),d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger(\"out\",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d._trigger(\"fromSortable\",b),d.dropped=!1)})}}),a.ui.plugin.add(\"draggable\",\"cursor\",{start:function(b,c){var d=a(\"body\"),e=a(this).data(\"draggable\").options;d.css(\"cursor\")&&(e._cursor=d.css(\"cursor\")),d.css(\"cursor\",e.cursor)},stop:function(b,c){var d=a(this).data(\"draggable\").options;d._cursor&&a(\"body\").css(\"cursor\",d._cursor)}}),a.ui.plugin.add(\"draggable\",\"opacity\",{start:function(b,c){var d=a(c.helper),e=a(this).data(\"draggable\").options;d.css(\"opacity\")&&(e._opacity=d.css(\"opacity\")),d.css(\"opacity\",e.opacity)},stop:function(b,c){var d=a(this).data(\"draggable\").options;d._opacity&&a(c.helper).css(\"opacity\",d._opacity)}}),a.ui.plugin.add(\"draggable\",\"scroll\",{start:function(b,c){var d=a(this).data(\"draggable\");d.scrollParent[0]!=document&&d.scrollParent[0].tagName!=\"HTML\"&&(d.overflowOffset=d.scrollParent.offset())},drag:function(b,c){var d=a(this).data(\"draggable\"),e=d.options,f=!1;if(d.scrollParent[0]!=document&&d.scrollParent[0].tagName!=\"HTML\"){if(!e.axis||e.axis!=\"x\")d.overflowOffset.top+d.scrollParent[0].offsetHeight-b.pageY<e.scrollSensitivity?d.scrollParent[0].scrollTop=f=d.scrollParent[0].scrollTop+e.scrollSpeed:b.pageY-d.overflowOffset.top<e.scrollSensitivity&&(d.scrollParent[0].scrollTop=f=d.scrollParent[0].scrollTop-e.scrollSpeed);if(!e.axis||e.axis!=\"y\")d.overflowOffset.left+d.scrollParent[0].offsetWidth-b.pageX<e.scrollSensitivity?d.scrollParent[0].scrollLeft=f=d.scrollParent[0].scrollLeft+e.scrollSpeed:b.pageX-d.overflowOffset.left<e.scrollSensitivity&&(d.scrollParent[0].scrollLeft=f=d.scrollParent[0].scrollLeft-e.scrollSpeed)}else{if(!e.axis||e.axis!=\"x\")b.pageY-a(document).scrollTop()<e.scrollSensitivity?f=a(document).scrollTop(a(document).scrollTop()-e.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<e.scrollSensitivity&&(f=a(document).scrollTop(a(document).scrollTop()+e.scrollSpeed));if(!e.axis||e.axis!=\"y\")b.pageX-a(document).scrollLeft()<e.scrollSensitivity?f=a(document).scrollLeft(a(document).scrollLeft()-e.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<e.scrollSensitivity&&(f=a(document).scrollLeft(a(document).scrollLeft()+e.scrollSpeed))}f!==!1&&a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(d,b)}}),a.ui.plugin.add(\"draggable\",\"snap\",{start:function(b,c){var d=a(this).data(\"draggable\"),e=d.options;d.snapElements=[],a(e.snap.constructor!=String?e.snap.items||\":data(draggable)\":e.snap).each(function(){var b=a(this),c=b.offset();this!=d.element[0]&&d.snapElements.push({item:this,width:b.outerWidth(),height:b.outerHeight(),top:c.top,left:c.left})})},drag:function(b,c){var d=a(this).data(\"draggable\"),e=d.options,f=e.snapTolerance,g=c.offset.left,h=g+d.helperProportions.width,i=c.offset.top,j=i+d.helperProportions.height;for(var k=d.snapElements.length-1;k>=0;k--){var l=d.snapElements[k].left,m=l+d.snapElements[k].width,n=d.snapElements[k].top,o=n+d.snapElements[k].height;if(!(l-f<g&&g<m+f&&n-f<i&&i<o+f||l-f<g&&g<m+f&&n-f<j&&j<o+f||l-f<h&&h<m+f&&n-f<i&&i<o+f||l-f<h&&h<m+f&&n-f<j&&j<o+f)){d.snapElements[k].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[k].item})),d.snapElements[k].snapping=!1;continue}if(e.snapMode!=\"inner\"){var p=Math.abs(n-j)<=f,q=Math.abs(o-i)<=f,r=Math.abs(l-h)<=f,s=Math.abs(m-g)<=f;p&&(c.position.top=d._convertPositionTo(\"relative\",{top:n-d.helperProportions.height,left:0}).top-d.margins.top),q&&(c.position.top=d._convertPositionTo(\"relative\",{top:o,left:0}).top-d.margins.top),r&&(c.position.left=d._convertPositionTo(\"relative\",{top:0,left:l-d.helperProportions.width}).left-d.margins.left),s&&(c.position.left=d._convertPositionTo(\"relative\",{top:0,left:m}).left-d.margins.left)}var t=p||q||r||s;if(e.snapMode!=\"outer\"){var p=Math.abs(n-i)<=f,q=Math.abs(o-j)<=f,r=Math.abs(l-g)<=f,s=Math.abs(m-h)<=f;p&&(c.position.top=d._convertPositionTo(\"relative\",{top:n,left:0}).top-d.margins.top),q&&(c.position.top=d._convertPositionTo(\"relative\",{top:o-d.helperProportions.height,left:0}).top-d.margins.top),r&&(c.position.left=d._convertPositionTo(\"relative\",{top:0,left:l}).left-d.margins.left),s&&(c.position.left=d._convertPositionTo(\"relative\",{top:0,left:m-d.helperProportions.width}).left-d.margins.left)}!d.snapElements[k].snapping&&(p||q||r||s||t)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[k].item})),d.snapElements[k].snapping=p||q||r||s||t}}}),a.ui.plugin.add(\"draggable\",\"stack\",{start:function(b,c){var d=a(this).data(\"draggable\").options,e=a.makeArray(a(d.stack)).sort(function(b,c){return(parseInt(a(b).css(\"zIndex\"),10)||0)-(parseInt(a(c).css(\"zIndex\"),10)||0)});if(!!e.length){var f=parseInt(e[0].style.zIndex)||0;a(e).each(function(a){this.style.zIndex=f+a}),this[0].style.zIndex=f+e.length}}}),a.ui.plugin.add(\"draggable\",\"zIndex\",{start:function(b,c){var d=a(c.helper),e=a(this).data(\"draggable\").options;d.css(\"zIndex\")&&(e._zIndex=d.css(\"zIndex\")),d.css(\"zIndex\",e.zIndex)},stop:function(b,c){var d=a(this).data(\"draggable\").options;d._zIndex&&a(c.helper).css(\"zIndex\",d._zIndex)}})})(jQuery);","lib\/jquery-ui.min.js":"\/*!\n * jQuery UI 1.8.18\n *\n * Copyright 2011, AUTHORS.txt (http:\/\/jqueryui.com\/about)\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http:\/\/jquery.org\/license\n *\n * http:\/\/docs.jquery.com\/UI\n *\/(function(a,b){function d(b){return!a(b).parents().andSelf().filter(function(){return a.curCSS(this,\"visibility\")===\"hidden\"||a.expr.filters.hidden(this)}).length}function c(b,c){var e=b.nodeName.toLowerCase();if(\"area\"===e){var f=b.parentNode,g=f.name,h;if(!b.href||!g||f.nodeName.toLowerCase()!==\"map\")return!1;h=a(\"img[usemap=#\"+g+\"]\")[0];return!!h&&d(h)}return(\/input|select|textarea|button|object\/.test(e)?!b.disabled:\"a\"==e?b.href||c:c)&&d(b)}a.ui=a.ui||{};a.ui.version||(a.extend(a.ui,{version:\"1.8.18\",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),a.fn.extend({propAttr:a.fn.prop||a.fn.attr,_focus:a.fn.focus,focus:function(b,c){return typeof b==\"number\"?this.each(function(){var d=this;setTimeout(function(){a(d).focus(),c&&c.call(d)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;a.browser.msie&&\/(static|relative)\/.test(this.css(\"position\"))||\/absolute\/.test(this.css(\"position\"))?b=this.parents().filter(function(){return\/(relative|absolute|fixed)\/.test(a.curCSS(this,\"position\",1))&&\/(auto|scroll)\/.test(a.curCSS(this,\"overflow\",1)+a.curCSS(this,\"overflow-y\",1)+a.curCSS(this,\"overflow-x\",1))}).eq(0):b=this.parents().filter(function(){return\/(auto|scroll)\/.test(a.curCSS(this,\"overflow\",1)+a.curCSS(this,\"overflow-y\",1)+a.curCSS(this,\"overflow-x\",1))}).eq(0);return\/fixed\/.test(this.css(\"position\"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css(\"zIndex\",c);if(this.length){var d=a(this[0]),e,f;while(d.length&&d[0]!==document){e=d.css(\"position\");if(e===\"absolute\"||e===\"relative\"||e===\"fixed\"){f=parseInt(d.css(\"zIndex\"),10);if(!isNaN(f)&&f!==0)return f}d=d.parent()}}return 0},disableSelection:function(){return this.bind((a.support.selectstart?\"selectstart\":\"mousedown\")+\".ui-disableSelection\",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(\".ui-disableSelection\")}}),a.each([\"Width\",\"Height\"],function(c,d){function h(b,c,d,f){a.each(e,function(){c-=parseFloat(a.curCSS(b,\"padding\"+this,!0))||0,d&&(c-=parseFloat(a.curCSS(b,\"border\"+this+\"Width\",!0))||0),f&&(c-=parseFloat(a.curCSS(b,\"margin\"+this,!0))||0)});return c}var e=d===\"Width\"?[\"Left\",\"Right\"]:[\"Top\",\"Bottom\"],f=d.toLowerCase(),g={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn[\"inner\"+d]=function(c){if(c===b)return g[\"inner\"+d].call(this);return this.each(function(){a(this).css(f,h(this,c)+\"px\")})},a.fn[\"outer\"+d]=function(b,c){if(typeof b!=\"number\")return g[\"outer\"+d].call(this,b);return this.each(function(){a(this).css(f,h(this,b,!0,c)+\"px\")})}}),a.extend(a.expr[\":\"],{data:function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,\"tabindex\")))},tabbable:function(b){var d=a.attr(b,\"tabindex\"),e=isNaN(d);return(e||d>=0)&&c(b,!e)}}),a(function(){var b=document.body,c=b.appendChild(c=document.createElement(\"div\"));c.offsetHeight,a.extend(c.style,{minHeight:\"100px\",height:\"auto\",padding:0,borderWidth:0}),a.support.minHeight=c.offsetHeight===100,a.support.selectstart=\"onselectstart\"in c,b.removeChild(c).style.display=\"none\"}),a.extend(a.ui,{plugin:{add:function(b,c,d){var e=a.ui[b].prototype;for(var f in d)e.plugins[f]=e.plugins[f]||[],e.plugins[f].push([c,d[f]])},call:function(a,b,c){var d=a.plugins[b];if(!!d&&!!a.element[0].parentNode)for(var e=0;e<d.length;e++)a.options[d[e][0]]&&d[e][1].apply(a.element,c)}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(b,c){if(a(b).css(\"overflow\")===\"hidden\")return!1;var d=c&&c===\"left\"?\"scrollLeft\":\"scrollTop\",e=!1;if(b[d]>0)return!0;b[d]=1,e=b[d]>0,b[d]=0;return e},isOverAxis:function(a,b,c){return a>b&&a<b+c},isOver:function(b,c,d,e,f,g){return a.ui.isOverAxis(b,d,f)&&a.ui.isOverAxis(c,e,g)}}))})(jQuery),function(a,b){if(a.cleanData){var c=a.cleanData;a.cleanData=function(b){for(var d=0,e;(e=b[d])!=null;d++)try{a(e).triggerHandler(\"remove\")}catch(f){}c(b)}}else{var d=a.fn.remove;a.fn.remove=function(b,c){return this.each(function(){c||(!b||a.filter(b,[this]).length)&&a(\"*\",this).add([this]).each(function(){try{a(this).triggerHandler(\"remove\")}catch(b){}});return d.call(a(this),b,c)})}}a.widget=function(b,c,d){var e=b.split(\".\")[0],f;b=b.split(\".\")[1],f=e+\"-\"+b,d||(d=c,c=a.Widget),a.expr[\":\"][f]=function(c){return!!a.data(c,b)},a[e]=a[e]||{},a[e][b]=function(a,b){arguments.length&&this._createWidget(a,b)};var g=new c;g.options=a.extend(!0,{},g.options),a[e][b].prototype=a.extend(!0,g,{namespace:e,widgetName:b,widgetEventPrefix:a[e][b].prototype.widgetEventPrefix||b,widgetBaseClass:f},d),a.widget.bridge(b,a[e][b])},a.widget.bridge=function(c,d){a.fn[c]=function(e){var f=typeof e==\"string\",g=Array.prototype.slice.call(arguments,1),h=this;e=!f&&g.length?a.extend.apply(null,[!0,e].concat(g)):e;if(f&&e.charAt(0)===\"_\")return h;f?this.each(function(){var d=a.data(this,c),f=d&&a.isFunction(d[e])?d[e].apply(d,g):d;if(f!==d&&f!==b){h=f;return!1}}):this.each(function(){var b=a.data(this,c);b?b.option(e||{})._init():a.data(this,c,new d(e,this))});return h}},a.Widget=function(a,b){arguments.length&&this._createWidget(a,b)},a.Widget.prototype={widgetName:\"widget\",widgetEventPrefix:\"\",options:{disabled:!1},_createWidget:function(b,c){a.data(c,this.widgetName,this),this.element=a(c),this.options=a.extend(!0,{},this.options,this._getCreateOptions(),b);var d=this;this.element.bind(\"remove.\"+this.widgetName,function(){d.destroy()}),this._create(),this._trigger(\"create\"),this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind(\".\"+this.widgetName).removeData(this.widgetName),this.widget().unbind(\".\"+this.widgetName).removeAttr(\"aria-disabled\").removeClass(this.widgetBaseClass+\"-disabled \"+\"ui-state-disabled\")},widget:function(){return this.element},option:function(c,d){var e=c;if(arguments.length===0)return a.extend({},this.options);if(typeof c==\"string\"){if(d===b)return this.options[c];e={},e[c]=d}this._setOptions(e);return this},_setOptions:function(b){var c=this;a.each(b,function(a,b){c._setOption(a,b)});return this},_setOption:function(a,b){this.options[a]=b,a===\"disabled\"&&this.widget()[b?\"addClass\":\"removeClass\"](this.widgetBaseClass+\"-disabled\"+\" \"+\"ui-state-disabled\").attr(\"aria-disabled\",b);return this},enable:function(){return this._setOption(\"disabled\",!1)},disable:function(){return this._setOption(\"disabled\",!0)},_trigger:function(b,c,d){var e,f,g=this.options[b];d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent;if(f)for(e in f)e in c||(c[e]=f[e]);this.element.trigger(c,d);return!(a.isFunction(g)&&g.call(this.element[0],c,d)===!1||c.isDefaultPrevented())}}}(jQuery),function(a,b){var c=!1;a(document).mouseup(function(a){c=!1}),a.widget(\"ui.mouse\",{options:{cancel:\":input,option\",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind(\"mousedown.\"+this.widgetName,function(a){return b._mouseDown(a)}).bind(\"click.\"+this.widgetName,function(c){if(!0===a.data(c.target,b.widgetName+\".preventClickEvent\")){a.removeData(c.target,b.widgetName+\".preventClickEvent\"),c.stopImmediatePropagation();return!1}}),this.started=!1},_mouseDestroy:function(){this.element.unbind(\".\"+this.widgetName)},_mouseDown:function(b){if(!c){this._mouseStarted&&this._mouseUp(b),this._mouseDownEvent=b;var d=this,e=b.which==1,f=typeof this.options.cancel==\"string\"&&b.target.nodeName?a(b.target).closest(this.options.cancel).length:!1;if(!e||f||!this._mouseCapture(b))return!0;this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)){this._mouseStarted=this._mouseStart(b)!==!1;if(!this._mouseStarted){b.preventDefault();return!0}}!0===a.data(b.target,this.widgetName+\".preventClickEvent\")&&a.removeData(b.target,this.widgetName+\".preventClickEvent\"),this._mouseMoveDelegate=function(a){return d._mouseMove(a)},this._mouseUpDelegate=function(a){return d._mouseUp(a)},a(document).bind(\"mousemove.\"+this.widgetName,this._mouseMoveDelegate).bind(\"mouseup.\"+this.widgetName,this._mouseUpDelegate),b.preventDefault(),c=!0;return!0}},_mouseMove:function(b){if(a.browser.msie&&!(document.documentMode>=9)&&!b.button)return this._mouseUp(b);if(this._mouseStarted){this._mouseDrag(b);return b.preventDefault()}this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b));return!this._mouseStarted},_mouseUp:function(b){a(document).unbind(\"mousemove.\"+this.widgetName,this._mouseMoveDelegate).unbind(\"mouseup.\"+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target==this._mouseDownEvent.target&&a.data(b.target,this.widgetName+\".preventClickEvent\",!0),this._mouseStop(b));return!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(a){return this.mouseDelayMet},_mouseStart:function(a){},_mouseDrag:function(a){},_mouseStop:function(a){},_mouseCapture:function(a){return!0}})}(jQuery),function(a,b){a.widget(\"ui.draggable\",a.ui.mouse,{widgetEventPrefix:\"drag\",options:{addClasses:!0,appendTo:\"parent\",axis:!1,connectToSortable:!1,containment:!1,cursor:\"auto\",cursorAt:!1,grid:!1,handle:!1,helper:\"original\",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:\"default\",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:\"both\",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){this.options.helper==\"original\"&&!\/^(?:r|a|f)\/.test(this.element.css(\"position\"))&&(this.element[0].style.position=\"relative\"),this.options.addClasses&&this.element.addClass(\"ui-draggable\"),this.options.disabled&&this.element.addClass(\"ui-draggable-disabled\"),this._mouseInit()},destroy:function(){if(!!this.element.data(\"draggable\")){this.element.removeData(\"draggable\").unbind(\".draggable\").removeClass(\"ui-draggable ui-draggable-dragging ui-draggable-disabled\"),this._mouseDestroy();return this}},_mouseCapture:function(b){var c=this.options;if(this.helper||c.disabled||a(b.target).is(\".ui-resizable-handle\"))return!1;this.handle=this._getHandle(b);if(!this.handle)return!1;c.iframeFix&&a(c.iframeFix===!0?\"iframe\":c.iframeFix).each(function(){a('<div class=\"ui-draggable-iframeFix\" style=\"background: #fff;\"><\/div>').css({width:this.offsetWidth+\"px\",height:this.offsetHeight+\"px\",position:\"absolute\",opacity:\"0.001\",zIndex:1e3}).css(a(this).offset()).appendTo(\"body\")});return!0},_mouseStart:function(b){var c=this.options;this.helper=this._createHelper(b),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css(\"position\"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),c.containment&&this._setContainment();if(this._trigger(\"start\",b)===!1){this._clear();return!1}this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.helper.addClass(\"ui-draggable-dragging\"),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b);return!0},_mouseDrag:function(b,c){this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo(\"absolute\");if(!c){var d=this._uiHash();if(this._trigger(\"drag\",b,d)===!1){this._mouseUp({});return!1}this.position=d.position}if(!this.options.axis||this.options.axis!=\"y\")this.helper[0].style.left=this.position.left+\"px\";if(!this.options.axis||this.options.axis!=\"x\")this.helper[0].style.top=this.position.top+\"px\";a.ui.ddmanager&&a.ui.ddmanager.drag(this,b);return!1},_mouseStop:function(b){var c=!1;a.ui.ddmanager&&!this.options.dropBehaviour&&(c=a.ui.ddmanager.drop(this,b)),this.dropped&&(c=this.dropped,this.dropped=!1);if((!this.element[0]||!this.element[0].parentNode)&&this.options.helper==\"original\")return!1;if(this.options.revert==\"invalid\"&&!c||this.options.revert==\"valid\"&&c||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)){var d=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){d._trigger(\"stop\",b)!==!1&&d._clear()})}else this._trigger(\"stop\",b)!==!1&&this._clear();return!1},_mouseUp:function(b){this.options.iframeFix===!0&&a(\"div.ui-draggable-iframeFix\").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b);return a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){this.helper.is(\".ui-draggable-dragging\")?this._mouseUp({}):this._clear();return this},_getHandle:function(b){var c=!this.options.handle||!a(this.options.handle,this.element).length?!0:!1;a(this.options.handle,this.element).find(\"*\").andSelf().each(function(){this==b.target&&(c=!0)});return c},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b])):c.helper==\"clone\"?this.element.clone().removeAttr(\"id\"):this.element;d.parents(\"body\").length||d.appendTo(c.appendTo==\"parent\"?this.element[0].parentNode:c.appendTo),d[0]!=this.element[0]&&!\/(fixed|absolute)\/.test(d.css(\"position\"))&&d.css(\"position\",\"absolute\");return d},_adjustOffsetFromHelper:function(b){typeof b==\"string\"&&(b=b.split(\" \")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),\"left\"in b&&(this.offset.click.left=b.left+this.margins.left),\"right\"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),\"top\"in b&&(this.offset.click.top=b.top+this.margins.top),\"bottom\"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();this.cssPosition==\"absolute\"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==\"html\"&&a.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css(\"borderTopWidth\"),10)||0),left:b.left+(parseInt(this.offsetParent.css(\"borderLeftWidth\"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==\"relative\"){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css(\"top\"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css(\"left\"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css(\"marginLeft\"),10)||0,top:parseInt(this.element.css(\"marginTop\"),10)||0,right:parseInt(this.element.css(\"marginRight\"),10)||0,bottom:parseInt(this.element.css(\"marginBottom\"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;b.containment==\"parent\"&&(b.containment=this.helper[0].parentNode);if(b.containment==\"document\"||b.containment==\"window\")this.containment=[b.containment==\"document\"?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,b.containment==\"document\"?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(b.containment==\"document\"?0:a(window).scrollLeft())+a(b.containment==\"document\"?document:window).width()-this.helperProportions.width-this.margins.left,(b.containment==\"document\"?0:a(window).scrollTop())+(a(b.containment==\"document\"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!\/^(document|window|parent)$\/.test(b.containment)&&b.containment.constructor!=Array){var c=a(b.containment),d=c[0];if(!d)return;var e=c.offset(),f=a(d).css(\"overflow\")!=\"hidden\";this.containment=[(parseInt(a(d).css(\"borderLeftWidth\"),10)||0)+(parseInt(a(d).css(\"paddingLeft\"),10)||0),(parseInt(a(d).css(\"borderTopWidth\"),10)||0)+(parseInt(a(d).css(\"paddingTop\"),10)||0),(f?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css(\"borderLeftWidth\"),10)||0)-(parseInt(a(d).css(\"paddingRight\"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(f?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css(\"borderTopWidth\"),10)||0)-(parseInt(a(d).css(\"paddingBottom\"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=c}else b.containment.constructor==Array&&(this.containment=b.containment)},_convertPositionTo:function(b,c){c||(c=this.position);var d=b==\"absolute\"?1:-1,e=this.options,f=this.cssPosition==\"absolute\"&&(this.scrollParent[0]==document||!a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,g=\/(html|body)\/i.test(f[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-(a.browser.safari&&a.browser.version<526&&this.cssPosition==\"fixed\"?0:(this.cssPosition==\"fixed\"?-this.scrollParent.scrollTop():g?0:f.scrollTop())*d),left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-(a.browser.safari&&a.browser.version<526&&this.cssPosition==\"fixed\"?0:(this.cssPosition==\"fixed\"?-this.scrollParent.scrollLeft():g?0:f.scrollLeft())*d)}},_generatePosition:function(b){var c=this.options,d=this.cssPosition==\"absolute\"&&(this.scrollParent[0]==document||!a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=\/(html|body)\/i.test(d[0].tagName),f=b.pageX,g=b.pageY;if(this.originalPosition){var h;if(this.containment){if(this.relative_container){var i=this.relative_container.offset();h=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]}else h=this.containment;b.pageX-this.offset.click.left<h[0]&&(f=h[0]+this.offset.click.left),b.pageY-this.offset.click.top<h[1]&&(g=h[1]+this.offset.click.top),b.pageX-this.offset.click.left>h[2]&&(f=h[2]+this.offset.click.left),b.pageY-this.offset.click.top>h[3]&&(g=h[3]+this.offset.click.top)}if(c.grid){var j=c.grid[1]?this.originalPageY+Math.round((g-this.originalPageY)\/c.grid[1])*c.grid[1]:this.originalPageY;g=h?j-this.offset.click.top<h[1]||j-this.offset.click.top>h[3]?j-this.offset.click.top<h[1]?j+c.grid[1]:j-c.grid[1]:j:j;var k=c.grid[0]?this.originalPageX+Math.round((f-this.originalPageX)\/c.grid[0])*c.grid[0]:this.originalPageX;f=h?k-this.offset.click.left<h[0]||k-this.offset.click.left>h[2]?k-this.offset.click.left<h[0]?k+c.grid[0]:k-c.grid[0]:k:k}}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&a.browser.version<526&&this.cssPosition==\"fixed\"?0:this.cssPosition==\"fixed\"?-this.scrollParent.scrollTop():e?0:d.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&a.browser.version<526&&this.cssPosition==\"fixed\"?0:this.cssPosition==\"fixed\"?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())}},_clear:function(){this.helper.removeClass(\"ui-draggable-dragging\"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(b,c,d){d=d||this._uiHash(),a.ui.plugin.call(this,b,[c,d]),b==\"drag\"&&(this.positionAbs=this._convertPositionTo(\"absolute\"));return a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(a){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.extend(a.ui.draggable,{version:\"1.8.18\"}),a.ui.plugin.add(\"draggable\",\"connectToSortable\",{start:function(b,c){var d=a(this).data(\"draggable\"),e=d.options,f=a.extend({},c,{item:d.element});d.sortables=[],a(e.connectToSortable).each(function(){var c=a.data(this,\"sortable\");c&&!c.options.disabled&&(d.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger(\"activate\",b,f))})},stop:function(b,c){var d=a(this).data(\"draggable\"),e=a.extend({},c,{item:d.element});a.each(d.sortables,function(){this.instance.isOver?(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,d.options.helper==\"original\"&&this.instance.currentItem.css({top:\"auto\",left:\"auto\"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger(\"deactivate\",b,e))})},drag:function(b,c){var d=a(this).data(\"draggable\"),e=this,f=function(b){var c=this.offset.click.top,d=this.offset.click.left,e=this.positionAbs.top,f=this.positionAbs.left,g=b.height,h=b.width,i=b.top,j=b.left;return a.ui.isOver(e+c,f+d,i,j,g,h)};a.each(d.sortables,function(f){this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(e).clone().removeAttr(\"id\").appendTo(this.instance.element).data(\"sortable-item\",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger(\"toSortable\",b),d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger(\"out\",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d._trigger(\"fromSortable\",b),d.dropped=!1)})}}),a.ui.plugin.add(\"draggable\",\"cursor\",{start:function(b,c){var d=a(\"body\"),e=a(this).data(\"draggable\").options;d.css(\"cursor\")&&(e._cursor=d.css(\"cursor\")),d.css(\"cursor\",e.cursor)},stop:function(b,c){var d=a(this).data(\"draggable\").options;d._cursor&&a(\"body\").css(\"cursor\",d._cursor)}}),a.ui.plugin.add(\"draggable\",\"opacity\",{start:function(b,c){var d=a(c.helper),e=a(this).data(\"draggable\").options;d.css(\"opacity\")&&(e._opacity=d.css(\"opacity\")),d.css(\"opacity\",e.opacity)},stop:function(b,c){var d=a(this).data(\"draggable\").options;d._opacity&&a(c.helper).css(\"opacity\",d._opacity)}}),a.ui.plugin.add(\"draggable\",\"scroll\",{start:function(b,c){var d=a(this).data(\"draggable\");d.scrollParent[0]!=document&&d.scrollParent[0].tagName!=\"HTML\"&&(d.overflowOffset=d.scrollParent.offset())},drag:function(b,c){var d=a(this).data(\"draggable\"),e=d.options,f=!1;if(d.scrollParent[0]!=document&&d.scrollParent[0].tagName!=\"HTML\"){if(!e.axis||e.axis!=\"x\")d.overflowOffset.top+d.scrollParent[0].offsetHeight-b.pageY<e.scrollSensitivity?d.scrollParent[0].scrollTop=f=d.scrollParent[0].scrollTop+e.scrollSpeed:b.pageY-d.overflowOffset.top<e.scrollSensitivity&&(d.scrollParent[0].scrollTop=f=d.scrollParent[0].scrollTop-e.scrollSpeed);if(!e.axis||e.axis!=\"y\")d.overflowOffset.left+d.scrollParent[0].offsetWidth-b.pageX<e.scrollSensitivity?d.scrollParent[0].scrollLeft=f=d.scrollParent[0].scrollLeft+e.scrollSpeed:b.pageX-d.overflowOffset.left<e.scrollSensitivity&&(d.scrollParent[0].scrollLeft=f=d.scrollParent[0].scrollLeft-e.scrollSpeed)}else{if(!e.axis||e.axis!=\"x\")b.pageY-a(document).scrollTop()<e.scrollSensitivity?f=a(document).scrollTop(a(document).scrollTop()-e.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<e.scrollSensitivity&&(f=a(document).scrollTop(a(document).scrollTop()+e.scrollSpeed));if(!e.axis||e.axis!=\"y\")b.pageX-a(document).scrollLeft()<e.scrollSensitivity?f=a(document).scrollLeft(a(document).scrollLeft()-e.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<e.scrollSensitivity&&(f=a(document).scrollLeft(a(document).scrollLeft()+e.scrollSpeed))}f!==!1&&a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(d,b)}}),a.ui.plugin.add(\"draggable\",\"snap\",{start:function(b,c){var d=a(this).data(\"draggable\"),e=d.options;d.snapElements=[],a(e.snap.constructor!=String?e.snap.items||\":data(draggable)\":e.snap).each(function(){var b=a(this),c=b.offset();this!=d.element[0]&&d.snapElements.push({item:this,width:b.outerWidth(),height:b.outerHeight(),top:c.top,left:c.left})})},drag:function(b,c){var d=a(this).data(\"draggable\"),e=d.options,f=e.snapTolerance,g=c.offset.left,h=g+d.helperProportions.width,i=c.offset.top,j=i+d.helperProportions.height;for(var k=d.snapElements.length-1;k>=0;k--){var l=d.snapElements[k].left,m=l+d.snapElements[k].width,n=d.snapElements[k].top,o=n+d.snapElements[k].height;if(!(l-f<g&&g<m+f&&n-f<i&&i<o+f||l-f<g&&g<m+f&&n-f<j&&j<o+f||l-f<h&&h<m+f&&n-f<i&&i<o+f||l-f<h&&h<m+f&&n-f<j&&j<o+f)){d.snapElements[k].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[k].item})),d.snapElements[k].snapping=!1;continue}if(e.snapMode!=\"inner\"){var p=Math.abs(n-j)<=f,q=Math.abs(o-i)<=f,r=Math.abs(l-h)<=f,s=Math.abs(m-g)<=f;p&&(c.position.top=d._convertPositionTo(\"relative\",{top:n-d.helperProportions.height,left:0}).top-d.margins.top),q&&(c.position.top=d._convertPositionTo(\"relative\",{top:o,left:0}).top-d.margins.top),r&&(c.position.left=d._convertPositionTo(\"relative\",{top:0,left:l-d.helperProportions.width}).left-d.margins.left),s&&(c.position.left=d._convertPositionTo(\"relative\",{top:0,left:m}).left-d.margins.left)}var t=p||q||r||s;if(e.snapMode!=\"outer\"){var p=Math.abs(n-i)<=f,q=Math.abs(o-j)<=f,r=Math.abs(l-g)<=f,s=Math.abs(m-h)<=f;p&&(c.position.top=d._convertPositionTo(\"relative\",{top:n,left:0}).top-d.margins.top),q&&(c.position.top=d._convertPositionTo(\"relative\",{top:o-d.helperProportions.height,left:0}).top-d.margins.top),r&&(c.position.left=d._convertPositionTo(\"relative\",{top:0,left:l}).left-d.margins.left),s&&(c.position.left=d._convertPositionTo(\"relative\",{top:0,left:m-d.helperProportions.width}).left-d.margins.left)}!d.snapElements[k].snapping&&(p||q||r||s||t)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[k].item})),d.snapElements[k].snapping=p||q||r||s||t}}}),a.ui.plugin.add(\"draggable\",\"stack\",{start:function(b,c){var d=a(this).data(\"draggable\").options,e=a.makeArray(a(d.stack)).sort(function(b,c){return(parseInt(a(b).css(\"zIndex\"),10)||0)-(parseInt(a(c).css(\"zIndex\"),10)||0)});if(!!e.length){var f=parseInt(e[0].style.zIndex)||0;a(e).each(function(a){this.style.zIndex=f+a}),this[0].style.zIndex=f+e.length}}}),a.ui.plugin.add(\"draggable\",\"zIndex\",{start:function(b,c){var d=a(c.helper),e=a(this).data(\"draggable\").options;d.css(\"zIndex\")&&(e._zIndex=d.css(\"zIndex\")),d.css(\"zIndex\",e.zIndex)},stop:function(b,c){var d=a(this).data(\"draggable\").options;d._zIndex&&a(c.helper).css(\"zIndex\",d._zIndex)}})}(jQuery),function(a,b){a.widget(\"ui.droppable\",{widgetEventPrefix:\"drop\",options:{accept:\"*\",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:\"default\",tolerance:\"intersect\"},_create:function(){var b=this.options,c=b.accept;this.isover=0,this.isout=1,this.accept=a.isFunction(c)?c:function(a){return a.is(c)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},a.ui.ddmanager.droppables[b.scope]=a.ui.ddmanager.droppables[b.scope]||[],a.ui.ddmanager.droppables[b.scope].push(this),b.addClasses&&this.element.addClass(\"ui-droppable\")},destroy:function(){var b=a.ui.ddmanager.droppables[this.options.scope];for(var c=0;c<b.length;c++)b[c]==this&&b.splice(c,1);this.element.removeClass(\"ui-droppable ui-droppable-disabled\").removeData(\"droppable\").unbind(\".droppable\");return this},_setOption:function(b,c){b==\"accept\"&&(this.accept=a.isFunction(c)?c:function(a){return a.is(c)}),a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),c&&this._trigger(\"activate\",b,this.ui(c))},_deactivate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),c&&this._trigger(\"deactivate\",b,this.ui(c))},_over:function(b){var c=a.ui.ddmanager.current;!!c&&(c.currentItem||c.element)[0]!=this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger(\"over\",b,this.ui(c)))},_out:function(b){var c=a.ui.ddmanager.current;!!c&&(c.currentItem||c.element)[0]!=this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger(\"out\",b,this.ui(c)))},_drop:function(b,c){var d=c||a.ui.ddmanager.current;if(!d||(d.currentItem||d.element)[0]==this.element[0])return!1;var e=!1;this.element.find(\":data(droppable)\").not(\".ui-draggable-dragging\").each(function(){var b=a.data(this,\"droppable\");if(b.options.greedy&&!b.options.disabled&&b.options.scope==d.options.scope&&b.accept.call(b.element[0],d.currentItem||d.element)&&a.ui.intersect(d,a.extend(b,{offset:b.element.offset()}),b.options.tolerance)){e=!0;return!1}});if(e)return!1;if(this.accept.call(this.element[0],d.currentItem||d.element)){this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger(\"drop\",b,this.ui(d));return this.element}return!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),a.extend(a.ui.droppable,{version:\"1.8.18\"}),a.ui.intersect=function(b,c,d){if(!c.offset)return!1;var e=(b.positionAbs||b.position.absolute).left,f=e+b.helperProportions.width,g=(b.positionAbs||b.position.absolute).top,h=g+b.helperProportions.height,i=c.offset.left,j=i+c.proportions.width,k=c.offset.top,l=k+c.proportions.height;switch(d){case\"fit\":return i<=e&&f<=j&&k<=g&&h<=l;case\"intersect\":return i<e+b.helperProportions.width\/2&&f-b.helperProportions.width\/2<j&&k<g+b.helperProportions.height\/2&&h-b.helperProportions.height\/2<l;case\"pointer\":var m=(b.positionAbs||b.position.absolute).left+(b.clickOffset||b.offset.click).left,n=(b.positionAbs||b.position.absolute).top+(b.clickOffset||b.offset.click).top,o=a.ui.isOver(n,m,k,i,c.proportions.height,c.proportions.width);return o;case\"touch\":return(g>=k&&g<=l||h>=k&&h<=l||g<k&&h>l)&&(e>=i&&e<=j||f>=i&&f<=j||e<i&&f>j);default:return!1}},a.ui.ddmanager={current:null,droppables:{\"default\":[]},prepareOffsets:function(b,c){var d=a.ui.ddmanager.droppables[b.options.scope]||[],e=c?c.type:null,f=(b.currentItem||b.element).find(\":data(droppable)\").andSelf();droppablesLoop:for(var g=0;g<d.length;g++){if(d[g].options.disabled||b&&!d[g].accept.call(d[g].element[0],b.currentItem||b.element))continue;for(var h=0;h<f.length;h++)if(f[h]==d[g].element[0]){d[g].proportions.height=0;continue droppablesLoop}d[g].visible=d[g].element.css(\"display\")!=\"none\";if(!d[g].visible)continue;e==\"mousedown\"&&d[g]._activate.call(d[g],c),d[g].offset=d[g].element.offset(),d[g].proportions={width:d[g].element[0].offsetWidth,\nheight:d[g].element[0].offsetHeight}}},drop:function(b,c){var d=!1;a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){!this.options||(!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance)&&(d=this._drop.call(this,c)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,c)))});return d},dragStart:function(b,c){b.element.parents(\":not(body,html)\").bind(\"scroll.droppable\",function(){b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)})},drag:function(b,c){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,c),a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var d=a.ui.intersect(b,this,this.options.tolerance),e=!d&&this.isover==1?\"isout\":d&&this.isover==0?\"isover\":null;if(!e)return;var f;if(this.options.greedy){var g=this.element.parents(\":data(droppable):eq(0)\");g.length&&(f=a.data(g[0],\"droppable\"),f.greedyChild=e==\"isover\"?1:0)}f&&e==\"isover\"&&(f.isover=0,f.isout=1,f._out.call(f,c)),this[e]=1,this[e==\"isout\"?\"isover\":\"isout\"]=0,this[e==\"isover\"?\"_over\":\"_out\"].call(this,c),f&&e==\"isout\"&&(f.isout=0,f.isover=1,f._over.call(f,c))}})},dragStop:function(b,c){b.element.parents(\":not(body,html)\").unbind(\"scroll.droppable\"),b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)}}}(jQuery),function(a,b){a.widget(\"ui.resizable\",a.ui.mouse,{widgetEventPrefix:\"resize\",options:{alsoResize:!1,animate:!1,animateDuration:\"slow\",animateEasing:\"swing\",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:\"e,s,se\",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var b=this,c=this.options;this.element.addClass(\"ui-resizable\"),a.extend(this,{_aspectRatio:!!c.aspectRatio,aspectRatio:c.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:c.helper||c.ghost||c.animate?c.helper||\"ui-resizable-helper\":null}),this.element[0].nodeName.match(\/canvas|textarea|input|select|button|img\/i)&&(this.element.wrap(a('<div class=\"ui-wrapper\" style=\"overflow: hidden;\"><\/div>').css({position:this.element.css(\"position\"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css(\"top\"),left:this.element.css(\"left\")})),this.element=this.element.parent().data(\"resizable\",this.element.data(\"resizable\")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css(\"marginLeft\"),marginTop:this.originalElement.css(\"marginTop\"),marginRight:this.originalElement.css(\"marginRight\"),marginBottom:this.originalElement.css(\"marginBottom\")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css(\"resize\"),this.originalElement.css(\"resize\",\"none\"),this._proportionallyResizeElements.push(this.originalElement.css({position:\"static\",zoom:1,display:\"block\"})),this.originalElement.css({margin:this.originalElement.css(\"margin\")}),this._proportionallyResize()),this.handles=c.handles||(a(\".ui-resizable-handle\",this.element).length?{n:\".ui-resizable-n\",e:\".ui-resizable-e\",s:\".ui-resizable-s\",w:\".ui-resizable-w\",se:\".ui-resizable-se\",sw:\".ui-resizable-sw\",ne:\".ui-resizable-ne\",nw:\".ui-resizable-nw\"}:\"e,s,se\");if(this.handles.constructor==String){this.handles==\"all\"&&(this.handles=\"n,e,s,w,se,sw,ne,nw\");var d=this.handles.split(\",\");this.handles={};for(var e=0;e<d.length;e++){var f=a.trim(d[e]),g=\"ui-resizable-\"+f,h=a('<div class=\"ui-resizable-handle '+g+'\"><\/div>');\/sw|se|ne|nw\/.test(f)&&h.css({zIndex:++c.zIndex}),\"se\"==f&&h.addClass(\"ui-icon ui-icon-gripsmall-diagonal-se\"),this.handles[f]=\".ui-resizable-\"+f,this.element.append(h)}}this._renderAxis=function(b){b=b||this.element;for(var c in this.handles){this.handles[c].constructor==String&&(this.handles[c]=a(this.handles[c],this.element).show());if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(\/textarea|input|select|button\/i)){var d=a(this.handles[c],this.element),e=0;e=\/sw|ne|nw|se|n|s\/.test(c)?d.outerHeight():d.outerWidth();var f=[\"padding\",\/ne|nw|n\/.test(c)?\"Top\":\/se|sw|s\/.test(c)?\"Bottom\":\/^e$\/.test(c)?\"Right\":\"Left\"].join(\"\");b.css(f,e),this._proportionallyResize()}if(!a(this.handles[c]).length)continue}},this._renderAxis(this.element),this._handles=a(\".ui-resizable-handle\",this.element).disableSelection(),this._handles.mouseover(function(){if(!b.resizing){if(this.className)var a=this.className.match(\/ui-resizable-(se|sw|ne|nw|n|e|s|w)\/i);b.axis=a&&a[1]?a[1]:\"se\"}}),c.autoHide&&(this._handles.hide(),a(this.element).addClass(\"ui-resizable-autohide\").hover(function(){c.disabled||(a(this).removeClass(\"ui-resizable-autohide\"),b._handles.show())},function(){c.disabled||b.resizing||(a(this).addClass(\"ui-resizable-autohide\"),b._handles.hide())})),this._mouseInit()},destroy:function(){this._mouseDestroy();var b=function(b){a(b).removeClass(\"ui-resizable ui-resizable-disabled ui-resizable-resizing\").removeData(\"resizable\").unbind(\".resizable\").find(\".ui-resizable-handle\").remove()};if(this.elementIsWrapper){b(this.element);var c=this.element;c.after(this.originalElement.css({position:c.css(\"position\"),width:c.outerWidth(),height:c.outerHeight(),top:c.css(\"top\"),left:c.css(\"left\")})).remove()}this.originalElement.css(\"resize\",this.originalResizeStyle),b(this.originalElement);return this},_mouseCapture:function(b){var c=!1;for(var d in this.handles)a(this.handles[d])[0]==b.target&&(c=!0);return!this.options.disabled&&c},_mouseStart:function(b){var d=this.options,e=this.element.position(),f=this.element;this.resizing=!0,this.documentScroll={top:a(document).scrollTop(),left:a(document).scrollLeft()},(f.is(\".ui-draggable\")||\/absolute\/.test(f.css(\"position\")))&&f.css({position:\"absolute\",top:e.top,left:e.left}),this._renderProxy();var g=c(this.helper.css(\"left\")),h=c(this.helper.css(\"top\"));d.containment&&(g+=a(d.containment).scrollLeft()||0,h+=a(d.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:g,top:h},this.size=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()},this.originalSize=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()},this.originalPosition={left:g,top:h},this.sizeDiff={width:f.outerWidth()-f.width(),height:f.outerHeight()-f.height()},this.originalMousePosition={left:b.pageX,top:b.pageY},this.aspectRatio=typeof d.aspectRatio==\"number\"?d.aspectRatio:this.originalSize.width\/this.originalSize.height||1;var i=a(\".ui-resizable-\"+this.axis).css(\"cursor\");a(\"body\").css(\"cursor\",i==\"auto\"?this.axis+\"-resize\":i),f.addClass(\"ui-resizable-resizing\"),this._propagate(\"start\",b);return!0},_mouseDrag:function(b){var c=this.helper,d=this.options,e={},f=this,g=this.originalMousePosition,h=this.axis,i=b.pageX-g.left||0,j=b.pageY-g.top||0,k=this._change[h];if(!k)return!1;var l=k.apply(this,[b,i,j]),m=a.browser.msie&&a.browser.version<7,n=this.sizeDiff;this._updateVirtualBoundaries(b.shiftKey);if(this._aspectRatio||b.shiftKey)l=this._updateRatio(l,b);l=this._respectSize(l,b),this._propagate(\"resize\",b),c.css({top:this.position.top+\"px\",left:this.position.left+\"px\",width:this.size.width+\"px\",height:this.size.height+\"px\"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(l),this._trigger(\"resize\",b,this.ui());return!1},_mouseStop:function(b){this.resizing=!1;var c=this.options,d=this;if(this._helper){var e=this._proportionallyResizeElements,f=e.length&&\/textarea\/i.test(e[0].nodeName),g=f&&a.ui.hasScroll(e[0],\"left\")?0:d.sizeDiff.height,h=f?0:d.sizeDiff.width,i={width:d.helper.width()-h,height:d.helper.height()-g},j=parseInt(d.element.css(\"left\"),10)+(d.position.left-d.originalPosition.left)||null,k=parseInt(d.element.css(\"top\"),10)+(d.position.top-d.originalPosition.top)||null;c.animate||this.element.css(a.extend(i,{top:k,left:j})),d.helper.height(d.size.height),d.helper.width(d.size.width),this._helper&&!c.animate&&this._proportionallyResize()}a(\"body\").css(\"cursor\",\"auto\"),this.element.removeClass(\"ui-resizable-resizing\"),this._propagate(\"stop\",b),this._helper&&this.helper.remove();return!1},_updateVirtualBoundaries:function(a){var b=this.options,c,e,f,g,h;h={minWidth:d(b.minWidth)?b.minWidth:0,maxWidth:d(b.maxWidth)?b.maxWidth:Infinity,minHeight:d(b.minHeight)?b.minHeight:0,maxHeight:d(b.maxHeight)?b.maxHeight:Infinity};if(this._aspectRatio||a)c=h.minHeight*this.aspectRatio,f=h.minWidth\/this.aspectRatio,e=h.maxHeight*this.aspectRatio,g=h.maxWidth\/this.aspectRatio,c>h.minWidth&&(h.minWidth=c),f>h.minHeight&&(h.minHeight=f),e<h.maxWidth&&(h.maxWidth=e),g<h.maxHeight&&(h.maxHeight=g);this._vBoundaries=h},_updateCache:function(a){var b=this.options;this.offset=this.helper.offset(),d(a.left)&&(this.position.left=a.left),d(a.top)&&(this.position.top=a.top),d(a.height)&&(this.size.height=a.height),d(a.width)&&(this.size.width=a.width)},_updateRatio:function(a,b){var c=this.options,e=this.position,f=this.size,g=this.axis;d(a.height)?a.width=a.height*this.aspectRatio:d(a.width)&&(a.height=a.width\/this.aspectRatio),g==\"sw\"&&(a.left=e.left+(f.width-a.width),a.top=null),g==\"nw\"&&(a.top=e.top+(f.height-a.height),a.left=e.left+(f.width-a.width));return a},_respectSize:function(a,b){var c=this.helper,e=this._vBoundaries,f=this._aspectRatio||b.shiftKey,g=this.axis,h=d(a.width)&&e.maxWidth&&e.maxWidth<a.width,i=d(a.height)&&e.maxHeight&&e.maxHeight<a.height,j=d(a.width)&&e.minWidth&&e.minWidth>a.width,k=d(a.height)&&e.minHeight&&e.minHeight>a.height;j&&(a.width=e.minWidth),k&&(a.height=e.minHeight),h&&(a.width=e.maxWidth),i&&(a.height=e.maxHeight);var l=this.originalPosition.left+this.originalSize.width,m=this.position.top+this.size.height,n=\/sw|nw|w\/.test(g),o=\/nw|ne|n\/.test(g);j&&n&&(a.left=l-e.minWidth),h&&n&&(a.left=l-e.maxWidth),k&&o&&(a.top=m-e.minHeight),i&&o&&(a.top=m-e.maxHeight);var p=!a.width&&!a.height;p&&!a.left&&a.top?a.top=null:p&&!a.top&&a.left&&(a.left=null);return a},_proportionallyResize:function(){var b=this.options;if(!!this._proportionallyResizeElements.length){var c=this.helper||this.element;for(var d=0;d<this._proportionallyResizeElements.length;d++){var e=this._proportionallyResizeElements[d];if(!this.borderDif){var f=[e.css(\"borderTopWidth\"),e.css(\"borderRightWidth\"),e.css(\"borderBottomWidth\"),e.css(\"borderLeftWidth\")],g=[e.css(\"paddingTop\"),e.css(\"paddingRight\"),e.css(\"paddingBottom\"),e.css(\"paddingLeft\")];this.borderDif=a.map(f,function(a,b){var c=parseInt(a,10)||0,d=parseInt(g[b],10)||0;return c+d})}if(a.browser.msie&&(!!a(c).is(\":hidden\")||!!a(c).parents(\":hidden\").length))continue;e.css({height:c.height()-this.borderDif[0]-this.borderDif[2]||0,width:c.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var b=this.element,c=this.options;this.elementOffset=b.offset();if(this._helper){this.helper=this.helper||a('<div style=\"overflow:hidden;\"><\/div>');var d=a.browser.msie&&a.browser.version<7,e=d?1:0,f=d?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+f,height:this.element.outerHeight()+f,position:\"absolute\",left:this.elementOffset.left-e+\"px\",top:this.elementOffset.top-e+\"px\",zIndex:++c.zIndex}),this.helper.appendTo(\"body\").disableSelection()}else this.helper=this.element},_change:{e:function(a,b,c){return{width:this.originalSize.width+b}},w:function(a,b,c){var d=this.options,e=this.originalSize,f=this.originalPosition;return{left:f.left+b,width:e.width-b}},n:function(a,b,c){var d=this.options,e=this.originalSize,f=this.originalPosition;return{top:f.top+c,height:e.height-c}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},sw:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,c,d]))},ne:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},nw:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,c,d]))}},_propagate:function(b,c){a.ui.plugin.call(this,b,[c,this.ui()]),b!=\"resize\"&&this._trigger(b,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),a.extend(a.ui.resizable,{version:\"1.8.18\"}),a.ui.plugin.add(\"resizable\",\"alsoResize\",{start:function(b,c){var d=a(this).data(\"resizable\"),e=d.options,f=function(b){a(b).each(function(){var b=a(this);b.data(\"resizable-alsoresize\",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css(\"left\"),10),top:parseInt(b.css(\"top\"),10)})})};typeof e.alsoResize==\"object\"&&!e.alsoResize.parentNode?e.alsoResize.length?(e.alsoResize=e.alsoResize[0],f(e.alsoResize)):a.each(e.alsoResize,function(a){f(a)}):f(e.alsoResize)},resize:function(b,c){var d=a(this).data(\"resizable\"),e=d.options,f=d.originalSize,g=d.originalPosition,h={height:d.size.height-f.height||0,width:d.size.width-f.width||0,top:d.position.top-g.top||0,left:d.position.left-g.left||0},i=function(b,d){a(b).each(function(){var b=a(this),e=a(this).data(\"resizable-alsoresize\"),f={},g=d&&d.length?d:b.parents(c.originalElement[0]).length?[\"width\",\"height\"]:[\"width\",\"height\",\"top\",\"left\"];a.each(g,function(a,b){var c=(e[b]||0)+(h[b]||0);c&&c>=0&&(f[b]=c||null)}),b.css(f)})};typeof e.alsoResize==\"object\"&&!e.alsoResize.nodeType?a.each(e.alsoResize,function(a,b){i(a,b)}):i(e.alsoResize)},stop:function(b,c){a(this).removeData(\"resizable-alsoresize\")}}),a.ui.plugin.add(\"resizable\",\"animate\",{stop:function(b,c){var d=a(this).data(\"resizable\"),e=d.options,f=d._proportionallyResizeElements,g=f.length&&\/textarea\/i.test(f[0].nodeName),h=g&&a.ui.hasScroll(f[0],\"left\")?0:d.sizeDiff.height,i=g?0:d.sizeDiff.width,j={width:d.size.width-i,height:d.size.height-h},k=parseInt(d.element.css(\"left\"),10)+(d.position.left-d.originalPosition.left)||null,l=parseInt(d.element.css(\"top\"),10)+(d.position.top-d.originalPosition.top)||null;d.element.animate(a.extend(j,l&&k?{top:l,left:k}:{}),{duration:e.animateDuration,easing:e.animateEasing,step:function(){var c={width:parseInt(d.element.css(\"width\"),10),height:parseInt(d.element.css(\"height\"),10),top:parseInt(d.element.css(\"top\"),10),left:parseInt(d.element.css(\"left\"),10)};f&&f.length&&a(f[0]).css({width:c.width,height:c.height}),d._updateCache(c),d._propagate(\"resize\",b)}})}}),a.ui.plugin.add(\"resizable\",\"containment\",{start:function(b,d){var e=a(this).data(\"resizable\"),f=e.options,g=e.element,h=f.containment,i=h instanceof a?h.get(0):\/parent\/.test(h)?g.parent().get(0):h;if(!!i){e.containerElement=a(i);if(\/document\/.test(h)||h==document)e.containerOffset={left:0,top:0},e.containerPosition={left:0,top:0},e.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight};else{var j=a(i),k=[];a([\"Top\",\"Right\",\"Left\",\"Bottom\"]).each(function(a,b){k[a]=c(j.css(\"padding\"+b))}),e.containerOffset=j.offset(),e.containerPosition=j.position(),e.containerSize={height:j.innerHeight()-k[3],width:j.innerWidth()-k[1]};var l=e.containerOffset,m=e.containerSize.height,n=e.containerSize.width,o=a.ui.hasScroll(i,\"left\")?i.scrollWidth:n,p=a.ui.hasScroll(i)?i.scrollHeight:m;e.parentData={element:i,left:l.left,top:l.top,width:o,height:p}}}},resize:function(b,c){var d=a(this).data(\"resizable\"),e=d.options,f=d.containerSize,g=d.containerOffset,h=d.size,i=d.position,j=d._aspectRatio||b.shiftKey,k={top:0,left:0},l=d.containerElement;l[0]!=document&&\/static\/.test(l.css(\"position\"))&&(k=g),i.left<(d._helper?g.left:0)&&(d.size.width=d.size.width+(d._helper?d.position.left-g.left:d.position.left-k.left),j&&(d.size.height=d.size.width\/e.aspectRatio),d.position.left=e.helper?g.left:0),i.top<(d._helper?g.top:0)&&(d.size.height=d.size.height+(d._helper?d.position.top-g.top:d.position.top),j&&(d.size.width=d.size.height*e.aspectRatio),d.position.top=d._helper?g.top:0),d.offset.left=d.parentData.left+d.position.left,d.offset.top=d.parentData.top+d.position.top;var m=Math.abs((d._helper?d.offset.left-k.left:d.offset.left-k.left)+d.sizeDiff.width),n=Math.abs((d._helper?d.offset.top-k.top:d.offset.top-g.top)+d.sizeDiff.height),o=d.containerElement.get(0)==d.element.parent().get(0),p=\/relative|absolute\/.test(d.containerElement.css(\"position\"));o&&p&&(m-=d.parentData.left),m+d.size.width>=d.parentData.width&&(d.size.width=d.parentData.width-m,j&&(d.size.height=d.size.width\/d.aspectRatio)),n+d.size.height>=d.parentData.height&&(d.size.height=d.parentData.height-n,j&&(d.size.width=d.size.height*d.aspectRatio))},stop:function(b,c){var d=a(this).data(\"resizable\"),e=d.options,f=d.position,g=d.containerOffset,h=d.containerPosition,i=d.containerElement,j=a(d.helper),k=j.offset(),l=j.outerWidth()-d.sizeDiff.width,m=j.outerHeight()-d.sizeDiff.height;d._helper&&!e.animate&&\/relative\/.test(i.css(\"position\"))&&a(this).css({left:k.left-h.left-g.left,width:l,height:m}),d._helper&&!e.animate&&\/static\/.test(i.css(\"position\"))&&a(this).css({left:k.left-h.left-g.left,width:l,height:m})}}),a.ui.plugin.add(\"resizable\",\"ghost\",{start:function(b,c){var d=a(this).data(\"resizable\"),e=d.options,f=d.size;d.ghost=d.originalElement.clone(),d.ghost.css({opacity:.25,display:\"block\",position:\"relative\",height:f.height,width:f.width,margin:0,left:0,top:0}).addClass(\"ui-resizable-ghost\").addClass(typeof e.ghost==\"string\"?e.ghost:\"\"),d.ghost.appendTo(d.helper)},resize:function(b,c){var d=a(this).data(\"resizable\"),e=d.options;d.ghost&&d.ghost.css({position:\"relative\",height:d.size.height,width:d.size.width})},stop:function(b,c){var d=a(this).data(\"resizable\"),e=d.options;d.ghost&&d.helper&&d.helper.get(0).removeChild(d.ghost.get(0))}}),a.ui.plugin.add(\"resizable\",\"grid\",{resize:function(b,c){var d=a(this).data(\"resizable\"),e=d.options,f=d.size,g=d.originalSize,h=d.originalPosition,i=d.axis,j=e._aspectRatio||b.shiftKey;e.grid=typeof e.grid==\"number\"?[e.grid,e.grid]:e.grid;var k=Math.round((f.width-g.width)\/(e.grid[0]||1))*(e.grid[0]||1),l=Math.round((f.height-g.height)\/(e.grid[1]||1))*(e.grid[1]||1);\/^(se|s|e)$\/.test(i)?(d.size.width=g.width+k,d.size.height=g.height+l):\/^(ne)$\/.test(i)?(d.size.width=g.width+k,d.size.height=g.height+l,d.position.top=h.top-l):\/^(sw)$\/.test(i)?(d.size.width=g.width+k,d.size.height=g.height+l,d.position.left=h.left-k):(d.size.width=g.width+k,d.size.height=g.height+l,d.position.top=h.top-l,d.position.left=h.left-k)}});var c=function(a){return parseInt(a,10)||0},d=function(a){return!isNaN(parseInt(a,10))}}(jQuery),function(a,b){a.widget(\"ui.selectable\",a.ui.mouse,{options:{appendTo:\"body\",autoRefresh:!0,distance:0,filter:\"*\",tolerance:\"touch\"},_create:function(){var b=this;this.element.addClass(\"ui-selectable\"),this.dragged=!1;var c;this.refresh=function(){c=a(b.options.filter,b.element[0]),c.addClass(\"ui-selectee\"),c.each(function(){var b=a(this),c=b.offset();a.data(this,\"selectable-item\",{element:this,$element:b,left:c.left,top:c.top,right:c.left+b.outerWidth(),bottom:c.top+b.outerHeight(),startselected:!1,selected:b.hasClass(\"ui-selected\"),selecting:b.hasClass(\"ui-selecting\"),unselecting:b.hasClass(\"ui-unselecting\")})})},this.refresh(),this.selectees=c.addClass(\"ui-selectee\"),this._mouseInit(),this.helper=a(\"<div class='ui-selectable-helper'><\/div>\")},destroy:function(){this.selectees.removeClass(\"ui-selectee\").removeData(\"selectable-item\"),this.element.removeClass(\"ui-selectable ui-selectable-disabled\").removeData(\"selectable\").unbind(\".selectable\"),this._mouseDestroy();return this},_mouseStart:function(b){var c=this;this.opos=[b.pageX,b.pageY];if(!this.options.disabled){var d=this.options;this.selectees=a(d.filter,this.element[0]),this._trigger(\"start\",b),a(d.appendTo).append(this.helper),this.helper.css({left:b.clientX,top:b.clientY,width:0,height:0}),d.autoRefresh&&this.refresh(),this.selectees.filter(\".ui-selected\").each(function(){var d=a.data(this,\"selectable-item\");d.startselected=!0,!b.metaKey&&!b.ctrlKey&&(d.$element.removeClass(\"ui-selected\"),d.selected=!1,d.$element.addClass(\"ui-unselecting\"),d.unselecting=!0,c._trigger(\"unselecting\",b,{unselecting:d.element}))}),a(b.target).parents().andSelf().each(function(){var d=a.data(this,\"selectable-item\");if(d){var e=!b.metaKey&&!b.ctrlKey||!d.$element.hasClass(\"ui-selected\");d.$element.removeClass(e?\"ui-unselecting\":\"ui-selected\").addClass(e?\"ui-selecting\":\"ui-unselecting\"),d.unselecting=!e,d.selecting=e,d.selected=e,e?c._trigger(\"selecting\",b,{selecting:d.element}):c._trigger(\"unselecting\",b,{unselecting:d.element});return!1}})}},_mouseDrag:function(b){var c=this;this.dragged=!0;if(!this.options.disabled){var d=this.options,e=this.opos[0],f=this.opos[1],g=b.pageX,h=b.pageY;if(e>g){var i=g;g=e,e=i}if(f>h){var i=h;h=f,f=i}this.helper.css({left:e,top:f,width:g-e,height:h-f}),this.selectees.each(function(){var i=a.data(this,\"selectable-item\");if(!!i&&i.element!=c.element[0]){var j=!1;d.tolerance==\"touch\"?j=!(i.left>g||i.right<e||i.top>h||i.bottom<f):d.tolerance==\"fit\"&&(j=i.left>e&&i.right<g&&i.top>f&&i.bottom<h),j?(i.selected&&(i.$element.removeClass(\"ui-selected\"),i.selected=!1),i.unselecting&&(i.$element.removeClass(\"ui-unselecting\"),i.unselecting=!1),i.selecting||(i.$element.addClass(\"ui-selecting\"),i.selecting=!0,c._trigger(\"selecting\",b,{selecting:i.element}))):(i.selecting&&((b.metaKey||b.ctrlKey)&&i.startselected?(i.$element.removeClass(\"ui-selecting\"),i.selecting=!1,i.$element.addClass(\"ui-selected\"),i.selected=!0):(i.$element.removeClass(\"ui-selecting\"),i.selecting=!1,i.startselected&&(i.$element.addClass(\"ui-unselecting\"),i.unselecting=!0),c._trigger(\"unselecting\",b,{unselecting:i.element}))),i.selected&&!b.metaKey&&!b.ctrlKey&&!i.startselected&&(i.$element.removeClass(\"ui-selected\"),i.selected=!1,i.$element.addClass(\"ui-unselecting\"),i.unselecting=!0,c._trigger(\"unselecting\",b,{unselecting:i.element})))}});return!1}},_mouseStop:function(b){var c=this;this.dragged=!1;var d=this.options;a(\".ui-unselecting\",this.element[0]).each(function(){var d=a.data(this,\"selectable-item\");d.$element.removeClass(\"ui-unselecting\"),d.unselecting=!1,d.startselected=!1,c._trigger(\"unselected\",b,{unselected:d.element})}),a(\".ui-selecting\",this.element[0]).each(function(){var d=a.data(this,\"selectable-item\");d.$element.removeClass(\"ui-selecting\").addClass(\"ui-selected\"),d.selecting=!1,d.selected=!0,d.startselected=!0,c._trigger(\"selected\",b,{selected:d.element})}),this._trigger(\"stop\",b),this.helper.remove();return!1}}),a.extend(a.ui.selectable,{version:\"1.8.18\"})}(jQuery),function(a,b){a.widget(\"ui.sortable\",a.ui.mouse,{widgetEventPrefix:\"sort\",ready:!1,options:{appendTo:\"parent\",axis:!1,connectWith:!1,containment:!1,cursor:\"auto\",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:\"original\",items:\"> *\",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:\"default\",tolerance:\"intersect\",zIndex:1e3},_create:function(){var a=this.options;this.containerCache={},this.element.addClass(\"ui-sortable\"),this.refresh(),this.floating=this.items.length?a.axis===\"x\"||\/left|right\/.test(this.items[0].item.css(\"float\"))||\/inline|table-cell\/.test(this.items[0].item.css(\"display\")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},destroy:function(){a.Widget.prototype.destroy.call(this),this.element.removeClass(\"ui-sortable ui-sortable-disabled\"),this._mouseDestroy();for(var b=this.items.length-1;b>=0;b--)this.items[b].item.removeData(this.widgetName+\"-item\");return this},_setOption:function(b,c){b===\"disabled\"?(this.options[b]=c,this.widget()[c?\"addClass\":\"removeClass\"](\"ui-sortable-disabled\")):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(b,c){var d=this;if(this.reverting)return!1;if(this.options.disabled||this.options.type==\"static\")return!1;this._refreshItems(b);var e=null,f=this,g=a(b.target).parents().each(function(){if(a.data(this,d.widgetName+\"-item\")==f){e=a(this);return!1}});a.data(b.target,d.widgetName+\"-item\")==f&&(e=a(b.target));if(!e)return!1;if(this.options.handle&&!c){var h=!1;a(this.options.handle,e).find(\"*\").andSelf().each(function(){this==b.target&&(h=!0)});if(!h)return!1}this.currentItem=e,this._removeCurrentsFromItems();return!0},_mouseStart:function(b,c,d){var e=this.options,f=this;this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(b),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.helper.css(\"position\",\"absolute\"),this.cssPosition=this.helper.css(\"position\"),a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),e.containment&&this._setContainment(),e.cursor&&(a(\"body\").css(\"cursor\")&&(this._storedCursor=a(\"body\").css(\"cursor\")),a(\"body\").css(\"cursor\",e.cursor)),e.opacity&&(this.helper.css(\"opacity\")&&(this._storedOpacity=this.helper.css(\"opacity\")),this.helper.css(\"opacity\",e.opacity)),e.zIndex&&(this.helper.css(\"zIndex\")&&(this._storedZIndex=this.helper.css(\"zIndex\")),this.helper.css(\"zIndex\",e.zIndex)),this.scrollParent[0]!=document&&this.scrollParent[0].tagName!=\"HTML\"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger(\"start\",b,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions();if(!d)for(var g=this.containers.length-1;g>=0;g--)this.containers[g]._trigger(\"activate\",b,f._uiHash(this));a.ui.ddmanager&&(a.ui.ddmanager.current=this),a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.dragging=!0,this.helper.addClass(\"ui-sortable-helper\"),this._mouseDrag(b);return!0},_mouseDrag:function(b){this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo(\"absolute\"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){var c=this.options,d=!1;this.scrollParent[0]!=document&&this.scrollParent[0].tagName!=\"HTML\"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<c.scrollSensitivity?this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop+c.scrollSpeed:b.pageY-this.overflowOffset.top<c.scrollSensitivity&&(this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop-c.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<c.scrollSensitivity?this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft+c.scrollSpeed:b.pageX-this.overflowOffset.left<c.scrollSensitivity&&(this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft-c.scrollSpeed)):(b.pageY-a(document).scrollTop()<c.scrollSensitivity?d=a(document).scrollTop(a(document).scrollTop()-c.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<c.scrollSensitivity&&(d=a(document).scrollTop(a(document).scrollTop()+c.scrollSpeed)),b.pageX-a(document).scrollLeft()<c.scrollSensitivity?d=a(document).scrollLeft(a(document).scrollLeft()-c.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<c.scrollSensitivity&&(d=a(document).scrollLeft(a(document).scrollLeft()+c.scrollSpeed))),d!==!1&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)}this.positionAbs=this._convertPositionTo(\"absolute\");if(!this.options.axis||this.options.axis!=\"y\")this.helper[0].style.left=this.position.left+\"px\";if(!this.options.axis||this.options.axis!=\"x\")this.helper[0].style.top=this.position.top+\"px\";for(var e=this.items.length-1;e>=0;e--){var f=this.items[e],g=f.item[0],h=this._intersectsWithPointer(f);if(!h)continue;if(g!=this.currentItem[0]&&this.placeholder[h==1?\"next\":\"prev\"]()[0]!=g&&!a.ui.contains(this.placeholder[0],g)&&(this.options.type==\"semi-dynamic\"?!a.ui.contains(this.element[0],g):!0)){this.direction=h==1?\"down\":\"up\";if(this.options.tolerance==\"pointer\"||this._intersectsWithSides(f))this._rearrange(b,f);else break;this._trigger(\"change\",b,this._uiHash());break}}this._contactContainers(b),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),this._trigger(\"sort\",b,this._uiHash()),this.lastPositionAbs=this.positionAbs;return!1},_mouseStop:function(b,c){if(!!b){a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b);if(this.options.revert){var d=this,e=d.placeholder.offset();d.reverting=!0,a(this.helper).animate({left:e.left-this.offset.parent.left-d.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:e.top-this.offset.parent.top-d.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){d._clear(b)})}else this._clear(b,c);return!1}},cancel:function(){var b=this;if(this.dragging){this._mouseUp({target:null}),this.options.helper==\"original\"?this.currentItem.css(this._storedCSS).removeClass(\"ui-sortable-helper\"):this.currentItem.show();for(var c=this.containers.length-1;c>=0;c--)this.containers[c]._trigger(\"deactivate\",null,b._uiHash(this)),this.containers[c].containerCache.over&&(this.containers[c]._trigger(\"out\",null,b._uiHash(this)),this.containers[c].containerCache.over=0)}this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!=\"original\"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem));return this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];b=b||{},a(c).each(function(){var c=(a(b.item||this).attr(b.attribute||\"id\")||\"\").match(b.expression||\/(.+)[-=_](.+)\/);c&&d.push((b.key||c[1]+\"[]\")+\"=\"+(b.key&&b.expression?c[1]:c[2]))}),!d.length&&b.key&&d.push(b.key+\"=\");return d.join(\"&\")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];b=b||{},c.each(function(){d.push(a(b.item||this).attr(b.attribute||\"id\")||\"\")});return d},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,e=d+this.helperProportions.height,f=a.left,g=f+a.width,h=a.top,i=h+a.height,j=this.offset.click.top,k=this.offset.click.left,l=d+j>h&&d+j<i&&b+k>f&&b+k<g;return this.options.tolerance==\"pointer\"||this.options.forcePointerForContainers||this.options.tolerance!=\"pointer\"&&this.helperProportions[this.floating?\"width\":\"height\"]>a[this.floating?\"width\":\"height\"]?l:f<b+this.helperProportions.width\/2&&c-this.helperProportions.width\/2<g&&h<d+this.helperProportions.height\/2&&e-this.helperProportions.height\/2<i},_intersectsWithPointer:function(b){var c=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top,b.height),d=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left,b.width),e=c&&d,f=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();if(!e)return!1;return this.floating?g&&g==\"right\"||f==\"down\"?2:1:f&&(f==\"down\"?2:1)},_intersectsWithSides:function(b){var c=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top+b.height\/2,b.height),d=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left+b.width\/2,b.width),e=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return this.floating&&f?f==\"right\"&&d||f==\"left\"&&!d:e&&(e==\"down\"&&c||e==\"up\"&&!c)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return a!=0&&(a>0?\"down\":\"up\")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return a!=0&&(a>0?\"right\":\"left\")},refresh:function(a){this._refreshItems(a),this.refreshPositions();return this},_connectWith:function(){var a=this.options;return a.connectWith.constructor==String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){var c=this,d=[],e=[],f=this._connectWith();if(f&&b)for(var g=f.length-1;g>=0;g--){var h=a(f[g]);for(var i=h.length-1;i>=0;i--){var j=a.data(h[i],this.widgetName);j&&j!=this&&!j.options.disabled&&e.push([a.isFunction(j.options.items)?j.options.items.call(j.element):a(j.options.items,j.element).not(\".ui-sortable-helper\").not(\".ui-sortable-placeholder\"),j])}}e.push\n([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(\".ui-sortable-helper\").not(\".ui-sortable-placeholder\"),this]);for(var g=e.length-1;g>=0;g--)e[g][0].each(function(){d.push(this)});return a(d)},_removeCurrentsFromItems:function(){var a=this.currentItem.find(\":data(\"+this.widgetName+\"-item)\");for(var b=0;b<this.items.length;b++)for(var c=0;c<a.length;c++)a[c]==this.items[b].item[0]&&this.items.splice(b,1)},_refreshItems:function(b){this.items=[],this.containers=[this];var c=this.items,d=this,e=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]],f=this._connectWith();if(f&&this.ready)for(var g=f.length-1;g>=0;g--){var h=a(f[g]);for(var i=h.length-1;i>=0;i--){var j=a.data(h[i],this.widgetName);j&&j!=this&&!j.options.disabled&&(e.push([a.isFunction(j.options.items)?j.options.items.call(j.element[0],b,{item:this.currentItem}):a(j.options.items,j.element),j]),this.containers.push(j))}}for(var g=e.length-1;g>=0;g--){var k=e[g][1],l=e[g][0];for(var i=0,m=l.length;i<m;i++){var n=a(l[i]);n.data(this.widgetName+\"-item\",k),c.push({item:n,instance:k,width:0,height:0,left:0,top:0})}}},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var c=this.items.length-1;c>=0;c--){var d=this.items[c];if(d.instance!=this.currentContainer&&this.currentContainer&&d.item[0]!=this.currentItem[0])continue;var e=this.options.toleranceElement?a(this.options.toleranceElement,d.item):d.item;b||(d.width=e.outerWidth(),d.height=e.outerHeight());var f=e.offset();d.left=f.left,d.top=f.top}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var c=this.containers.length-1;c>=0;c--){var f=this.containers[c].element.offset();this.containers[c].containerCache.left=f.left,this.containers[c].containerCache.top=f.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight()}return this},_createPlaceholder:function(b){var c=b||this,d=c.options;if(!d.placeholder||d.placeholder.constructor==String){var e=d.placeholder;d.placeholder={element:function(){var b=a(document.createElement(c.currentItem[0].nodeName)).addClass(e||c.currentItem[0].className+\" ui-sortable-placeholder\").removeClass(\"ui-sortable-helper\")[0];e||(b.style.visibility=\"hidden\");return b},update:function(a,b){if(!e||!!d.forcePlaceholderSize)b.height()||b.height(c.currentItem.innerHeight()-parseInt(c.currentItem.css(\"paddingTop\")||0,10)-parseInt(c.currentItem.css(\"paddingBottom\")||0,10)),b.width()||b.width(c.currentItem.innerWidth()-parseInt(c.currentItem.css(\"paddingLeft\")||0,10)-parseInt(c.currentItem.css(\"paddingRight\")||0,10))}}}c.placeholder=a(d.placeholder.element.call(c.element,c.currentItem)),c.currentItem.after(c.placeholder),d.placeholder.update(c,c.placeholder)},_contactContainers:function(b){var c=null,d=null;for(var e=this.containers.length-1;e>=0;e--){if(a.ui.contains(this.currentItem[0],this.containers[e].element[0]))continue;if(this._intersectsWith(this.containers[e].containerCache)){if(c&&a.ui.contains(this.containers[e].element[0],c.element[0]))continue;c=this.containers[e],d=e}else this.containers[e].containerCache.over&&(this.containers[e]._trigger(\"out\",b,this._uiHash(this)),this.containers[e].containerCache.over=0)}if(!!c)if(this.containers.length===1)this.containers[d]._trigger(\"over\",b,this._uiHash(this)),this.containers[d].containerCache.over=1;else if(this.currentContainer!=this.containers[d]){var f=1e4,g=null,h=this.positionAbs[this.containers[d].floating?\"left\":\"top\"];for(var i=this.items.length-1;i>=0;i--){if(!a.ui.contains(this.containers[d].element[0],this.items[i].item[0]))continue;var j=this.items[i][this.containers[d].floating?\"left\":\"top\"];Math.abs(j-h)<f&&(f=Math.abs(j-h),g=this.items[i])}if(!g&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[d],g?this._rearrange(b,g,null,!0):this._rearrange(b,null,this.containers[d].element,!0),this._trigger(\"change\",b,this._uiHash()),this.containers[d]._trigger(\"change\",b,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger(\"over\",b,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):c.helper==\"clone\"?this.currentItem.clone():this.currentItem;d.parents(\"body\").length||a(c.appendTo!=\"parent\"?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]),d[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css(\"position\"),top:this.currentItem.css(\"top\"),left:this.currentItem.css(\"left\")}),(d[0].style.width==\"\"||c.forceHelperSize)&&d.width(this.currentItem.width()),(d[0].style.height==\"\"||c.forceHelperSize)&&d.height(this.currentItem.height());return d},_adjustOffsetFromHelper:function(b){typeof b==\"string\"&&(b=b.split(\" \")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),\"left\"in b&&(this.offset.click.left=b.left+this.margins.left),\"right\"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),\"top\"in b&&(this.offset.click.top=b.top+this.margins.top),\"bottom\"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();this.cssPosition==\"absolute\"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==\"html\"&&a.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css(\"borderTopWidth\"),10)||0),left:b.left+(parseInt(this.offsetParent.css(\"borderLeftWidth\"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==\"relative\"){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css(\"top\"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css(\"left\"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css(\"marginLeft\"),10)||0,top:parseInt(this.currentItem.css(\"marginTop\"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;b.containment==\"parent\"&&(b.containment=this.helper[0].parentNode);if(b.containment==\"document\"||b.containment==\"window\")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(b.containment==\"document\"?document:window).width()-this.helperProportions.width-this.margins.left,(a(b.containment==\"document\"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!\/^(document|window|parent)$\/.test(b.containment)){var c=a(b.containment)[0],d=a(b.containment).offset(),e=a(c).css(\"overflow\")!=\"hidden\";this.containment=[d.left+(parseInt(a(c).css(\"borderLeftWidth\"),10)||0)+(parseInt(a(c).css(\"paddingLeft\"),10)||0)-this.margins.left,d.top+(parseInt(a(c).css(\"borderTopWidth\"),10)||0)+(parseInt(a(c).css(\"paddingTop\"),10)||0)-this.margins.top,d.left+(e?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css(\"borderLeftWidth\"),10)||0)-(parseInt(a(c).css(\"paddingRight\"),10)||0)-this.helperProportions.width-this.margins.left,d.top+(e?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css(\"borderTopWidth\"),10)||0)-(parseInt(a(c).css(\"paddingBottom\"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(b,c){c||(c=this.position);var d=b==\"absolute\"?1:-1,e=this.options,f=this.cssPosition==\"absolute\"&&(this.scrollParent[0]==document||!a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,g=\/(html|body)\/i.test(f[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-(a.browser.safari&&this.cssPosition==\"fixed\"?0:(this.cssPosition==\"fixed\"?-this.scrollParent.scrollTop():g?0:f.scrollTop())*d),left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-(a.browser.safari&&this.cssPosition==\"fixed\"?0:(this.cssPosition==\"fixed\"?-this.scrollParent.scrollLeft():g?0:f.scrollLeft())*d)}},_generatePosition:function(b){var c=this.options,d=this.cssPosition==\"absolute\"&&(this.scrollParent[0]==document||!a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=\/(html|body)\/i.test(d[0].tagName);this.cssPosition==\"relative\"&&(this.scrollParent[0]==document||this.scrollParent[0]==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var f=b.pageX,g=b.pageY;if(this.originalPosition){this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top));if(c.grid){var h=this.originalPageY+Math.round((g-this.originalPageY)\/c.grid[1])*c.grid[1];g=this.containment?h-this.offset.click.top<this.containment[1]||h-this.offset.click.top>this.containment[3]?h-this.offset.click.top<this.containment[1]?h+c.grid[1]:h-c.grid[1]:h:h;var i=this.originalPageX+Math.round((f-this.originalPageX)\/c.grid[0])*c.grid[0];f=this.containment?i-this.offset.click.left<this.containment[0]||i-this.offset.click.left>this.containment[2]?i-this.offset.click.left<this.containment[0]?i+c.grid[0]:i-c.grid[0]:i:i}}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&this.cssPosition==\"fixed\"?0:this.cssPosition==\"fixed\"?-this.scrollParent.scrollTop():e?0:d.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&this.cssPosition==\"fixed\"?0:this.cssPosition==\"fixed\"?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],this.direction==\"down\"?b.item[0]:b.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var e=this,f=this.counter;window.setTimeout(function(){f==e.counter&&e.refreshPositions(!d)},0)},_clear:function(b,c){this.reverting=!1;var d=[],e=this;!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var f in this._storedCSS)if(this._storedCSS[f]==\"auto\"||this._storedCSS[f]==\"static\")this._storedCSS[f]=\"\";this.currentItem.css(this._storedCSS).removeClass(\"ui-sortable-helper\")}else this.currentItem.show();this.fromOutside&&!c&&d.push(function(a){this._trigger(\"receive\",a,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(\".ui-sortable-helper\")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!c&&d.push(function(a){this._trigger(\"update\",a,this._uiHash())});if(!a.ui.contains(this.element[0],this.currentItem[0])){c||d.push(function(a){this._trigger(\"remove\",a,this._uiHash())});for(var f=this.containers.length-1;f>=0;f--)a.ui.contains(this.containers[f].element[0],this.currentItem[0])&&!c&&(d.push(function(a){return function(b){a._trigger(\"receive\",b,this._uiHash(this))}}.call(this,this.containers[f])),d.push(function(a){return function(b){a._trigger(\"update\",b,this._uiHash(this))}}.call(this,this.containers[f])))}for(var f=this.containers.length-1;f>=0;f--)c||d.push(function(a){return function(b){a._trigger(\"deactivate\",b,this._uiHash(this))}}.call(this,this.containers[f])),this.containers[f].containerCache.over&&(d.push(function(a){return function(b){a._trigger(\"out\",b,this._uiHash(this))}}.call(this,this.containers[f])),this.containers[f].containerCache.over=0);this._storedCursor&&a(\"body\").css(\"cursor\",this._storedCursor),this._storedOpacity&&this.helper.css(\"opacity\",this._storedOpacity),this._storedZIndex&&this.helper.css(\"zIndex\",this._storedZIndex==\"auto\"?\"\":this._storedZIndex),this.dragging=!1;if(this.cancelHelperRemoval){if(!c){this._trigger(\"beforeStop\",b,this._uiHash());for(var f=0;f<d.length;f++)d[f].call(this,b);this._trigger(\"stop\",b,this._uiHash())}return!1}c||this._trigger(\"beforeStop\",b,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null;if(!c){for(var f=0;f<d.length;f++)d[f].call(this,b);this._trigger(\"stop\",b,this._uiHash())}this.fromOutside=!1;return!0},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}}),a.extend(a.ui.sortable,{version:\"1.8.18\"})}(jQuery),jQuery.effects||function(a,b){function l(b){if(!b||typeof b==\"number\"||a.fx.speeds[b])return!0;if(typeof b==\"string\"&&!a.effects[b])return!0;return!1}function k(b,c,d,e){typeof b==\"object\"&&(e=c,d=null,c=b,b=c.effect),a.isFunction(c)&&(e=c,d=null,c={});if(typeof c==\"number\"||a.fx.speeds[c])e=d,d=c,c={};a.isFunction(d)&&(e=d,d=null),c=c||{},d=d||c.duration,d=a.fx.off?0:typeof d==\"number\"?d:d in a.fx.speeds?a.fx.speeds[d]:a.fx.speeds._default,e=e||c.complete;return[b,c,d,e]}function j(a,b){var c={_:0},d;for(d in b)a[d]!=b[d]&&(c[d]=b[d]);return c}function i(b){var c,d;for(c in b)d=b[c],(d==null||a.isFunction(d)||c in g||\/scrollbar\/.test(c)||!\/color\/i.test(c)&&isNaN(parseFloat(d)))&&delete b[c];return b}function h(){var a=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,b={},c,d;if(a&&a.length&&a[0]&&a[a[0]]){var e=a.length;while(e--)c=a[e],typeof a[c]==\"string\"&&(d=c.replace(\/\\-(\\w)\/g,function(a,b){return b.toUpperCase()}),b[d]=a[c])}else for(c in a)typeof a[c]==\"string\"&&(b[c]=a[c]);return b}function d(b,d){var e;do{e=a.curCSS(b,d);if(e!=\"\"&&e!=\"transparent\"||a.nodeName(b,\"body\"))break;d=\"backgroundColor\"}while(b=b.parentNode);return c(e)}function c(b){var c;if(b&&b.constructor==Array&&b.length==3)return b;if(c=\/rgb\\(\\s*([0-9]{1,3})\\s*,\\s*([0-9]{1,3})\\s*,\\s*([0-9]{1,3})\\s*\\)\/.exec(b))return[parseInt(c[1],10),parseInt(c[2],10),parseInt(c[3],10)];if(c=\/rgb\\(\\s*([0-9]+(?:\\.[0-9]+)?)\\%\\s*,\\s*([0-9]+(?:\\.[0-9]+)?)\\%\\s*,\\s*([0-9]+(?:\\.[0-9]+)?)\\%\\s*\\)\/.exec(b))return[parseFloat(c[1])*2.55,parseFloat(c[2])*2.55,parseFloat(c[3])*2.55];if(c=\/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})\/.exec(b))return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)];if(c=\/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])\/.exec(b))return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)];if(c=\/rgba\\(0, 0, 0, 0\\)\/.exec(b))return e.transparent;return e[a.trim(b).toLowerCase()]}a.effects={},a.each([\"backgroundColor\",\"borderBottomColor\",\"borderLeftColor\",\"borderRightColor\",\"borderTopColor\",\"borderColor\",\"color\",\"outlineColor\"],function(b,e){a.fx.step[e]=function(a){a.colorInit||(a.start=d(a.elem,e),a.end=c(a.end),a.colorInit=!0),a.elem.style[e]=\"rgb(\"+Math.max(Math.min(parseInt(a.pos*(a.end[0]-a.start[0])+a.start[0],10),255),0)+\",\"+Math.max(Math.min(parseInt(a.pos*(a.end[1]-a.start[1])+a.start[1],10),255),0)+\",\"+Math.max(Math.min(parseInt(a.pos*(a.end[2]-a.start[2])+a.start[2],10),255),0)+\")\"}});var e={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},f=[\"add\",\"remove\",\"toggle\"],g={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.effects.animateClass=function(b,c,d,e){a.isFunction(d)&&(e=d,d=null);return this.queue(function(){var g=a(this),k=g.attr(\"style\")||\" \",l=i(h.call(this)),m,n=g.attr(\"class\");a.each(f,function(a,c){b[c]&&g[c+\"Class\"](b[c])}),m=i(h.call(this)),g.attr(\"class\",n),g.animate(j(l,m),{queue:!1,duration:c,easing:d,complete:function(){a.each(f,function(a,c){b[c]&&g[c+\"Class\"](b[c])}),typeof g.attr(\"style\")==\"object\"?(g.attr(\"style\").cssText=\"\",g.attr(\"style\").cssText=k):g.attr(\"style\",k),e&&e.apply(this,arguments),a.dequeue(this)}})})},a.fn.extend({_addClass:a.fn.addClass,addClass:function(b,c,d,e){return c?a.effects.animateClass.apply(this,[{add:b},c,d,e]):this._addClass(b)},_removeClass:a.fn.removeClass,removeClass:function(b,c,d,e){return c?a.effects.animateClass.apply(this,[{remove:b},c,d,e]):this._removeClass(b)},_toggleClass:a.fn.toggleClass,toggleClass:function(c,d,e,f,g){return typeof d==\"boolean\"||d===b?e?a.effects.animateClass.apply(this,[d?{add:c}:{remove:c},e,f,g]):this._toggleClass(c,d):a.effects.animateClass.apply(this,[{toggle:c},d,e,f])},switchClass:function(b,c,d,e,f){return a.effects.animateClass.apply(this,[{add:c,remove:b},d,e,f])}}),a.extend(a.effects,{version:\"1.8.18\",save:function(a,b){for(var c=0;c<b.length;c++)b[c]!==null&&a.data(\"ec.storage.\"+b[c],a[0].style[b[c]])},restore:function(a,b){for(var c=0;c<b.length;c++)b[c]!==null&&a.css(b[c],a.data(\"ec.storage.\"+b[c]))},setMode:function(a,b){b==\"toggle\"&&(b=a.is(\":hidden\")?\"show\":\"hide\");return b},getBaseline:function(a,b){var c,d;switch(a[0]){case\"top\":c=0;break;case\"middle\":c=.5;break;case\"bottom\":c=1;break;default:c=a[0]\/b.height}switch(a[1]){case\"left\":d=0;break;case\"center\":d=.5;break;case\"right\":d=1;break;default:d=a[1]\/b.width}return{x:d,y:c}},createWrapper:function(b){if(b.parent().is(\".ui-effects-wrapper\"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),\"float\":b.css(\"float\")},d=a(\"<div><\/div>\").addClass(\"ui-effects-wrapper\").css({fontSize:\"100%\",background:\"transparent\",border:\"none\",margin:0,padding:0}),e=document.activeElement;b.wrap(d),(b[0]===e||a.contains(b[0],e))&&a(e).focus(),d=b.parent(),b.css(\"position\")==\"static\"?(d.css({position:\"relative\"}),b.css({position:\"relative\"})):(a.extend(c,{position:b.css(\"position\"),zIndex:b.css(\"z-index\")}),a.each([\"top\",\"left\",\"bottom\",\"right\"],function(a,d){c[d]=b.css(d),isNaN(parseInt(c[d],10))&&(c[d]=\"auto\")}),b.css({position:\"relative\",top:0,left:0,right:\"auto\",bottom:\"auto\"}));return d.css(c).show()},removeWrapper:function(b){var c,d=document.activeElement;if(b.parent().is(\".ui-effects-wrapper\")){c=b.parent().replaceWith(b),(b[0]===d||a.contains(b[0],d))&&a(d).focus();return c}return b},setTransition:function(b,c,d,e){e=e||{},a.each(c,function(a,c){unit=b.cssUnit(c),unit[0]>0&&(e[c]=unit[0]*d+unit[1])});return e}}),a.fn.extend({effect:function(b,c,d,e){var f=k.apply(this,arguments),g={options:f[1],duration:f[2],callback:f[3]},h=g.options.mode,i=a.effects[b];if(a.fx.off||!i)return h?this[h](g.duration,g.callback):this.each(function(){g.callback&&g.callback.call(this)});return i.call(this,g)},_show:a.fn.show,show:function(a){if(l(a))return this._show.apply(this,arguments);var b=k.apply(this,arguments);b[1].mode=\"show\";return this.effect.apply(this,b)},_hide:a.fn.hide,hide:function(a){if(l(a))return this._hide.apply(this,arguments);var b=k.apply(this,arguments);b[1].mode=\"hide\";return this.effect.apply(this,b)},__toggle:a.fn.toggle,toggle:function(b){if(l(b)||typeof b==\"boolean\"||a.isFunction(b))return this.__toggle.apply(this,arguments);var c=k.apply(this,arguments);c[1].mode=\"toggle\";return this.effect.apply(this,c)},cssUnit:function(b){var c=this.css(b),d=[];a.each([\"em\",\"px\",\"%\",\"pt\"],function(a,b){c.indexOf(b)>0&&(d=[parseFloat(c),b])});return d}}),a.easing.jswing=a.easing.swing,a.extend(a.easing,{def:\"easeOutQuad\",swing:function(b,c,d,e,f){return a.easing[a.easing.def](b,c,d,e,f)},easeInQuad:function(a,b,c,d,e){return d*(b\/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b\/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){if((b\/=e\/2)<1)return d\/2*b*b+c;return-d\/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b\/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b\/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){if((b\/=e\/2)<1)return d\/2*b*b*b+c;return d\/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b\/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b\/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){if((b\/=e\/2)<1)return d\/2*b*b*b*b+c;return-d\/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b\/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b\/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){if((b\/=e\/2)<1)return d\/2*b*b*b*b*b+c;return d\/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b\/e*(Math.PI\/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b\/e*(Math.PI\/2))+c},easeInOutSine:function(a,b,c,d,e){return-d\/2*(Math.cos(Math.PI*b\/e)-1)+c},easeInExpo:function(a,b,c,d,e){return b==0?c:d*Math.pow(2,10*(b\/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b\/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){if(b==0)return c;if(b==e)return c+d;if((b\/=e\/2)<1)return d\/2*Math.pow(2,10*(b-1))+c;return d\/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b\/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b\/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){if((b\/=e\/2)<1)return-d\/2*(Math.sqrt(1-b*b)-1)+c;return d\/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b\/=e)==1)return c+d;g||(g=e*.3);if(h<Math.abs(d)){h=d;var f=g\/4}else var f=g\/(2*Math.PI)*Math.asin(d\/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI\/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b\/=e)==1)return c+d;g||(g=e*.3);if(h<Math.abs(d)){h=d;var f=g\/4}else var f=g\/(2*Math.PI)*Math.asin(d\/h);return h*Math.pow(2,-10*b)*Math.sin((b*e-f)*2*Math.PI\/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b\/=e\/2)==2)return c+d;g||(g=e*.3*1.5);if(h<Math.abs(d)){h=d;var f=g\/4}else var f=g\/(2*Math.PI)*Math.asin(d\/h);if(b<1)return-0.5*h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI\/g)+c;return h*Math.pow(2,-10*(b-=1))*Math.sin((b*e-f)*2*Math.PI\/g)*.5+d+c},easeInBack:function(a,c,d,e,f,g){g==b&&(g=1.70158);return e*(c\/=f)*c*((g+1)*c-g)+d},easeOutBack:function(a,c,d,e,f,g){g==b&&(g=1.70158);return e*((c=c\/f-1)*c*((g+1)*c+g)+1)+d},easeInOutBack:function(a,c,d,e,f,g){g==b&&(g=1.70158);if((c\/=f\/2)<1)return e\/2*c*c*(((g*=1.525)+1)*c-g)+d;return e\/2*((c-=2)*c*(((g*=1.525)+1)*c+g)+2)+d},easeInBounce:function(b,c,d,e,f){return e-a.easing.easeOutBounce(b,f-c,0,e,f)+d},easeOutBounce:function(a,b,c,d,e){return(b\/=e)<1\/2.75?d*7.5625*b*b+c:b<2\/2.75?d*(7.5625*(b-=1.5\/2.75)*b+.75)+c:b<2.5\/2.75?d*(7.5625*(b-=2.25\/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625\/2.75)*b+.984375)+c},easeInOutBounce:function(b,c,d,e,f){if(c<f\/2)return a.easing.easeInBounce(b,c*2,0,e,f)*.5+d;return a.easing.easeOutBounce(b,c*2-f,0,e,f)*.5+e*.5+d}})}(jQuery),function(a,b){a.effects.blind=function(b){return this.queue(function(){var c=a(this),d=[\"position\",\"top\",\"bottom\",\"left\",\"right\"],e=a.effects.setMode(c,b.options.mode||\"hide\"),f=b.options.direction||\"vertical\";a.effects.save(c,d),c.show();var g=a.effects.createWrapper(c).css({overflow:\"hidden\"}),h=f==\"vertical\"?\"height\":\"width\",i=f==\"vertical\"?g.height():g.width();e==\"show\"&&g.css(h,0);var j={};j[h]=e==\"show\"?i:0,g.animate(j,b.duration,b.options.easing,function(){e==\"hide\"&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()})})}}(jQuery),function(a,b){a.effects.bounce=function(b){return this.queue(function(){var c=a(this),d=[\"position\",\"top\",\"bottom\",\"left\",\"right\"],e=a.effects.setMode(c,b.options.mode||\"effect\"),f=b.options.direction||\"up\",g=b.options.distance||20,h=b.options.times||5,i=b.duration||250;\/show|hide\/.test(e)&&d.push(\"opacity\"),a.effects.save(c,d),c.show(),a.effects.createWrapper(c);var j=f==\"up\"||f==\"down\"?\"top\":\"left\",k=f==\"up\"||f==\"left\"?\"pos\":\"neg\",g=b.options.distance||(j==\"top\"?c.outerHeight({margin:!0})\/3:c.outerWidth({margin:!0})\/3);e==\"show\"&&c.css(\"opacity\",0).css(j,k==\"pos\"?-g:g),e==\"hide\"&&(g=g\/(h*2)),e!=\"hide\"&&h--;if(e==\"show\"){var l={opacity:1};l[j]=(k==\"pos\"?\"+=\":\"-=\")+g,c.animate(l,i\/2,b.options.easing),g=g\/2,h--}for(var m=0;m<h;m++){var n={},p={};n[j]=(k==\"pos\"?\"-=\":\"+=\")+g,p[j]=(k==\"pos\"?\"+=\":\"-=\")+g,c.animate(n,i\/2,b.options.easing).animate(p,i\/2,b.options.easing),g=e==\"hide\"?g*2:g\/2}if(e==\"hide\"){var l={opacity:0};l[j]=(k==\"pos\"?\"-=\":\"+=\")+g,c.animate(l,i\/2,b.options.easing,function(){c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)})}else{var n={},p={};n[j]=(k==\"pos\"?\"-=\":\"+=\")+g,p[j]=(k==\"pos\"?\"+=\":\"-=\")+g,c.animate(n,i\/2,b.options.easing).animate(p,i\/2,b.options.easing,function(){a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)})}c.queue(\"fx\",function(){c.dequeue()}),c.dequeue()})}}(jQuery),function(a,b){a.effects.clip=function(b){return this.queue(function(){var c=a(this),d=[\"position\",\"top\",\"bottom\",\"left\",\"right\",\"height\",\"width\"],e=a.effects.setMode(c,b.options.mode||\"hide\"),f=b.options.direction||\"vertical\";a.effects.save(c,d),c.show();var g=a.effects.createWrapper(c).css({overflow:\"hidden\"}),h=c[0].tagName==\"IMG\"?g:c,i={size:f==\"vertical\"?\"height\":\"width\",position:f==\"vertical\"?\"top\":\"left\"},j=f==\"vertical\"?h.height():h.width();e==\"show\"&&(h.css(i.size,0),h.css(i.position,j\/2));var k={};k[i.size]=e==\"show\"?j:0,k[i.position]=e==\"show\"?0:j\/2,h.animate(k,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){e==\"hide\"&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()}})})}}(jQuery),function(a,b){a.effects.drop=function(b){return this.queue(function(){var c=a(this),d=[\"position\",\"top\",\"bottom\",\"left\",\"right\",\"opacity\"],e=a.effects.setMode(c,b.options.mode||\"hide\"),f=b.options.direction||\"left\";a.effects.save(c,d),c.show(),a.effects.createWrapper(c);var g=f==\"up\"||f==\"down\"?\"top\":\"left\",h=f==\"up\"||f==\"left\"?\"pos\":\"neg\",i=b.options.distance||(g==\"top\"?c.outerHeight({margin:!0})\/2:c.outerWidth({margin:!0})\/2);e==\"show\"&&c.css(\"opacity\",0).css(g,h==\"pos\"?-i:i);var j={opacity:e==\"show\"?1:0};j[g]=(e==\"show\"?h==\"pos\"?\"+=\":\"-=\":h==\"pos\"?\"-=\":\"+=\")+i,c.animate(j,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){e==\"hide\"&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}}(jQuery),function(a,b){a.effects.explode=function(b){return this.queue(function(){var c=b.options.pieces?Math.round(Math.sqrt(b.options.pieces)):3,d=b.options.pieces?Math.round(Math.sqrt(b.options.pieces)):3;b.options.mode=b.options.mode==\"toggle\"?a(this).is(\":visible\")?\"hide\":\"show\":b.options.mode;var e=a(this).show().css(\"visibility\",\"hidden\"),f=e.offset();f.top-=parseInt(e.css(\"marginTop\"),10)||0,f.left-=parseInt(e.css(\"marginLeft\"),10)||0;var g=e.outerWidth(!0),h=e.outerHeight(!0);for(var i=0;i<c;i++)for(var j=0;j<d;j++)e.clone().appendTo(\"body\").wrap(\"<div><\/div>\").css({position:\"absolute\",visibility:\"visible\",left:-j*(g\/d),top:-i*(h\/c)}).parent().addClass(\"ui-effects-explode\").css({position:\"absolute\",overflow:\"hidden\",width:g\/d,height:h\/c,left:f.left+j*(g\/d)+(b.options.mode==\"show\"?(j-Math.floor(d\/2))*(g\/d):0),top:f.top+i*(h\/c)+(b.options.mode==\"show\"?(i-Math.floor(c\/2))*(h\/c):0),opacity:b.options.mode==\"show\"?0:1}).animate({left:f.left+j*(g\/d)+(b.options.mode==\"show\"?0:(j-Math.floor(d\/2))*(g\/d)),top:f.top+i*(h\/c)+(b.options.mode==\"show\"?0:(i-Math.floor(c\/2))*(h\/c)),opacity:b.options.mode==\"show\"?1:0},b.duration||500);setTimeout(function(){b.options.mode==\"show\"?e.css({visibility:\"visible\"}):e.css({visibility:\"visible\"}).hide(),b.callback&&b.callback.apply(e[0]),e.dequeue(),a(\"div.ui-effects-explode\").remove()},b.duration||500)})}}(jQuery),function(a,b){a.effects.fade=function(b){return this.queue(function(){var c=a(this),d=a.effects.setMode(c,b.options.mode||\"hide\");c.animate({opacity:d},{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}}(jQuery),function(a,b){a.effects.fold=function(b){return this.queue(function(){var c=a(this),d=[\"position\",\"top\",\"bottom\",\"left\",\"right\"],e=a.effects.setMode(c,b.options.mode||\"hide\"),f=b.options.size||15,g=!!b.options.horizFirst,h=b.duration?b.duration\/2:a.fx.speeds._default\/2;a.effects.save(c,d),c.show();var i=a.effects.createWrapper(c).css({overflow:\"hidden\"}),j=e==\"show\"!=g,k=j?[\"width\",\"height\"]:[\"height\",\"width\"],l=j?[i.width(),i.height()]:[i.height(),i.width()],m=\/([0-9]+)%\/.exec(f);m&&(f=parseInt(m[1],10)\/100*l[e==\"hide\"?0:1]),e==\"show\"&&i.css(g?{height:0,width:f}:{height:f,width:0});var n={},p={};n[k[0]]=e==\"show\"?l[0]:f,p[k[1]]=e==\"show\"?l[1]:0,i.animate(n,h,b.options.easing).animate(p,h,b.options.easing,function(){e==\"hide\"&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()})})}}(jQuery),function(a,b){a.effects.highlight=function(b){return this.queue(function(){var c=a(this),d=[\"backgroundImage\",\"backgroundColor\",\"opacity\"],e=a.effects.setMode(c,b.options.mode||\"show\"),f={backgroundColor:c.css(\"backgroundColor\")};e==\"hide\"&&(f.opacity=0),a.effects.save(c,d),c.show().css({backgroundImage:\"none\",backgroundColor:b.options.color||\"#ffff99\"}).animate(f,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){e==\"hide\"&&c.hide(),a.effects.restore(c,d),e==\"show\"&&!a.support.opacity&&this.style.removeAttribute(\"filter\"),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}}(jQuery),function(a,b){a.effects.pulsate=function(b){return this.queue(function(){var c=a(this),d=a.effects.setMode(c,b.options.mode||\"show\");times=(b.options.times||5)*2-1,duration=b.duration?b.duration\/2:a.fx.speeds._default\/2,isVisible=c.is(\":visible\"),animateTo=0,isVisible||(c.css(\"opacity\",0).show(),animateTo=1),(d==\"hide\"&&isVisible||d==\"show\"&&!isVisible)&&times--;for(var e=0;e<times;e++)c.animate({opacity:animateTo},duration,b.options.easing),animateTo=(animateTo+1)%2;c.animate({opacity:animateTo},duration,b.options.easing,function(){animateTo==0&&c.hide(),b.callback&&b.callback.apply(this,arguments)}),c.queue(\"fx\",function(){c.dequeue()}).dequeue()})}}(jQuery),function(a,b){a.effects.puff=function(b){return this.queue(function(){var c=a(this),d=a.effects.setMode(c,b.options.mode||\"hide\"),e=parseInt(b.options.percent,10)||150,f=e\/100,g={height:c.height(),width:c.width()};a.extend(b.options,{fade:!0,mode:d,percent:d==\"hide\"?e:100,from:d==\"hide\"?g:{height:g.height*f,width:g.width*f}}),c.effect(\"scale\",b.options,b.duration,b.callback),c.dequeue()})},a.effects.scale=function(b){return this.queue(function(){var c=a(this),d=a.extend(!0,{},b.options),e=a.effects.setMode(c,b.options.mode||\"effect\"),f=parseInt(b.options.percent,10)||(parseInt(b.options.percent,10)==0?0:e==\"hide\"?0:100),g=b.options.direction||\"both\",h=b.options.origin;e!=\"effect\"&&(d.origin=h||[\"middle\",\"center\"],d.restore=!0);var i={height:c.height(),width:c.width()};c.from=b.options.from||(e==\"show\"?{height:0,width:0}:i);var j={y:g!=\"horizontal\"?f\/100:1,x:g!=\"vertical\"?f\/100:1};c.to={height:i.height*j.y,width:i.width*j.x},b.options.fade&&(e==\"show\"&&(c.from.opacity=0,c.to.opacity=1),e==\"hide\"&&(c.from.opacity=1,c.to.opacity=0)),d.from=c.from,d.to=c.to,d.mode=e,c.effect(\"size\",d,b.duration,b.callback),c.\ndequeue()})},a.effects.size=function(b){return this.queue(function(){var c=a(this),d=[\"position\",\"top\",\"bottom\",\"left\",\"right\",\"width\",\"height\",\"overflow\",\"opacity\"],e=[\"position\",\"top\",\"bottom\",\"left\",\"right\",\"overflow\",\"opacity\"],f=[\"width\",\"height\",\"overflow\"],g=[\"fontSize\"],h=[\"borderTopWidth\",\"borderBottomWidth\",\"paddingTop\",\"paddingBottom\"],i=[\"borderLeftWidth\",\"borderRightWidth\",\"paddingLeft\",\"paddingRight\"],j=a.effects.setMode(c,b.options.mode||\"effect\"),k=b.options.restore||!1,l=b.options.scale||\"both\",m=b.options.origin,n={height:c.height(),width:c.width()};c.from=b.options.from||n,c.to=b.options.to||n;if(m){var p=a.effects.getBaseline(m,n);c.from.top=(n.height-c.from.height)*p.y,c.from.left=(n.width-c.from.width)*p.x,c.to.top=(n.height-c.to.height)*p.y,c.to.left=(n.width-c.to.width)*p.x}var q={from:{y:c.from.height\/n.height,x:c.from.width\/n.width},to:{y:c.to.height\/n.height,x:c.to.width\/n.width}};if(l==\"box\"||l==\"both\")q.from.y!=q.to.y&&(d=d.concat(h),c.from=a.effects.setTransition(c,h,q.from.y,c.from),c.to=a.effects.setTransition(c,h,q.to.y,c.to)),q.from.x!=q.to.x&&(d=d.concat(i),c.from=a.effects.setTransition(c,i,q.from.x,c.from),c.to=a.effects.setTransition(c,i,q.to.x,c.to));(l==\"content\"||l==\"both\")&&q.from.y!=q.to.y&&(d=d.concat(g),c.from=a.effects.setTransition(c,g,q.from.y,c.from),c.to=a.effects.setTransition(c,g,q.to.y,c.to)),a.effects.save(c,k?d:e),c.show(),a.effects.createWrapper(c),c.css(\"overflow\",\"hidden\").css(c.from);if(l==\"content\"||l==\"both\")h=h.concat([\"marginTop\",\"marginBottom\"]).concat(g),i=i.concat([\"marginLeft\",\"marginRight\"]),f=d.concat(h).concat(i),c.find(\"*[width]\").each(function(){child=a(this),k&&a.effects.save(child,f);var c={height:child.height(),width:child.width()};child.from={height:c.height*q.from.y,width:c.width*q.from.x},child.to={height:c.height*q.to.y,width:c.width*q.to.x},q.from.y!=q.to.y&&(child.from=a.effects.setTransition(child,h,q.from.y,child.from),child.to=a.effects.setTransition(child,h,q.to.y,child.to)),q.from.x!=q.to.x&&(child.from=a.effects.setTransition(child,i,q.from.x,child.from),child.to=a.effects.setTransition(child,i,q.to.x,child.to)),child.css(child.from),child.animate(child.to,b.duration,b.options.easing,function(){k&&a.effects.restore(child,f)})});c.animate(c.to,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){c.to.opacity===0&&c.css(\"opacity\",c.from.opacity),j==\"hide\"&&c.hide(),a.effects.restore(c,k?d:e),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}}(jQuery),function(a,b){a.effects.shake=function(b){return this.queue(function(){var c=a(this),d=[\"position\",\"top\",\"bottom\",\"left\",\"right\"],e=a.effects.setMode(c,b.options.mode||\"effect\"),f=b.options.direction||\"left\",g=b.options.distance||20,h=b.options.times||3,i=b.duration||b.options.duration||140;a.effects.save(c,d),c.show(),a.effects.createWrapper(c);var j=f==\"up\"||f==\"down\"?\"top\":\"left\",k=f==\"up\"||f==\"left\"?\"pos\":\"neg\",l={},m={},n={};l[j]=(k==\"pos\"?\"-=\":\"+=\")+g,m[j]=(k==\"pos\"?\"+=\":\"-=\")+g*2,n[j]=(k==\"pos\"?\"-=\":\"+=\")+g*2,c.animate(l,i,b.options.easing);for(var p=1;p<h;p++)c.animate(m,i,b.options.easing).animate(n,i,b.options.easing);c.animate(m,i,b.options.easing).animate(l,i\/2,b.options.easing,function(){a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)}),c.queue(\"fx\",function(){c.dequeue()}),c.dequeue()})}}(jQuery),function(a,b){a.effects.slide=function(b){return this.queue(function(){var c=a(this),d=[\"position\",\"top\",\"bottom\",\"left\",\"right\"],e=a.effects.setMode(c,b.options.mode||\"show\"),f=b.options.direction||\"left\";a.effects.save(c,d),c.show(),a.effects.createWrapper(c).css({overflow:\"hidden\"});var g=f==\"up\"||f==\"down\"?\"top\":\"left\",h=f==\"up\"||f==\"left\"?\"pos\":\"neg\",i=b.options.distance||(g==\"top\"?c.outerHeight({margin:!0}):c.outerWidth({margin:!0}));e==\"show\"&&c.css(g,h==\"pos\"?isNaN(i)?\"-\"+i:-i:i);var j={};j[g]=(e==\"show\"?h==\"pos\"?\"+=\":\"-=\":h==\"pos\"?\"-=\":\"+=\")+i,c.animate(j,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){e==\"hide\"&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}}(jQuery),function(a,b){a.effects.transfer=function(b){return this.queue(function(){var c=a(this),d=a(b.options.to),e=d.offset(),f={top:e.top,left:e.left,height:d.innerHeight(),width:d.innerWidth()},g=c.offset(),h=a('<div class=\"ui-effects-transfer\"><\/div>').appendTo(document.body).addClass(b.options.className).css({top:g.top,left:g.left,height:c.innerHeight(),width:c.innerWidth(),position:\"absolute\"}).animate(f,b.duration,b.options.easing,function(){h.remove(),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()})})}}(jQuery),function(a,b){a.widget(\"ui.accordion\",{options:{active:0,animated:\"slide\",autoHeight:!0,clearStyle:!1,collapsible:!1,event:\"click\",fillSpace:!1,header:\"> li > :first-child,> :not(li):even\",icons:{header:\"ui-icon-triangle-1-e\",headerSelected:\"ui-icon-triangle-1-s\"},navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var b=this,c=b.options;b.running=0,b.element.addClass(\"ui-accordion ui-widget ui-helper-reset\").children(\"li\").addClass(\"ui-accordion-li-fix\"),b.headers=b.element.find(c.header).addClass(\"ui-accordion-header ui-helper-reset ui-state-default ui-corner-all\").bind(\"mouseenter.accordion\",function(){c.disabled||a(this).addClass(\"ui-state-hover\")}).bind(\"mouseleave.accordion\",function(){c.disabled||a(this).removeClass(\"ui-state-hover\")}).bind(\"focus.accordion\",function(){c.disabled||a(this).addClass(\"ui-state-focus\")}).bind(\"blur.accordion\",function(){c.disabled||a(this).removeClass(\"ui-state-focus\")}),b.headers.next().addClass(\"ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom\");if(c.navigation){var d=b.element.find(\"a\").filter(c.navigationFilter).eq(0);if(d.length){var e=d.closest(\".ui-accordion-header\");e.length?b.active=e:b.active=d.closest(\".ui-accordion-content\").prev()}}b.active=b._findActive(b.active||c.active).addClass(\"ui-state-default ui-state-active\").toggleClass(\"ui-corner-all\").toggleClass(\"ui-corner-top\"),b.active.next().addClass(\"ui-accordion-content-active\"),b._createIcons(),b.resize(),b.element.attr(\"role\",\"tablist\"),b.headers.attr(\"role\",\"tab\").bind(\"keydown.accordion\",function(a){return b._keydown(a)}).next().attr(\"role\",\"tabpanel\"),b.headers.not(b.active||\"\").attr({\"aria-expanded\":\"false\",\"aria-selected\":\"false\",tabIndex:-1}).next().hide(),b.active.length?b.active.attr({\"aria-expanded\":\"true\",\"aria-selected\":\"true\",tabIndex:0}):b.headers.eq(0).attr(\"tabIndex\",0),a.browser.safari||b.headers.find(\"a\").attr(\"tabIndex\",-1),c.event&&b.headers.bind(c.event.split(\" \").join(\".accordion \")+\".accordion\",function(a){b._clickHandler.call(b,a,this),a.preventDefault()})},_createIcons:function(){var b=this.options;b.icons&&(a(\"<span><\/span>\").addClass(\"ui-icon \"+b.icons.header).prependTo(this.headers),this.active.children(\".ui-icon\").toggleClass(b.icons.header).toggleClass(b.icons.headerSelected),this.element.addClass(\"ui-accordion-icons\"))},_destroyIcons:function(){this.headers.children(\".ui-icon\").remove(),this.element.removeClass(\"ui-accordion-icons\")},destroy:function(){var b=this.options;this.element.removeClass(\"ui-accordion ui-widget ui-helper-reset\").removeAttr(\"role\"),this.headers.unbind(\".accordion\").removeClass(\"ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top\").removeAttr(\"role\").removeAttr(\"aria-expanded\").removeAttr(\"aria-selected\").removeAttr(\"tabIndex\"),this.headers.find(\"a\").removeAttr(\"tabIndex\"),this._destroyIcons();var c=this.headers.next().css(\"display\",\"\").removeAttr(\"role\").removeClass(\"ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled\");(b.autoHeight||b.fillHeight)&&c.css(\"height\",\"\");return a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments),b==\"active\"&&this.activate(c),b==\"icons\"&&(this._destroyIcons(),c&&this._createIcons()),b==\"disabled\"&&this.headers.add(this.headers.next())[c?\"addClass\":\"removeClass\"](\"ui-accordion-disabled ui-state-disabled\")},_keydown:function(b){if(!(this.options.disabled||b.altKey||b.ctrlKey)){var c=a.ui.keyCode,d=this.headers.length,e=this.headers.index(b.target),f=!1;switch(b.keyCode){case c.RIGHT:case c.DOWN:f=this.headers[(e+1)%d];break;case c.LEFT:case c.UP:f=this.headers[(e-1+d)%d];break;case c.SPACE:case c.ENTER:this._clickHandler({target:b.target},b.target),b.preventDefault()}if(f){a(b.target).attr(\"tabIndex\",-1),a(f).attr(\"tabIndex\",0),f.focus();return!1}return!0}},resize:function(){var b=this.options,c;if(b.fillSpace){if(a.browser.msie){var d=this.element.parent().css(\"overflow\");this.element.parent().css(\"overflow\",\"hidden\")}c=this.element.parent().height(),a.browser.msie&&this.element.parent().css(\"overflow\",d),this.headers.each(function(){c-=a(this).outerHeight(!0)}),this.headers.next().each(function(){a(this).height(Math.max(0,c-a(this).innerHeight()+a(this).height()))}).css(\"overflow\",\"auto\")}else b.autoHeight&&(c=0,this.headers.next().each(function(){c=Math.max(c,a(this).height(\"\").height())}).height(c));return this},activate:function(a){this.options.active=a;var b=this._findActive(a)[0];this._clickHandler({target:b},b);return this},_findActive:function(b){return b?typeof b==\"number\"?this.headers.filter(\":eq(\"+b+\")\"):this.headers.not(this.headers.not(b)):b===!1?a([]):this.headers.filter(\":eq(0)\")},_clickHandler:function(b,c){var d=this.options;if(!d.disabled){if(!b.target){if(!d.collapsible)return;this.active.removeClass(\"ui-state-active ui-corner-top\").addClass(\"ui-state-default ui-corner-all\").children(\".ui-icon\").removeClass(d.icons.headerSelected).addClass(d.icons.header),this.active.next().addClass(\"ui-accordion-content-active\");var e=this.active.next(),f={options:d,newHeader:a([]),oldHeader:d.active,newContent:a([]),oldContent:e},g=this.active=a([]);this._toggle(g,e,f);return}var h=a(b.currentTarget||c),i=h[0]===this.active[0];d.active=d.collapsible&&i?!1:this.headers.index(h);if(this.running||!d.collapsible&&i)return;var j=this.active,g=h.next(),e=this.active.next(),f={options:d,newHeader:i&&d.collapsible?a([]):h,oldHeader:this.active,newContent:i&&d.collapsible?a([]):g,oldContent:e},k=this.headers.index(this.active[0])>this.headers.index(h[0]);this.active=i?a([]):h,this._toggle(g,e,f,i,k),j.removeClass(\"ui-state-active ui-corner-top\").addClass(\"ui-state-default ui-corner-all\").children(\".ui-icon\").removeClass(d.icons.headerSelected).addClass(d.icons.header),i||(h.removeClass(\"ui-state-default ui-corner-all\").addClass(\"ui-state-active ui-corner-top\").children(\".ui-icon\").removeClass(d.icons.header).addClass(d.icons.headerSelected),h.next().addClass(\"ui-accordion-content-active\"));return}},_toggle:function(b,c,d,e,f){var g=this,h=g.options;g.toShow=b,g.toHide=c,g.data=d;var i=function(){if(!!g)return g._completed.apply(g,arguments)};g._trigger(\"changestart\",null,g.data),g.running=c.size()===0?b.size():c.size();if(h.animated){var j={};h.collapsible&&e?j={toShow:a([]),toHide:c,complete:i,down:f,autoHeight:h.autoHeight||h.fillSpace}:j={toShow:b,toHide:c,complete:i,down:f,autoHeight:h.autoHeight||h.fillSpace},h.proxied||(h.proxied=h.animated),h.proxiedDuration||(h.proxiedDuration=h.duration),h.animated=a.isFunction(h.proxied)?h.proxied(j):h.proxied,h.duration=a.isFunction(h.proxiedDuration)?h.proxiedDuration(j):h.proxiedDuration;var k=a.ui.accordion.animations,l=h.duration,m=h.animated;m&&!k[m]&&!a.easing[m]&&(m=\"slide\"),k[m]||(k[m]=function(a){this.slide(a,{easing:m,duration:l||700})}),k[m](j)}else h.collapsible&&e?b.toggle():(c.hide(),b.show()),i(!0);c.prev().attr({\"aria-expanded\":\"false\",\"aria-selected\":\"false\",tabIndex:-1}).blur(),b.prev().attr({\"aria-expanded\":\"true\",\"aria-selected\":\"true\",tabIndex:0}).focus()},_completed:function(a){this.running=a?0:--this.running;this.running||(this.options.clearStyle&&this.toShow.add(this.toHide).css({height:\"\",overflow:\"\"}),this.toHide.removeClass(\"ui-accordion-content-active\"),this.toHide.length&&(this.toHide.parent()[0].className=this.toHide.parent()[0].className),this._trigger(\"change\",null,this.data))}}),a.extend(a.ui.accordion,{version:\"1.8.18\",animations:{slide:function(b,c){b=a.extend({easing:\"swing\",duration:300},b,c);if(!b.toHide.size())b.toShow.animate({height:\"show\",paddingTop:\"show\",paddingBottom:\"show\"},b);else{if(!b.toShow.size()){b.toHide.animate({height:\"hide\",paddingTop:\"hide\",paddingBottom:\"hide\"},b);return}var d=b.toShow.css(\"overflow\"),e=0,f={},g={},h=[\"height\",\"paddingTop\",\"paddingBottom\"],i,j=b.toShow;i=j[0].style.width,j.width(j.parent().width()-parseFloat(j.css(\"paddingLeft\"))-parseFloat(j.css(\"paddingRight\"))-(parseFloat(j.css(\"borderLeftWidth\"))||0)-(parseFloat(j.css(\"borderRightWidth\"))||0)),a.each(h,function(c,d){g[d]=\"hide\";var e=(\"\"+a.css(b.toShow[0],d)).match(\/^([\\d+-.]+)(.*)$\/);f[d]={value:e[1],unit:e[2]||\"px\"}}),b.toShow.css({height:0,overflow:\"hidden\"}).show(),b.toHide.filter(\":hidden\").each(b.complete).end().filter(\":visible\").animate(g,{step:function(a,c){c.prop==\"height\"&&(e=c.end-c.start===0?0:(c.now-c.start)\/(c.end-c.start)),b.toShow[0].style[c.prop]=e*f[c.prop].value+f[c.prop].unit},duration:b.duration,easing:b.easing,complete:function(){b.autoHeight||b.toShow.css(\"height\",\"\"),b.toShow.css({width:i,overflow:d}),b.complete()}})}},bounceslide:function(a){this.slide(a,{easing:a.down?\"easeOutBounce\":\"swing\",duration:a.down?1e3:200})}}})}(jQuery),function(a,b){var c=0;a.widget(\"ui.autocomplete\",{options:{appendTo:\"body\",autoFocus:!1,delay:300,minLength:1,position:{my:\"left top\",at:\"left bottom\",collision:\"none\"},source:null},pending:0,_create:function(){var b=this,c=this.element[0].ownerDocument,d;this.element.addClass(\"ui-autocomplete-input\").attr(\"autocomplete\",\"off\").attr({role:\"textbox\",\"aria-autocomplete\":\"list\",\"aria-haspopup\":\"true\"}).bind(\"keydown.autocomplete\",function(c){if(!b.options.disabled&&!b.element.propAttr(\"readOnly\")){d=!1;var e=a.ui.keyCode;switch(c.keyCode){case e.PAGE_UP:b._move(\"previousPage\",c);break;case e.PAGE_DOWN:b._move(\"nextPage\",c);break;case e.UP:b._move(\"previous\",c),c.preventDefault();break;case e.DOWN:b._move(\"next\",c),c.preventDefault();break;case e.ENTER:case e.NUMPAD_ENTER:b.menu.active&&(d=!0,c.preventDefault());case e.TAB:if(!b.menu.active)return;b.menu.select(c);break;case e.ESCAPE:b.element.val(b.term),b.close(c);break;default:clearTimeout(b.searching),b.searching=setTimeout(function(){b.term!=b.element.val()&&(b.selectedItem=null,b.search(null,c))},b.options.delay)}}}).bind(\"keypress.autocomplete\",function(a){d&&(d=!1,a.preventDefault())}).bind(\"focus.autocomplete\",function(){b.options.disabled||(b.selectedItem=null,b.previous=b.element.val())}).bind(\"blur.autocomplete\",function(a){b.options.disabled||(clearTimeout(b.searching),b.closing=setTimeout(function(){b.close(a),b._change(a)},150))}),this._initSource(),this.response=function(){return b._response.apply(b,arguments)},this.menu=a(\"<ul><\/ul>\").addClass(\"ui-autocomplete\").appendTo(a(this.options.appendTo||\"body\",c)[0]).mousedown(function(c){var d=b.menu.element[0];a(c.target).closest(\".ui-menu-item\").length||setTimeout(function(){a(document).one(\"mousedown\",function(c){c.target!==b.element[0]&&c.target!==d&&!a.ui.contains(d,c.target)&&b.close()})},1),setTimeout(function(){clearTimeout(b.closing)},13)}).menu({focus:function(a,c){var d=c.item.data(\"item.autocomplete\");!1!==b._trigger(\"focus\",a,{item:d})&&\/^key\/.test(a.originalEvent.type)&&b.element.val(d.value)},selected:function(a,d){var e=d.item.data(\"item.autocomplete\"),f=b.previous;b.element[0]!==c.activeElement&&(b.element.focus(),b.previous=f,setTimeout(function(){b.previous=f,b.selectedItem=e},1)),!1!==b._trigger(\"select\",a,{item:e})&&b.element.val(e.value),b.term=b.element.val(),b.close(a),b.selectedItem=e},blur:function(a,c){b.menu.element.is(\":visible\")&&b.element.val()!==b.term&&b.element.val(b.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data(\"menu\"),a.fn.bgiframe&&this.menu.element.bgiframe(),b.beforeunloadHandler=function(){b.element.removeAttr(\"autocomplete\")},a(window).bind(\"beforeunload\",b.beforeunloadHandler)},destroy:function(){this.element.removeClass(\"ui-autocomplete-input\").removeAttr(\"autocomplete\").removeAttr(\"role\").removeAttr(\"aria-autocomplete\").removeAttr(\"aria-haspopup\"),this.menu.element.remove(),a(window).unbind(\"beforeunload\",this.beforeunloadHandler),a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments),b===\"source\"&&this._initSource(),b===\"appendTo\"&&this.menu.element.appendTo(a(c||\"body\",this.element[0].ownerDocument)[0]),b===\"disabled\"&&c&&this.xhr&&this.xhr.abort()},_initSource:function(){var b=this,d,e;a.isArray(this.options.source)?(d=this.options.source,this.source=function(b,c){c(a.ui.autocomplete.filter(d,b.term))}):typeof this.options.source==\"string\"?(e=this.options.source,this.source=function(d,f){b.xhr&&b.xhr.abort(),b.xhr=a.ajax({url:e,data:d,dataType:\"json\",context:{autocompleteRequest:++c},success:function(a,b){this.autocompleteRequest===c&&f(a)},error:function(){this.autocompleteRequest===c&&f([])}})}):this.source=this.options.source},search:function(a,b){a=a!=null?a:this.element.val(),this.term=this.element.val();if(a.length<this.options.minLength)return this.close(b);clearTimeout(this.closing);if(this._trigger(\"search\",b)!==!1)return this._search(a)},_search:function(a){this.pending++,this.element.addClass(\"ui-autocomplete-loading\"),this.source({term:a},this.response)},_response:function(a){!this.options.disabled&&a&&a.length?(a=this._normalize(a),this._suggest(a),this._trigger(\"open\")):this.close(),this.pending--,this.pending||this.element.removeClass(\"ui-autocomplete-loading\")},close:function(a){clearTimeout(this.closing),this.menu.element.is(\":visible\")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger(\"close\",a))},_change:function(a){this.previous!==this.element.val()&&this._trigger(\"change\",a,{item:this.selectedItem})},_normalize:function(b){if(b.length&&b[0].label&&b[0].value)return b;return a.map(b,function(b){if(typeof b==\"string\")return{label:b,value:b};return a.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(b){var c=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(c,b),this.menu.deactivate(),this.menu.refresh(),c.show(),this._resizeMenu(),c.position(a.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(new a.Event(\"mouseover\"))},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width(\"\").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(b,c){var d=this;a.each(c,function(a,c){d._renderItem(b,c)})},_renderItem:function(b,c){return a(\"<li><\/li>\").data(\"item.autocomplete\",c).append(a(\"<a><\/a>\").text(c.label)).appendTo(b)},_move:function(a,b){if(!this.menu.element.is(\":visible\"))this.search(null,b);else{if(this.menu.first()&&\/^previous\/.test(a)||this.menu.last()&&\/^next\/.test(a)){this.element.val(this.term),this.menu.deactivate();return}this.menu[a](b)}},widget:function(){return this.menu.element}}),a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(\/[-[\\]{}()*+?.,\\\\^$|#\\s]\/g,\"\\\\$&\")},filter:function(b,c){var d=new RegExp(a.ui.autocomplete.escapeRegex(c),\"i\");return a.grep(b,function(a){return d.test(a.label||a.value||a)})}})}(jQuery),function(a){a.widget(\"ui.menu\",{_create:function(){var b=this;this.element.addClass(\"ui-menu ui-widget ui-widget-content ui-corner-all\").attr({role:\"listbox\",\"aria-activedescendant\":\"ui-active-menuitem\"}).click(function(c){!a(c.target).closest(\".ui-menu-item a\").length||(c.preventDefault(),b.select(c))}),this.refresh()},refresh:function(){var b=this,c=this.element.children(\"li:not(.ui-menu-item):has(a)\").addClass(\"ui-menu-item\").attr(\"role\",\"menuitem\");c.children(\"a\").addClass(\"ui-corner-all\").attr(\"tabindex\",-1).mouseenter(function(c){b.activate(c,a(this).parent())}).mouseleave(function(){b.deactivate()})},activate:function(a,b){this.deactivate();if(this.hasScroll()){var c=b.offset().top-this.element.offset().top,d=this.element.scrollTop(),e=this.element.height();c<0?this.element.scrollTop(d+c):c>=e&&this.element.scrollTop(d+c-e+b.height())}this.active=b.eq(0).children(\"a\").addClass(\"ui-state-hover\").attr(\"id\",\"ui-active-menuitem\").end(),this._trigger(\"focus\",a,{item:b})},deactivate:function(){!this.active||(this.active.children(\"a\").removeClass(\"ui-state-hover\").removeAttr(\"id\"),this._trigger(\"blur\"),this.active=null)},next:function(a){this.move(\"next\",\".ui-menu-item:first\",a)},previous:function(a){this.move(\"prev\",\".ui-menu-item:last\",a)},first:function(){return this.active&&!this.active.prevAll(\".ui-menu-item\").length},last:function(){return this.active&&!this.active.nextAll(\".ui-menu-item\").length},move:function(a,b,c){if(!this.active)this.activate(c,this.element.children(b));else{var d=this.active[a+\"All\"](\".ui-menu-item\").eq(0);d.length?this.activate(c,d):this.activate(c,this.element.children(b))}},nextPage:function(b){if(this.hasScroll()){if(!this.active||this.last()){this.activate(b,this.element.children(\".ui-menu-item:first\"));return}var c=this.active.offset().top,d=this.element.height(),e=this.element.children(\".ui-menu-item\").filter(function(){var b=a(this).offset().top-c-d+a(this).height();return b<10&&b>-10});e.length||(e=this.element.children(\".ui-menu-item:last\")),this.activate(b,e)}else this.activate(b,this.element.children(\".ui-menu-item\").filter(!this.active||this.last()?\":first\":\":last\"))},previousPage:function(b){if(this.hasScroll()){if(!this.active||this.first()){this.activate(b,this.element.children(\".ui-menu-item:last\"));return}var c=this.active.offset().top,d=this.element.height();result=this.element.children(\".ui-menu-item\").filter(function(){var b=a(this).offset().top-c+d-a(this).height();return b<10&&b>-10}),result.length||(result=this.element.children(\".ui-menu-item:first\")),this.activate(b,result)}else this.activate(b,this.element.children(\".ui-menu-item\").filter(!this.active||this.first()?\":last\":\":first\"))},hasScroll:function(){return this.element.height()<this.element[a.fn.prop?\"prop\":\"attr\"](\"scrollHeight\")},select:function(a){this._trigger(\"selected\",a,{item:this.active})}})}(jQuery),function(a,b){var c,d,e,f,g=\"ui-button ui-widget ui-state-default ui-corner-all\",h=\"ui-state-hover ui-state-active \",i=\"ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only\",j=function(){var b=a(this).find(\":ui-button\");setTimeout(function(){b.button(\"refresh\")},1)},k=function(b){var c=b.name,d=b.form,e=a([]);c&&(d?e=a(d).find(\"[name='\"+c+\"']\"):e=a(\"[name='\"+c+\"']\",b.ownerDocument).filter(function(){return!this.form}));return e};a.widget(\"ui.button\",{options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest(\"form\").unbind(\"reset.button\").bind(\"reset.button\",j),typeof this.options.disabled!=\"boolean\"?this.options.disabled=!!this.element.propAttr(\"disabled\"):this.element.propAttr(\"disabled\",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr(\"title\");var b=this,h=this.options,i=this.type===\"checkbox\"||this.type===\"radio\",l=\"ui-state-hover\"+(i?\"\":\" ui-state-active\"),m=\"ui-state-focus\";h.label===null&&(h.label=this.buttonElement.html()),this.buttonElement.addClass(g).attr(\"role\",\"button\").bind(\"mouseenter.button\",function(){h.disabled||(a(this).addClass(\"ui-state-hover\"),this===c&&a(this).addClass(\"ui-state-active\"))}).bind(\"mouseleave.button\",function(){h.disabled||a(this).removeClass(l)}).bind(\"click.button\",function(a){h.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}),this.element.bind(\"focus.button\",function(){b.buttonElement.addClass(m)}).bind(\"blur.button\",function(){b.buttonElement.removeClass(m)}),i&&(this.element.bind(\"change.button\",function(){f||b.refresh()}),this.buttonElement.bind(\"mousedown.button\",function(a){h.disabled||(f=!1,d=a.pageX,e=a.pageY)}).bind(\"mouseup.button\",function(a){!h.disabled&&(d!==a.pageX||e!==a.pageY)&&(f=!0)})),this.type===\"checkbox\"?this.buttonElement.bind(\"click.button\",function(){if(h.disabled||f)return!1;a(this).toggleClass(\"ui-state-active\"),b.buttonElement.attr(\"aria-pressed\",b.element[0].checked)}):this.type===\"radio\"?this.buttonElement.bind(\"click.button\",function(){if(h.disabled||f)return!1;a(this).addClass(\"ui-state-active\"),b.buttonElement.attr(\"aria-pressed\",\"true\");var c=b.element[0];k(c).not(c).map(function(){return a(this).button(\"widget\")[0]}).removeClass(\"ui-state-active\").attr(\"aria-pressed\",\"false\")}):(this.buttonElement.bind(\"mousedown.button\",function(){if(h.disabled)return!1;a(this).addClass(\"ui-state-active\"),c=this,a(document).one(\"mouseup\",function(){c=null})}).bind(\"mouseup.button\",function(){if(h.disabled)return!1;a(this).removeClass(\"ui-state-active\")}).bind(\"keydown.button\",function(b){if(h.disabled)return!1;(b.keyCode==a.ui.keyCode.SPACE||b.keyCode==a.ui.keyCode.ENTER)&&a(this).addClass(\"ui-state-active\")}).bind(\"keyup.button\",function(){a(this).removeClass(\"ui-state-active\")}),this.buttonElement.is(\"a\")&&this.buttonElement.keyup(function(b){b.keyCode===a.ui.keyCode.SPACE&&a(this).click()})),this._setOption(\"disabled\",h.disabled),this._resetButton()},_determineButtonType:function(){this.element.is(\":checkbox\")?this.type=\"checkbox\":this.element.is(\":radio\")?this.type=\"radio\":this.element.is(\"input\")?this.type=\"input\":this.type=\"button\";if(this.type===\"checkbox\"||this.type===\"radio\"){var a=this.element.parents().filter(\":last\"),b=\"label[for='\"+this.element.attr(\"id\")+\"']\";this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=a.find(b))),this.element.addClass(\"ui-helper-hidden-accessible\");var c=this.element.is(\":checked\");c&&this.buttonElement.addClass(\"ui-state-active\"),this.buttonElement.attr(\"aria-pressed\",c)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass(\"ui-helper-hidden-accessible\"),this.buttonElement.removeClass(g+\" \"+h+\" \"+i).removeAttr(\"role\").removeAttr(\"aria-pressed\").html(this.buttonElement.find(\".ui-button-text\").html()),this.hasTitle||this.buttonElement.removeAttr(\"title\"),a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments);b===\"disabled\"?c?this.element.propAttr(\"disabled\",!0):this.element.propAttr(\"disabled\",!1):this._resetButton()},refresh:function(){var b=this.element.is(\":disabled\");b!==this.options.disabled&&this._setOption(\"disabled\",b),this.type===\"radio\"?k(this.element[0]).each(function(){a(this).is(\":checked\")?a(this).button(\"widget\").addClass(\"ui-state-active\").attr(\"aria-pressed\",\"true\"):a(this).button(\"widget\").removeClass(\"ui-state-active\").attr(\"aria-pressed\",\"false\")}):this.type===\"checkbox\"&&(this.element.is(\":checked\")?this.buttonElement.addClass(\"ui-state-active\").attr(\"aria-pressed\",\"true\"):this.buttonElement.removeClass(\"ui-state-active\").attr(\"aria-pressed\",\"false\"))},_resetButton:function(){if(this.type===\"input\")this.options.label&&this.element.val(this.options.label);else{var b=this.buttonElement.removeClass(i),c=a(\"<span><\/span>\",this.element[0].ownerDocument).addClass(\"ui-button-text\").html(this.options.label).appendTo(b.empty()).text(),d=this.options.icons,e=d.primary&&d.secondary,f=[];d.primary||d.secondary?(this.options.text&&f.push(\"ui-button-text-icon\"+(e?\"s\":d.primary?\"-primary\":\"-secondary\")),d.primary&&b.prepend(\"<span class='ui-button-icon-primary ui-icon \"+d.primary+\"'><\/span>\"),d.secondary&&b.append(\"<span class='ui-button-icon-secondary ui-icon \"+d.secondary+\"'><\/span>\"),this.options.text||(f.push(e?\"ui-button-icons-only\":\"ui-button-icon-only\"),this.hasTitle||b.attr(\"title\",c))):f.push(\"ui-button-text-only\"),b.addClass(f.join(\" \"))}}}),a.widget(\"ui.buttonset\",{options:{items:\":button, :submit, :reset, :checkbox, :radio, a, :data(button)\"},_create:function(){this.element.addClass(\"ui-buttonset\")},_init:function(){this.refresh()},_setOption:function(b,c){b===\"disabled\"&&this.buttons.button(\"option\",b,c),a.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){var b=this.element.css(\"direction\")===\"rtl\";this.buttons=this.element.find(this.options.items).filter(\":ui-button\").button(\"refresh\").end().not(\":ui-button\").button().end().map(function(){return a(this).button(\"widget\")[0]}).removeClass(\"ui-corner-all ui-corner-left ui-corner-right\").filter(\":first\").addClass(b?\"ui-corner-right\":\"ui-corner-left\").end().filter(\":last\").addClass(b?\"ui-corner-left\":\"ui-corner-right\").end().end()},destroy:function(){this.element.removeClass(\"ui-buttonset\"),this.buttons.map(function(){return a(this).button(\"widget\")[0]}).removeClass(\"ui-corner-left ui-corner-right\").end().button(\"destroy\"),a.Widget.prototype.destroy.call(this)}})}(jQuery),function($,undefined){function isArray(a){return a&&($.browser.safari&&typeof a==\"object\"&&a.length||a.constructor&&a.constructor.toString().match(\/\\Array\\(\\)\/))}function extendRemove(a,b){$.extend(a,b);for(var c in b)if(b[c]==null||b[c]==undefined)a[c]=b[c];return a}function bindHover(a){var b=\"button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a\";return a.bind(\"mouseout\",function(a){var c=$(a.target).closest(b);!c.length||c.removeClass(\"ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover\")}).bind(\"mouseover\",function(c){var d=$(c.target).closest(b);!$.datepicker._isDisabledDatepicker(instActive.inline?a.parent()[0]:instActive.input[0])&&!!d.length&&(d.parents(\".ui-datepicker-calendar\").find(\"a\").removeClass(\"ui-state-hover\"),d.addClass(\"ui-state-hover\"),d.hasClass(\"ui-datepicker-prev\")&&d.addClass(\"ui-datepicker-prev-hover\"),d.hasClass(\"ui-datepicker-next\")&&d.addClass(\"ui-datepicker-next-hover\"))})}function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId=\"ui-datepicker-div\",this._inlineClass=\"ui-datepicker-inline\",this._appendClass=\"ui-datepicker-append\",this._triggerClass=\"ui-datepicker-trigger\",this._dialogClass=\"ui-datepicker-dialog\",this._disableClass=\"ui-datepicker-disabled\",this._unselectableClass=\"ui-datepicker-unselectable\",this._currentClass=\"ui-datepicker-current-day\",this._dayOverClass=\"ui-datepicker-days-cell-over\",this.regional=[],this.regional[\"\"]={closeText:\"Done\",prevText:\"Prev\",nextText:\"Next\",currentText:\"Today\",monthNames:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],monthNamesShort:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],dayNames:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],dayNamesShort:[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],dayNamesMin:[\"Su\",\"Mo\",\"Tu\",\"We\",\"Th\",\"Fr\",\"Sa\"],weekHeader:\"Wk\",dateFormat:\"mm\/dd\/yy\",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:\"\"},this._defaults={showOn:\"focus\",showAnim:\"fadeIn\",showOptions:{},defaultDate:null,appendText:\"\",buttonText:\"...\",buttonImage:\"\",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:\"c-10:c+10\",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:\"+10\",minDate:null,maxDate:null,duration:\"fast\",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:\"\",altFormat:\"\",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[\"\"]),this.dpDiv=bindHover($('<div id=\"'+this._mainDivId+'\" class=\"ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all\"><\/div>'))}$.extend($.ui,{datepicker:{version:\"1.8.18\"}});var PROP_NAME=\"datepicker\",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:\"hasDatepicker\",maxRows:4,log:function(){this.debug&&console.log.apply(\"\",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){extendRemove(this._defaults,a||{});return this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute(\"date:\"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}\n}}var nodeName=target.nodeName.toLowerCase(),inline=nodeName==\"div\"||nodeName==\"span\";target.id||(this.uuid+=1,target.id=\"dp\"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),nodeName==\"input\"?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(a,b){var c=a[0].id.replace(\/([^A-Za-z0-9_-])\/g,\"\\\\\\\\$1\");return{id:c,input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,dpDiv:b?bindHover($('<div class=\"'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all\"><\/div>')):this.dpDiv}},_connectDatepicker:function(a,b){var c=$(a);b.append=$([]),b.trigger=$([]);c.hasClass(this.markerClassName)||(this._attachments(c,b),c.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind(\"setData.datepicker\",function(a,c,d){b.settings[c]=d}).bind(\"getData.datepicker\",function(a,c){return this._get(b,c)}),this._autoSize(b),$.data(a,PROP_NAME,b),b.settings.disabled&&this._disableDatepicker(a))},_attachments:function(a,b){var c=this._get(b,\"appendText\"),d=this._get(b,\"isRTL\");b.append&&b.append.remove(),c&&(b.append=$('<span class=\"'+this._appendClass+'\">'+c+\"<\/span>\"),a[d?\"before\":\"after\"](b.append)),a.unbind(\"focus\",this._showDatepicker),b.trigger&&b.trigger.remove();var e=this._get(b,\"showOn\");(e==\"focus\"||e==\"both\")&&a.focus(this._showDatepicker);if(e==\"button\"||e==\"both\"){var f=this._get(b,\"buttonText\"),g=this._get(b,\"buttonImage\");b.trigger=$(this._get(b,\"buttonImageOnly\")?$(\"<img\/>\").addClass(this._triggerClass).attr({src:g,alt:f,title:f}):$('<button type=\"button\"><\/button>').addClass(this._triggerClass).html(g==\"\"?f:$(\"<img\/>\").attr({src:g,alt:f,title:f}))),a[d?\"before\":\"after\"](b.trigger),b.trigger.click(function(){$.datepicker._datepickerShowing&&$.datepicker._lastInput==a[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=a[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(a[0])):$.datepicker._showDatepicker(a[0]);return!1})}},_autoSize:function(a){if(this._get(a,\"autoSize\")&&!a.inline){var b=new Date(2009,11,20),c=this._get(a,\"dateFormat\");if(c.match(\/[DM]\/)){var d=function(a){var b=0,c=0;for(var d=0;d<a.length;d++)a[d].length>b&&(b=a[d].length,c=d);return c};b.setMonth(d(this._get(a,c.match(\/MM\/)?\"monthNames\":\"monthNamesShort\"))),b.setDate(d(this._get(a,c.match(\/DD\/)?\"dayNames\":\"dayNamesShort\"))+20-b.getDay())}a.input.attr(\"size\",this._formatDate(a,b).length)}},_inlineDatepicker:function(a,b){var c=$(a);c.hasClass(this.markerClassName)||(c.addClass(this.markerClassName).append(b.dpDiv).bind(\"setData.datepicker\",function(a,c,d){b.settings[c]=d}).bind(\"getData.datepicker\",function(a,c){return this._get(b,c)}),$.data(a,PROP_NAME,b),this._setDate(b,this._getDefaultDate(b),!0),this._updateDatepicker(b),this._updateAlternate(b),b.settings.disabled&&this._disableDatepicker(a),b.dpDiv.css(\"display\",\"block\"))},_dialogDatepicker:function(a,b,c,d,e){var f=this._dialogInst;if(!f){this.uuid+=1;var g=\"dp\"+this.uuid;this._dialogInput=$('<input type=\"text\" id=\"'+g+'\" style=\"position: absolute; top: -100px; width: 0px; z-index: -10;\"\/>'),this._dialogInput.keydown(this._doKeyDown),$(\"body\").append(this._dialogInput),f=this._dialogInst=this._newInst(this._dialogInput,!1),f.settings={},$.data(this._dialogInput[0],PROP_NAME,f)}extendRemove(f.settings,d||{}),b=b&&b.constructor==Date?this._formatDate(f,b):b,this._dialogInput.val(b),this._pos=e?e.length?e:[e.pageX,e.pageY]:null;if(!this._pos){var h=document.documentElement.clientWidth,i=document.documentElement.clientHeight,j=document.documentElement.scrollLeft||document.body.scrollLeft,k=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[h\/2-100+j,i\/2-150+k]}this._dialogInput.css(\"left\",this._pos[0]+20+\"px\").css(\"top\",this._pos[1]+\"px\"),f.settings.onSelect=c,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,f);return this},_destroyDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(!!b.hasClass(this.markerClassName)){var d=a.nodeName.toLowerCase();$.removeData(a,PROP_NAME),d==\"input\"?(c.append.remove(),c.trigger.remove(),b.removeClass(this.markerClassName).unbind(\"focus\",this._showDatepicker).unbind(\"keydown\",this._doKeyDown).unbind(\"keypress\",this._doKeyPress).unbind(\"keyup\",this._doKeyUp)):(d==\"div\"||d==\"span\")&&b.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(!!b.hasClass(this.markerClassName)){var d=a.nodeName.toLowerCase();if(d==\"input\")a.disabled=!1,c.trigger.filter(\"button\").each(function(){this.disabled=!1}).end().filter(\"img\").css({opacity:\"1.0\",cursor:\"\"});else if(d==\"div\"||d==\"span\"){var e=b.children(\".\"+this._inlineClass);e.children().removeClass(\"ui-state-disabled\"),e.find(\"select.ui-datepicker-month, select.ui-datepicker-year\").removeAttr(\"disabled\")}this._disabledInputs=$.map(this._disabledInputs,function(b){return b==a?null:b})}},_disableDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(!!b.hasClass(this.markerClassName)){var d=a.nodeName.toLowerCase();if(d==\"input\")a.disabled=!0,c.trigger.filter(\"button\").each(function(){this.disabled=!0}).end().filter(\"img\").css({opacity:\"0.5\",cursor:\"default\"});else if(d==\"div\"||d==\"span\"){var e=b.children(\".\"+this._inlineClass);e.children().addClass(\"ui-state-disabled\"),e.find(\"select.ui-datepicker-month, select.ui-datepicker-year\").attr(\"disabled\",\"disabled\")}this._disabledInputs=$.map(this._disabledInputs,function(b){return b==a?null:b}),this._disabledInputs[this._disabledInputs.length]=a}},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]==a)return!0;return!1},_getInst:function(a){try{return $.data(a,PROP_NAME)}catch(b){throw\"Missing instance data for this datepicker\"}},_optionDatepicker:function(a,b,c){var d=this._getInst(a);if(arguments.length==2&&typeof b==\"string\")return b==\"defaults\"?$.extend({},$.datepicker._defaults):d?b==\"all\"?$.extend({},d.settings):this._get(d,b):null;var e=b||{};typeof b==\"string\"&&(e={},e[b]=c);if(d){this._curInst==d&&this._hideDatepicker();var f=this._getDateDatepicker(a,!0),g=this._getMinMaxDate(d,\"min\"),h=this._getMinMaxDate(d,\"max\");extendRemove(d.settings,e),g!==null&&e.dateFormat!==undefined&&e.minDate===undefined&&(d.settings.minDate=this._formatDate(d,g)),h!==null&&e.dateFormat!==undefined&&e.maxDate===undefined&&(d.settings.maxDate=this._formatDate(d,h)),this._attachments($(a),d),this._autoSize(d),this._setDate(d,f),this._updateAlternate(d),this._updateDatepicker(d)}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){var b=this._getInst(a);b&&this._updateDatepicker(b)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=this._getInst(a);c&&!c.inline&&this._setDateFromField(c,b);return c?this._getDate(c):null},_doKeyDown:function(a){var b=$.datepicker._getInst(a.target),c=!0,d=b.dpDiv.is(\".ui-datepicker-rtl\");b._keyEvent=!0;if($.datepicker._datepickerShowing)switch(a.keyCode){case 9:$.datepicker._hideDatepicker(),c=!1;break;case 13:var e=$(\"td.\"+$.datepicker._dayOverClass+\":not(.\"+$.datepicker._currentClass+\")\",b.dpDiv);e[0]&&$.datepicker._selectDay(a.target,b.selectedMonth,b.selectedYear,e[0]);var f=$.datepicker._get(b,\"onSelect\");if(f){var g=$.datepicker._formatDate(b);f.apply(b.input?b.input[0]:null,[g,b])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(a.target,a.ctrlKey?-$.datepicker._get(b,\"stepBigMonths\"):-$.datepicker._get(b,\"stepMonths\"),\"M\");break;case 34:$.datepicker._adjustDate(a.target,a.ctrlKey?+$.datepicker._get(b,\"stepBigMonths\"):+$.datepicker._get(b,\"stepMonths\"),\"M\");break;case 35:(a.ctrlKey||a.metaKey)&&$.datepicker._clearDate(a.target),c=a.ctrlKey||a.metaKey;break;case 36:(a.ctrlKey||a.metaKey)&&$.datepicker._gotoToday(a.target),c=a.ctrlKey||a.metaKey;break;case 37:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,d?1:-1,\"D\"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&$.datepicker._adjustDate(a.target,a.ctrlKey?-$.datepicker._get(b,\"stepBigMonths\"):-$.datepicker._get(b,\"stepMonths\"),\"M\");break;case 38:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,-7,\"D\"),c=a.ctrlKey||a.metaKey;break;case 39:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,d?-1:1,\"D\"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&$.datepicker._adjustDate(a.target,a.ctrlKey?+$.datepicker._get(b,\"stepBigMonths\"):+$.datepicker._get(b,\"stepMonths\"),\"M\");break;case 40:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,7,\"D\"),c=a.ctrlKey||a.metaKey;break;default:c=!1}else a.keyCode==36&&a.ctrlKey?$.datepicker._showDatepicker(this):c=!1;c&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var b=$.datepicker._getInst(a.target);if($.datepicker._get(b,\"constrainInput\")){var c=$.datepicker._possibleChars($.datepicker._get(b,\"dateFormat\")),d=String.fromCharCode(a.charCode==undefined?a.keyCode:a.charCode);return a.ctrlKey||a.metaKey||d<\" \"||!c||c.indexOf(d)>-1}},_doKeyUp:function(a){var b=$.datepicker._getInst(a.target);if(b.input.val()!=b.lastVal)try{var c=$.datepicker.parseDate($.datepicker._get(b,\"dateFormat\"),b.input?b.input.val():null,$.datepicker._getFormatConfig(b));c&&($.datepicker._setDateFromField(b),$.datepicker._updateAlternate(b),$.datepicker._updateDatepicker(b))}catch(a){$.datepicker.log(a)}return!0},_showDatepicker:function(a){a=a.target||a,a.nodeName.toLowerCase()!=\"input\"&&(a=$(\"input\",a.parentNode)[0]);if(!$.datepicker._isDisabledDatepicker(a)&&$.datepicker._lastInput!=a){var b=$.datepicker._getInst(a);$.datepicker._curInst&&$.datepicker._curInst!=b&&($.datepicker._curInst.dpDiv.stop(!0,!0),b&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var c=$.datepicker._get(b,\"beforeShow\"),d=c?c.apply(a,[a,b]):{};if(d===!1)return;extendRemove(b.settings,d),b.lastVal=null,$.datepicker._lastInput=a,$.datepicker._setDateFromField(b),$.datepicker._inDialog&&(a.value=\"\"),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(a),$.datepicker._pos[1]+=a.offsetHeight);var e=!1;$(a).parents().each(function(){e|=$(this).css(\"position\")==\"fixed\";return!e}),e&&$.browser.opera&&($.datepicker._pos[0]-=document.documentElement.scrollLeft,$.datepicker._pos[1]-=document.documentElement.scrollTop);var f={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};$.datepicker._pos=null,b.dpDiv.empty(),b.dpDiv.css({position:\"absolute\",display:\"block\",top:\"-1000px\"}),$.datepicker._updateDatepicker(b),f=$.datepicker._checkOffset(b,f,e),b.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?\"static\":e?\"fixed\":\"absolute\",display:\"none\",left:f.left+\"px\",top:f.top+\"px\"});if(!b.inline){var g=$.datepicker._get(b,\"showAnim\"),h=$.datepicker._get(b,\"duration\"),i=function(){var a=b.dpDiv.find(\"iframe.ui-datepicker-cover\");if(!!a.length){var c=$.datepicker._getBorders(b.dpDiv);a.css({left:-c[0],top:-c[1],width:b.dpDiv.outerWidth(),height:b.dpDiv.outerHeight()})}};b.dpDiv.zIndex($(a).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&$.effects[g]?b.dpDiv.show(g,$.datepicker._get(b,\"showOptions\"),h,i):b.dpDiv[g||\"show\"](g?h:null,i),(!g||!h)&&i(),b.input.is(\":visible\")&&!b.input.is(\":disabled\")&&b.input.focus(),$.datepicker._curInst=b}}},_updateDatepicker:function(a){var b=this;b.maxRows=4;var c=$.datepicker._getBorders(a.dpDiv);instActive=a,a.dpDiv.empty().append(this._generateHTML(a));var d=a.dpDiv.find(\"iframe.ui-datepicker-cover\");!d.length||d.css({left:-c[0],top:-c[1],width:a.dpDiv.outerWidth(),height:a.dpDiv.outerHeight()}),a.dpDiv.find(\".\"+this._dayOverClass+\" a\").mouseover();var e=this._getNumberOfMonths(a),f=e[1],g=17;a.dpDiv.removeClass(\"ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4\").width(\"\"),f>1&&a.dpDiv.addClass(\"ui-datepicker-multi-\"+f).css(\"width\",g*f+\"em\"),a.dpDiv[(e[0]!=1||e[1]!=1?\"add\":\"remove\")+\"Class\"](\"ui-datepicker-multi\"),a.dpDiv[(this._get(a,\"isRTL\")?\"add\":\"remove\")+\"Class\"](\"ui-datepicker-rtl\"),a==$.datepicker._curInst&&$.datepicker._datepickerShowing&&a.input&&a.input.is(\":visible\")&&!a.input.is(\":disabled\")&&a.input[0]!=document.activeElement&&a.input.focus();if(a.yearshtml){var h=a.yearshtml;setTimeout(function(){h===a.yearshtml&&a.yearshtml&&a.dpDiv.find(\"select.ui-datepicker-year:first\").replaceWith(a.yearshtml),h=a.yearshtml=null},0)}},_getBorders:function(a){var b=function(a){return{thin:1,medium:2,thick:3}[a]||a};return[parseFloat(b(a.css(\"border-left-width\"))),parseFloat(b(a.css(\"border-top-width\")))]},_checkOffset:function(a,b,c){var d=a.dpDiv.outerWidth(),e=a.dpDiv.outerHeight(),f=a.input?a.input.outerWidth():0,g=a.input?a.input.outerHeight():0,h=document.documentElement.clientWidth+$(document).scrollLeft(),i=document.documentElement.clientHeight+$(document).scrollTop();b.left-=this._get(a,\"isRTL\")?d-f:0,b.left-=c&&b.left==a.input.offset().left?$(document).scrollLeft():0,b.top-=c&&b.top==a.input.offset().top+g?$(document).scrollTop():0,b.left-=Math.min(b.left,b.left+d>h&&h>d?Math.abs(b.left+d-h):0),b.top-=Math.min(b.top,b.top+e>i&&i>e?Math.abs(e+g):0);return b},_findPos:function(a){var b=this._getInst(a),c=this._get(b,\"isRTL\");while(a&&(a.type==\"hidden\"||a.nodeType!=1||$.expr.filters.hidden(a)))a=a[c?\"previousSibling\":\"nextSibling\"];var d=$(a).offset();return[d.left,d.top]},_hideDatepicker:function(a){var b=this._curInst;if(!(!b||a&&b!=$.data(a,PROP_NAME))&&this._datepickerShowing){var c=this._get(b,\"showAnim\"),d=this._get(b,\"duration\"),e=this,f=function(){$.datepicker._tidyDialog(b),e._curInst=null};$.effects&&$.effects[c]?b.dpDiv.hide(c,$.datepicker._get(b,\"showOptions\"),d,f):b.dpDiv[c==\"slideDown\"?\"slideUp\":c==\"fadeIn\"?\"fadeOut\":\"hide\"](c?d:null,f),c||f(),this._datepickerShowing=!1;var g=this._get(b,\"onClose\");g&&g.apply(b.input?b.input[0]:null,[b.input?b.input.val():\"\",b]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:\"absolute\",left:\"0\",top:\"-100px\"}),$.blockUI&&($.unblockUI(),$(\"body\").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(\".ui-datepicker-calendar\")},_checkExternalClick:function(a){if(!!$.datepicker._curInst){var b=$(a.target),c=$.datepicker._getInst(b[0]);(b[0].id!=$.datepicker._mainDivId&&b.parents(\"#\"+$.datepicker._mainDivId).length==0&&!b.hasClass($.datepicker.markerClassName)&&!b.closest(\".\"+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||b.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=c)&&$.datepicker._hideDatepicker()}},_adjustDate:function(a,b,c){var d=$(a),e=this._getInst(d[0]);this._isDisabledDatepicker(d[0])||(this._adjustInstDate(e,b+(c==\"M\"?this._get(e,\"showCurrentAtPos\"):0),c),this._updateDatepicker(e))},_gotoToday:function(a){var b=$(a),c=this._getInst(b[0]);if(this._get(c,\"gotoCurrent\")&&c.currentDay)c.selectedDay=c.currentDay,c.drawMonth=c.selectedMonth=c.currentMonth,c.drawYear=c.selectedYear=c.currentYear;else{var d=new Date;c.selectedDay=d.getDate(),c.drawMonth=c.selectedMonth=d.getMonth(),c.drawYear=c.selectedYear=d.getFullYear()}this._notifyChange(c),this._adjustDate(b)},_selectMonthYear:function(a,b,c){var d=$(a),e=this._getInst(d[0]);e[\"selected\"+(c==\"M\"?\"Month\":\"Year\")]=e[\"draw\"+(c==\"M\"?\"Month\":\"Year\")]=parseInt(b.options[b.selectedIndex].value,10),this._notifyChange(e),this._adjustDate(d)},_selectDay:function(a,b,c,d){var e=$(a);if(!$(d).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(e[0])){var f=this._getInst(e[0]);f.selectedDay=f.currentDay=$(\"a\",d).html(),f.selectedMonth=f.currentMonth=b,f.selectedYear=f.currentYear=c,this._selectDate(a,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear))}},_clearDate:function(a){var b=$(a),c=this._getInst(b[0]);this._selectDate(b,\"\")},_selectDate:function(a,b){var c=$(a),d=this._getInst(c[0]);b=b!=null?b:this._formatDate(d),d.input&&d.input.val(b),this._updateAlternate(d);var e=this._get(d,\"onSelect\");e?e.apply(d.input?d.input[0]:null,[b,d]):d.input&&d.input.trigger(\"change\"),d.inline?this._updateDatepicker(d):(this._hideDatepicker(),this._lastInput=d.input[0],typeof d.input[0]!=\"object\"&&d.input.focus(),this._lastInput=null)},_updateAlternate:function(a){var b=this._get(a,\"altField\");if(b){var c=this._get(a,\"altFormat\")||this._get(a,\"dateFormat\"),d=this._getDate(a),e=this.formatDate(c,d,this._getFormatConfig(a));$(b).each(function(){$(this).val(e)})}},noWeekends:function(a){var b=a.getDay();return[b>0&&b<6,\"\"]},iso8601Week:function(a){var b=new Date(a.getTime());b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();b.setMonth(0),b.setDate(1);return Math.floor(Math.round((c-b)\/864e5)\/7)+1},parseDate:function(a,b,c){if(a==null||b==null)throw\"Invalid arguments\";b=typeof b==\"object\"?b.toString():b+\"\";if(b==\"\")return null;var d=(c?c.shortYearCutoff:null)||this._defaults.shortYearCutoff;d=typeof d!=\"string\"?d:(new Date).getFullYear()%100+parseInt(d,10);var e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,g=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,h=(c?c.monthNames:null)||this._defaults.monthNames,i=-1,j=-1,k=-1,l=-1,m=!1,n=function(b){var c=s+1<a.length&&a.charAt(s+1)==b;c&&s++;return c},o=function(a){var c=n(a),d=a==\"@\"?14:a==\"!\"?20:a==\"y\"&&c?4:a==\"o\"?3:2,e=new RegExp(\"^\\\\d{1,\"+d+\"}\"),f=b.substring(r).match(e);if(!f)throw\"Missing number at position \"+r;r+=f[0].length;return parseInt(f[0],10)},p=function(a,c,d){var e=$.map(n(a)?d:c,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)}),f=-1;$.each(e,function(a,c){var d=c[1];if(b.substr(r,d.length).toLowerCase()==d.toLowerCase()){f=c[0],r+=d.length;return!1}});if(f!=-1)return f+1;throw\"Unknown name at position \"+r},q=function(){if(b.charAt(r)!=a.charAt(s))throw\"Unexpected literal at position \"+r;r++},r=0;for(var s=0;s<a.length;s++)if(m)a.charAt(s)==\"'\"&&!n(\"'\")?m=!1:q();else switch(a.charAt(s)){case\"d\":k=o(\"d\");break;case\"D\":p(\"D\",e,f);break;case\"o\":l=o(\"o\");break;case\"m\":j=o(\"m\");break;case\"M\":j=p(\"M\",g,h);break;case\"y\":i=o(\"y\");break;case\"@\":var t=new Date(o(\"@\"));i=t.getFullYear(),j=t.getMonth()+1,k=t.getDate();break;case\"!\":var t=new Date((o(\"!\")-this._ticksTo1970)\/1e4);i=t.getFullYear(),j=t.getMonth()+1,k=t.getDate();break;case\"'\":n(\"'\")?q():m=!0;break;default:q()}if(r<b.length)throw\"Extra\/unparsed characters found in date: \"+b.substring(r);i==-1?i=(new Date).getFullYear():i<100&&(i+=(new Date).getFullYear()-(new Date).getFullYear()%100+(i<=d?0:-100));if(l>-1){j=1,k=l;for(;;){var u=this._getDaysInMonth(i,j-1);if(k<=u)break;j++,k-=u}}var t=this._daylightSavingAdjust(new Date(i,j-1,k));if(t.getFullYear()!=i||t.getMonth()+1!=j||t.getDate()!=k)throw\"Invalid date\";return t},ATOM:\"yy-mm-dd\",COOKIE:\"D, dd M yy\",ISO_8601:\"yy-mm-dd\",RFC_822:\"D, d M y\",RFC_850:\"DD, dd-M-y\",RFC_1036:\"D, d M y\",RFC_1123:\"D, d M yy\",RFC_2822:\"D, d M yy\",RSS:\"D, d M y\",TICKS:\"!\",TIMESTAMP:\"@\",W3C:\"yy-mm-dd\",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*1e7,formatDate:function(a,b,c){if(!b)return\"\";var d=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,e=(c?c.dayNames:null)||this._defaults.dayNames,f=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,g=(c?c.monthNames:null)||this._defaults.monthNames,h=function(b){var c=m+1<a.length&&a.charAt(m+1)==b;c&&m++;return c},i=function(a,b,c){var d=\"\"+b;if(h(a))while(d.length<c)d=\"0\"+d;return d},j=function(a,b,c,d){return h(a)?d[b]:c[b]},k=\"\",l=!1;if(b)for(var m=0;m<a.length;m++)if(l)a.charAt(m)==\"'\"&&!h(\"'\")?l=!1:k+=a.charAt(m);else switch(a.charAt(m)){case\"d\":k+=i(\"d\",b.getDate(),2);break;case\"D\":k+=j(\"D\",b.getDay(),d,e);break;case\"o\":k+=i(\"o\",Math.round(((new Date(b.getFullYear(),b.getMonth(),b.getDate())).getTime()-(new Date(b.getFullYear(),0,0)).getTime())\/864e5),3);break;case\"m\":k+=i(\"m\",b.getMonth()+1,2);break;case\"M\":k+=j(\"M\",b.getMonth(),f,g);break;case\"y\":k+=h(\"y\")?b.getFullYear():(b.getYear()%100<10?\"0\":\"\")+b.getYear()%100;break;case\"@\":k+=b.getTime();break;case\"!\":k+=b.getTime()*1e4+this._ticksTo1970;break;case\"'\":h(\"'\")?k+=\"'\":l=!0;break;default:k+=a.charAt(m)}return k},_possibleChars:function(a){var b=\"\",c=!1,d=function(b){var c=e+1<a.length&&a.charAt(e+1)==b;c&&e++;return c};for(var e=0;e<a.length;e++)if(c)a.charAt(e)==\"'\"&&!d(\"'\")?c=!1:b+=a.charAt(e);else switch(a.charAt(e)){case\"d\":case\"m\":case\"y\":case\"@\":b+=\"0123456789\";break;case\"D\":case\"M\":return null;case\"'\":d(\"'\")?b+=\"'\":c=!0;break;default:b+=a.charAt(e)}return b},_get:function(a,b){return a.settings[b]!==undefined?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!=a.lastVal){var c=this._get(a,\"dateFormat\"),d=a.lastVal=a.input?a.input.val():null,e,f;e=f=this._getDefaultDate(a);var g=this._getFormatConfig(a);try{e=this.parseDate(c,d,g)||f}catch(h){this.log(h),d=b?\"\":d}a.selectedDay=e.getDate(),a.drawMonth=a.selectedMonth=e.getMonth(),a.drawYear=a.selectedYear=e.getFullYear(),a.currentDay=d?e.getDate():0,a.currentMonth=d?e.getMonth():0,a.currentYear=d?e.getFullYear():0,this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,\"defaultDate\"),new Date))},_determineDate:function(a,b,c){var d=function(a){var b=new Date;b.setDate(b.getDate()+a);return b},e=function(b){try{return $.datepicker.parseDate($.datepicker._get(a,\"dateFormat\"),b,$.datepicker._getFormatConfig(a))}catch(c){}var d=(b.toLowerCase().match(\/^c\/)?$.datepicker._getDate(a):null)||new Date,e=d.getFullYear(),f=d.getMonth(),g=d.getDate(),h=\/([+-]?[0-9]+)\\s*(d|D|w|W|m|M|y|Y)?\/g,i=h.exec(b);while(i){switch(i[2]||\"d\"){case\"d\":case\"D\":g+=parseInt(i[1],10);break;case\"w\":case\"W\":g+=parseInt(i[1],10)*7;break;case\"m\":case\"M\":f+=parseInt(i[1],10),g=Math.min(g,$.datepicker._getDaysInMonth(e,f));break;case\"y\":case\"Y\":e+=parseInt(i[1],10),g=Math.min(g,$.datepicker._getDaysInMonth(e,f))}i=h.exec(b)}return new Date(e,f,g)},f=b==null||b===\"\"?c:typeof b==\"string\"?e(b):typeof b==\"number\"?isNaN(b)?c:d(b):new Date(b.getTime());f=f&&f.toString()==\"Invalid Date\"?c:f,f&&(f.setHours(0),f.setMinutes(0),f.setSeconds(0),f.setMilliseconds(0));return this._daylightSavingAdjust(f)},_daylightSavingAdjust:function(a){if(!a)return null;a.setHours(a.getHours()>12?a.getHours()+2:0);return a},_setDate:function(a,b,c){var d=!b,e=a.selectedMonth,f=a.selectedYear,g=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=g.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=g.getMonth(),a.drawYear=a.selectedYear=a.currentYear=g.getFullYear(),(e!=a.selectedMonth||f!=a.selectedYear)&&!c&&this._notifyChange(a),this._adjustInstDate(a),a.input&&a.input.val(d?\"\":this._formatDate(a))},_getDate:function(a){var b=!a.currentYear||a.input&&a.input.val()==\"\"?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return b},_generateHTML:function(a){var b=new Date;b=this._daylightSavingAdjust(new Date(b.getFullYear(),b.getMonth(),b.getDate()));var c=this._get(a,\"isRTL\"),d=this._get(a,\"showButtonPanel\"),e=this._get(a,\"hideIfNoPrevNext\"),f=this._get(a,\"navigationAsDateFormat\"),g=this._getNumberOfMonths(a),h=this._get(a,\"showCurrentAtPos\"),i=this._get(a,\"stepMonths\"),j=g[0]!=1||g[1]!=1,k=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),l=this._getMinMaxDate(a,\"min\"),m=this._getMinMaxDate(a,\"max\"),n=a.drawMonth-h,o=a.drawYear;n<0&&(n+=12,o--);if(m){var p=this._daylightSavingAdjust(new Date(m.getFullYear(),m.getMonth()-g[0]*g[1]+1,m.getDate()));p=l&&p<l?l:p;while(this._daylightSavingAdjust(new Date(o,n,1))>p)n--,n<0&&(n=11,o--)}a.drawMonth=n,a.drawYear=o;var q=this._get(a,\"prevText\");q=f?this.formatDate(q,this._daylightSavingAdjust(new Date(o,n-i,1)),this._getFormatConfig(a)):q;var r=this._canAdjustMonth(a,-1,o,n)?'<a class=\"ui-datepicker-prev ui-corner-all\" onclick=\"DP_jQuery_'+dpuuid+\".datepicker._adjustDate('#\"+a.id+\"', -\"+i+\", 'M');\\\"\"+' title=\"'+q+'\"><span class=\"ui-icon ui-icon-circle-triangle-'+(c?\"e\":\"w\")+'\">'+q+\"<\/span><\/a>\":e?\"\":'<a class=\"ui-datepicker-prev ui-corner-all ui-state-disabled\" title=\"'+q+'\"><span class=\"ui-icon ui-icon-circle-triangle-'+(c?\"e\":\"w\")+'\">'+q+\"<\/span><\/a>\",s=this._get(a,\"nextText\");s=f?this.formatDate(s,this._daylightSavingAdjust(new Date(o,n+i,1)),this._getFormatConfig(a)):s;var t=this._canAdjustMonth(a,1,o,n)?'<a class=\"ui-datepicker-next ui-corner-all\" onclick=\"DP_jQuery_'+dpuuid+\".datepicker._adjustDate('#\"+a.id+\"', +\"+i+\", 'M');\\\"\"+' title=\"'+s+'\"><span class=\"ui-icon ui-icon-circle-triangle-'+(c?\"w\":\"e\")+'\">'+s+\"<\/span><\/a>\":e?\"\":'<a class=\"ui-datepicker-next ui-corner-all ui-state-disabled\" title=\"'+s+'\"><span class=\"ui-icon ui-icon-circle-triangle-'+(c?\"w\":\"e\")+'\">'+s+\"<\/span><\/a>\",u=this._get(a,\"currentText\"),v=this._get(a,\"gotoCurrent\")&&a.currentDay?k:b;u=f?this.formatDate(u,v,this._getFormatConfig(a)):u;var w=a.inline?\"\":'<button type=\"button\" class=\"ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all\" onclick=\"DP_jQuery_'+dpuuid+'.datepicker._hideDatepicker();\">'+this._get(a,\"closeText\")+\"<\/button>\",x=d?'<div class=\"ui-datepicker-buttonpane ui-widget-content\">'+(c?w:\"\")+(this._isInRange(a,v)?'<button type=\"button\" class=\"ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all\" onclick=\"DP_jQuery_'+dpuuid+\".datepicker._gotoToday('#\"+a.id+\"');\\\"\"+\">\"+u+\"<\/button>\":\"\")+(c?\"\":w)+\"<\/div>\":\"\",y=parseInt(this._get(a,\"firstDay\"),10);y=isNaN(y)?0:y;var z=this._get(a,\"showWeek\"),A=this._get(a,\"dayNames\"),B=this._get(a,\"dayNamesShort\"),C=this._get(a,\"dayNamesMin\"),D=this._get(a,\"monthNames\"),E=this._get(a,\"monthNamesShort\"),F=this._get(a,\"beforeShowDay\"),G=this._get(a,\"showOtherMonths\"),H=this._get(a,\"selectOtherMonths\"),I=this._get(a,\"calculateWeek\")||this.iso8601Week,J=this._getDefaultDate(a),K=\"\";for(var L=0;L<g[0];L++){var M=\"\";this.maxRows=4;for(var N=0;N<g[1];N++){var O=this._daylightSavingAdjust(new Date(o,n,a.selectedDay)),P=\" ui-corner-all\",Q=\"\";if(j){Q+='<div class=\"ui-datepicker-group';if(g[1]>1)switch(N){case 0:Q+=\" ui-datepicker-group-first\",P=\" ui-corner-\"+(c?\"right\":\"left\");break;case g[1]-1:Q+=\" ui-datepicker-group-last\",P=\" ui-corner-\"+(c?\"left\":\"right\");break;default:Q+=\" ui-datepicker-group-middle\",P=\"\"}Q+='\">'}Q+='<div class=\"ui-datepicker-header ui-widget-header ui-helper-clearfix'+P+'\">'+(\/all|left\/.test(P)&&L==0?c?t:r:\"\")+(\/all|right\/.test(P)&&L==0?c?r:t:\"\")+this._generateMonthYearHeader(a,n,o,l,m,L>0||N>0,D,E)+'<\/div><table class=\"ui-datepicker-calendar\"><thead>'+\"<tr>\";var R=z?'<th class=\"ui-datepicker-week-col\">'+this._get(a,\"weekHeader\")+\"<\/th>\":\"\";for(var S=0;S<7;S++){var T=(S+y)%7;R+=\"<th\"+((S+y+6)%7>=5?' class=\"ui-datepicker-week-end\"':\"\")+\">\"+'<span title=\"'+A[T]+'\">'+C[T]+\"<\/span><\/th>\"}Q+=R+\"<\/tr><\/thead><tbody>\";var U=this._getDaysInMonth(o,n);o==a.selectedYear&&n==a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,U));var V=(this._getFirstDayOfMonth(o,n)-y+7)%7,W=Math.ceil((V+U)\/7),X=j?this.maxRows>W?this.maxRows:W:W;this.maxRows=X;var Y=this._daylightSavingAdjust(new Date(o,n,1-V));for(var Z=0;Z<X;Z++){Q+=\"<tr>\";var _=z?'<td class=\"ui-datepicker-week-col\">'+this._get(a,\"calculateWeek\")(Y)+\"<\/td>\":\"\";for(var S=0;S<7;S++){var ba=F?F.apply(a.input?a.input[0]:null,[Y]):[!0,\"\"],bb=Y.getMonth()!=n,bc=bb&&!H||!ba[0]||l&&Y<l||m&&Y>m;_+='<td class=\"'+((S+y+6)%7>=5?\" ui-datepicker-week-end\":\"\")+(bb?\" ui-datepicker-other-month\":\"\")+(Y.getTime()==O.getTime()&&n==a.selectedMonth&&a._keyEvent||J.getTime()==Y.getTime()&&J.getTime()==O.getTime()?\" \"+this._dayOverClass:\"\")+(bc?\" \"+this._unselectableClass+\" ui-state-disabled\":\"\")+(bb&&!G?\"\":\" \"+ba[1]+(Y.getTime()==k.getTime()?\" \"+this._currentClass:\"\")+(Y.getTime()==b.getTime()?\" ui-datepicker-today\":\"\"))+'\"'+((!bb||G)&&ba[2]?' title=\"'+ba[2]+'\"':\"\")+(bc?\"\":' onclick=\"DP_jQuery_'+dpuuid+\".datepicker._selectDay('#\"+a.id+\"',\"+Y.getMonth()+\",\"+Y.getFullYear()+', this);return false;\"')+\">\"+(bb&&!G?\"&#xa0;\":bc?'<span class=\"ui-state-default\">'+Y.getDate()+\"<\/span>\":'<a class=\"ui-state-default'+(Y.getTime()==b.getTime()?\" ui-state-highlight\":\"\")+(Y.getTime()==k.getTime()?\" ui-state-active\":\"\")+(bb?\" ui-priority-secondary\":\"\")+'\" href=\"#\">'+Y.getDate()+\"<\/a>\")+\"<\/td>\",Y.setDate(Y.getDate()+1),Y=this._daylightSavingAdjust(Y)}Q+=_+\"<\/tr>\"}n++,n>11&&(n=0,o++),Q+=\"<\/tbody><\/table>\"+(j?\"<\/div>\"+(g[0]>0&&N==g[1]-1?'<div class=\"ui-datepicker-row-break\"><\/div>':\"\"):\"\"),M+=Q}K+=M}K+=x+($.browser.msie&&parseInt($.browser.version,10)<7&&!a.inline?'<iframe src=\"javascript:false;\" class=\"ui-datepicker-cover\" frameborder=\"0\"><\/iframe>':\"\"),a._keyEvent=!1;return K},_generateMonthYearHeader:function(a,b,c,d,e,f,g,h){var i=this._get(a,\"changeMonth\"),j=this._get(a,\"changeYear\"),k=this._get(a,\"showMonthAfterYear\"),l='<div class=\"ui-datepicker-title\">',m=\"\";if(f||!i)m+='<span class=\"ui-datepicker-month\">'+g[b]+\"<\/span>\";else{var n=d&&d.getFullYear()==c,o=e&&e.getFullYear()==c;m+='<select class=\"ui-datepicker-month\" onchange=\"DP_jQuery_'+dpuuid+\".datepicker._selectMonthYear('#\"+a.id+\"', this, 'M');\\\" \"+\">\";for(var p=0;p<12;p++)(!n||p>=d.getMonth())&&(!o||p<=e.getMonth())&&(m+='<option value=\"'+p+'\"'+(p==b?' selected=\"selected\"':\"\")+\">\"+h[p]+\"<\/option>\");m+=\"<\/select>\"}k||(l+=m+(f||!i||!j?\"&#xa0;\":\"\"));if(!a.yearshtml){a.yearshtml=\"\";if(f||!j)l+='<span class=\"ui-datepicker-year\">'+c+\"<\/span>\";else{var q=this._get(a,\"yearRange\").split(\":\"),r=(new Date).getFullYear(),s=function(a){var b=a.match(\/c[+-].*\/)?c+parseInt(a.substring(1),10):a.match(\/[+-].*\/)?r+parseInt(a,10):parseInt(a,10);return isNaN(b)?r:b},t=s(q[0]),u=Math.max(t,s(q[1]||\"\"));t=d?Math.max(t,d.getFullYear()):t,u=e?Math.min(u,e.getFullYear()):u,a.yearshtml+='<select class=\"ui-datepicker-year\" onchange=\"DP_jQuery_'+dpuuid+\".datepicker._selectMonthYear('#\"+a.id+\"', this, 'Y');\\\" \"+\">\";for(;t<=u;t++)a.yearshtml+='<option value=\"'+t+'\"'+(t==c?' selected=\"selected\"':\"\")+\">\"+t+\"<\/option>\";a.yearshtml+=\"<\/select>\",l+=a.yearshtml,a.yearshtml=null}}l+=this._get(a,\"yearSuffix\"),k&&(l+=(f||!i||!j?\"&#xa0;\":\"\")+m),l+=\"<\/div>\";return l},_adjustInstDate:function(a,b,c){var d=a.drawYear+(c==\"Y\"?b:0),e=a.drawMonth+(c==\"M\"?b:0),f=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+(c==\"D\"?b:0),g=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,f)));a.selectedDay=g.getDate(),a.drawMonth=a.selectedMonth=g.getMonth(),a.drawYear=a.selectedYear=g.getFullYear(),(c==\"M\"||c==\"Y\")&&this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,\"min\"),d=this._getMinMaxDate(a,\"max\"),e=c&&b<c?c:b;e=d&&e>d?d:e;return e},_notifyChange:function(a){var b=this._get(a,\"onChangeMonthYear\");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var b=this._get(a,\"numberOfMonths\");return b==null?[1,1]:typeof b==\"number\"?[1,b]:b},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+\"Date\"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a),f=this._daylightSavingAdjust(new Date(c,d+(b<0?b:e[0]*e[1]),1));b<0&&f.setDate(this._getDaysInMonth(f.getFullYear(),f.getMonth()));return this._isInRange(a,f)},_isInRange:function(a,b){var c=this._getMinMaxDate(a,\"min\"),d=this._getMinMaxDate(a,\"max\");return(!c||b.getTime()>=c.getTime())&&(!d||b.getTime()<=d.getTime())},_getFormatConfig:function(a){var b=this._get(a,\"shortYearCutoff\");b=typeof b!=\"string\"?b:(new Date).getFullYear()%100+parseInt(b,10);return{shortYearCutoff:b,dayNamesShort:this._get(a,\"dayNamesShort\"),dayNames:this._get(a,\"dayNames\"),monthNamesShort:this._get(a,\"monthNamesShort\"),monthNames:this._get(a,\"monthNames\")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);var e=b?typeof b==\"object\"?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,\"dateFormat\"),e,this._getFormatConfig(a))}}),$.fn.datepicker=function(a){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find(\"body\").append($.datepicker.dpDiv),$.datepicker.initialized=!0);var b=Array.prototype.slice.call(arguments,1);if(typeof a==\"string\"&&(a==\"isDisabled\"||a==\"getDate\"||a==\"widget\"\n))return $.datepicker[\"_\"+a+\"Datepicker\"].apply($.datepicker,[this[0]].concat(b));if(a==\"option\"&&arguments.length==2&&typeof arguments[1]==\"string\")return $.datepicker[\"_\"+a+\"Datepicker\"].apply($.datepicker,[this[0]].concat(b));return this.each(function(){typeof a==\"string\"?$.datepicker[\"_\"+a+\"Datepicker\"].apply($.datepicker,[this].concat(b)):$.datepicker._attachDatepicker(this,a)})},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version=\"1.8.18\",window[\"DP_jQuery_\"+dpuuid]=$}(jQuery),function(a,b){var c=\"ui-dialog ui-widget ui-widget-content ui-corner-all \",d={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},e={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},f=a.attrFn||{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0,click:!0};a.widget(\"ui.dialog\",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:\"close\",dialogClass:\"\",draggable:!0,hide:null,height:\"auto\",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:\"center\",at:\"center\",collision:\"fit\",using:function(b){var c=a(this).css(b).offset().top;c<0&&a(this).css(\"top\",b.top-c)}},resizable:!0,show:null,stack:!0,title:\"\",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr(\"title\"),typeof this.originalTitle!=\"string\"&&(this.originalTitle=\"\"),this.options.title=this.options.title||this.originalTitle;var b=this,d=b.options,e=d.title||\"&#160;\",f=a.ui.dialog.getTitleId(b.element),g=(b.uiDialog=a(\"<div><\/div>\")).appendTo(document.body).hide().addClass(c+d.dialogClass).css({zIndex:d.zIndex}).attr(\"tabIndex\",-1).css(\"outline\",0).keydown(function(c){d.closeOnEscape&&!c.isDefaultPrevented()&&c.keyCode&&c.keyCode===a.ui.keyCode.ESCAPE&&(b.close(c),c.preventDefault())}).attr({role:\"dialog\",\"aria-labelledby\":f}).mousedown(function(a){b.moveToTop(!1,a)}),h=b.element.show().removeAttr(\"title\").addClass(\"ui-dialog-content ui-widget-content\").appendTo(g),i=(b.uiDialogTitlebar=a(\"<div><\/div>\")).addClass(\"ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix\").prependTo(g),j=a('<a href=\"#\"><\/a>').addClass(\"ui-dialog-titlebar-close ui-corner-all\").attr(\"role\",\"button\").hover(function(){j.addClass(\"ui-state-hover\")},function(){j.removeClass(\"ui-state-hover\")}).focus(function(){j.addClass(\"ui-state-focus\")}).blur(function(){j.removeClass(\"ui-state-focus\")}).click(function(a){b.close(a);return!1}).appendTo(i),k=(b.uiDialogTitlebarCloseText=a(\"<span><\/span>\")).addClass(\"ui-icon ui-icon-closethick\").text(d.closeText).appendTo(j),l=a(\"<span><\/span>\").addClass(\"ui-dialog-title\").attr(\"id\",f).html(e).prependTo(i);a.isFunction(d.beforeclose)&&!a.isFunction(d.beforeClose)&&(d.beforeClose=d.beforeclose),i.find(\"*\").add(i).disableSelection(),d.draggable&&a.fn.draggable&&b._makeDraggable(),d.resizable&&a.fn.resizable&&b._makeResizable(),b._createButtons(d.buttons),b._isOpen=!1,a.fn.bgiframe&&g.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var a=this;a.overlay&&a.overlay.destroy(),a.uiDialog.hide(),a.element.unbind(\".dialog\").removeData(\"dialog\").removeClass(\"ui-dialog-content ui-widget-content\").hide().appendTo(\"body\"),a.uiDialog.remove(),a.originalTitle&&a.element.attr(\"title\",a.originalTitle);return a},widget:function(){return this.uiDialog},close:function(b){var c=this,d,e;if(!1!==c._trigger(\"beforeClose\",b)){c.overlay&&c.overlay.destroy(),c.uiDialog.unbind(\"keypress.ui-dialog\"),c._isOpen=!1,c.options.hide?c.uiDialog.hide(c.options.hide,function(){c._trigger(\"close\",b)}):(c.uiDialog.hide(),c._trigger(\"close\",b)),a.ui.dialog.overlay.resize(),c.options.modal&&(d=0,a(\".ui-dialog\").each(function(){this!==c.uiDialog[0]&&(e=a(this).css(\"z-index\"),isNaN(e)||(d=Math.max(d,e)))}),a.ui.dialog.maxZ=d);return c}},isOpen:function(){return this._isOpen},moveToTop:function(b,c){var d=this,e=d.options,f;if(e.modal&&!b||!e.stack&&!e.modal)return d._trigger(\"focus\",c);e.zIndex>a.ui.dialog.maxZ&&(a.ui.dialog.maxZ=e.zIndex),d.overlay&&(a.ui.dialog.maxZ+=1,d.overlay.$el.css(\"z-index\",a.ui.dialog.overlay.maxZ=a.ui.dialog.maxZ)),f={scrollTop:d.element.scrollTop(),scrollLeft:d.element.scrollLeft()},a.ui.dialog.maxZ+=1,d.uiDialog.css(\"z-index\",a.ui.dialog.maxZ),d.element.attr(f),d._trigger(\"focus\",c);return d},open:function(){if(!this._isOpen){var b=this,c=b.options,d=b.uiDialog;b.overlay=c.modal?new a.ui.dialog.overlay(b):null,b._size(),b._position(c.position),d.show(c.show),b.moveToTop(!0),c.modal&&d.bind(\"keydown.ui-dialog\",function(b){if(b.keyCode===a.ui.keyCode.TAB){var c=a(\":tabbable\",this),d=c.filter(\":first\"),e=c.filter(\":last\");if(b.target===e[0]&&!b.shiftKey){d.focus(1);return!1}if(b.target===d[0]&&b.shiftKey){e.focus(1);return!1}}}),a(b.element.find(\":tabbable\").get().concat(d.find(\".ui-dialog-buttonpane :tabbable\").get().concat(d.get()))).eq(0).focus(),b._isOpen=!0,b._trigger(\"open\");return b}},_createButtons:function(b){var c=this,d=!1,e=a(\"<div><\/div>\").addClass(\"ui-dialog-buttonpane ui-widget-content ui-helper-clearfix\"),g=a(\"<div><\/div>\").addClass(\"ui-dialog-buttonset\").appendTo(e);c.uiDialog.find(\".ui-dialog-buttonpane\").remove(),typeof b==\"object\"&&b!==null&&a.each(b,function(){return!(d=!0)}),d&&(a.each(b,function(b,d){d=a.isFunction(d)?{click:d,text:b}:d;var e=a('<button type=\"button\"><\/button>').click(function(){d.click.apply(c.element[0],arguments)}).appendTo(g);a.each(d,function(a,b){a!==\"click\"&&(a in f?e[a](b):e.attr(a,b))}),a.fn.button&&e.button()}),e.appendTo(c.uiDialog))},_makeDraggable:function(){function f(a){return{position:a.position,offset:a.offset}}var b=this,c=b.options,d=a(document),e;b.uiDialog.draggable({cancel:\".ui-dialog-content, .ui-dialog-titlebar-close\",handle:\".ui-dialog-titlebar\",containment:\"document\",start:function(d,g){e=c.height===\"auto\"?\"auto\":a(this).height(),a(this).height(a(this).height()).addClass(\"ui-dialog-dragging\"),b._trigger(\"dragStart\",d,f(g))},drag:function(a,c){b._trigger(\"drag\",a,f(c))},stop:function(g,h){c.position=[h.position.left-d.scrollLeft(),h.position.top-d.scrollTop()],a(this).removeClass(\"ui-dialog-dragging\").height(e),b._trigger(\"dragStop\",g,f(h)),a.ui.dialog.overlay.resize()}})},_makeResizable:function(c){function h(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}c=c===b?this.options.resizable:c;var d=this,e=d.options,f=d.uiDialog.css(\"position\"),g=typeof c==\"string\"?c:\"n,e,s,w,se,sw,ne,nw\";d.uiDialog.resizable({cancel:\".ui-dialog-content\",containment:\"document\",alsoResize:d.element,maxWidth:e.maxWidth,maxHeight:e.maxHeight,minWidth:e.minWidth,minHeight:d._minHeight(),handles:g,start:function(b,c){a(this).addClass(\"ui-dialog-resizing\"),d._trigger(\"resizeStart\",b,h(c))},resize:function(a,b){d._trigger(\"resize\",a,h(b))},stop:function(b,c){a(this).removeClass(\"ui-dialog-resizing\"),e.height=a(this).height(),e.width=a(this).width(),d._trigger(\"resizeStop\",b,h(c)),a.ui.dialog.overlay.resize()}}).css(\"position\",f).find(\".ui-resizable-se\").addClass(\"ui-icon ui-icon-grip-diagonal-se\")},_minHeight:function(){var a=this.options;return a.height===\"auto\"?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(b){var c=[],d=[0,0],e;if(b){if(typeof b==\"string\"||typeof b==\"object\"&&\"0\"in b)c=b.split?b.split(\" \"):[b[0],b[1]],c.length===1&&(c[1]=c[0]),a.each([\"left\",\"top\"],function(a,b){+c[a]===c[a]&&(d[a]=c[a],c[a]=b)}),b={my:c.join(\" \"),at:c.join(\" \"),offset:d.join(\" \")};b=a.extend({},a.ui.dialog.prototype.options.position,b)}else b=a.ui.dialog.prototype.options.position;e=this.uiDialog.is(\":visible\"),e||this.uiDialog.show(),this.uiDialog.css({top:0,left:0}).position(a.extend({of:window},b)),e||this.uiDialog.hide()},_setOptions:function(b){var c=this,f={},g=!1;a.each(b,function(a,b){c._setOption(a,b),a in d&&(g=!0),a in e&&(f[a]=b)}),g&&this._size(),this.uiDialog.is(\":data(resizable)\")&&this.uiDialog.resizable(\"option\",f)},_setOption:function(b,d){var e=this,f=e.uiDialog;switch(b){case\"beforeclose\":b=\"beforeClose\";break;case\"buttons\":e._createButtons(d);break;case\"closeText\":e.uiDialogTitlebarCloseText.text(\"\"+d);break;case\"dialogClass\":f.removeClass(e.options.dialogClass).addClass(c+d);break;case\"disabled\":d?f.addClass(\"ui-dialog-disabled\"):f.removeClass(\"ui-dialog-disabled\");break;case\"draggable\":var g=f.is(\":data(draggable)\");g&&!d&&f.draggable(\"destroy\"),!g&&d&&e._makeDraggable();break;case\"position\":e._position(d);break;case\"resizable\":var h=f.is(\":data(resizable)\");h&&!d&&f.resizable(\"destroy\"),h&&typeof d==\"string\"&&f.resizable(\"option\",\"handles\",d),!h&&d!==!1&&e._makeResizable(d);break;case\"title\":a(\".ui-dialog-title\",e.uiDialogTitlebar).html(\"\"+(d||\"&#160;\"))}a.Widget.prototype._setOption.apply(e,arguments)},_size:function(){var b=this.options,c,d,e=this.uiDialog.is(\":visible\");this.element.show().css({width:\"auto\",minHeight:0,height:0}),b.minWidth>b.width&&(b.width=b.minWidth),c=this.uiDialog.css({height:\"auto\",width:b.width}).height(),d=Math.max(0,b.minHeight-c);if(b.height===\"auto\")if(a.support.minHeight)this.element.css({minHeight:d,height:\"auto\"});else{this.uiDialog.show();var f=this.element.css(\"height\",\"auto\").height();e||this.uiDialog.hide(),this.element.height(Math.max(f,d))}else this.element.height(Math.max(b.height-c,0));this.uiDialog.is(\":data(resizable)\")&&this.uiDialog.resizable(\"option\",\"minHeight\",this._minHeight())}}),a.extend(a.ui.dialog,{version:\"1.8.18\",uuid:0,maxZ:0,getTitleId:function(a){var b=a.attr(\"id\");b||(this.uuid+=1,b=this.uuid);return\"ui-dialog-title-\"+b},overlay:function(b){this.$el=a.ui.dialog.overlay.create(b)}}),a.extend(a.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:a.map(\"focus,mousedown,mouseup,keydown,keypress,click\".split(\",\"),function(a){return a+\".dialog-overlay\"}).join(\" \"),create:function(b){this.instances.length===0&&(setTimeout(function(){a.ui.dialog.overlay.instances.length&&a(document).bind(a.ui.dialog.overlay.events,function(b){if(a(b.target).zIndex()<a.ui.dialog.overlay.maxZ)return!1})},1),a(document).bind(\"keydown.dialog-overlay\",function(c){b.options.closeOnEscape&&!c.isDefaultPrevented()&&c.keyCode&&c.keyCode===a.ui.keyCode.ESCAPE&&(b.close(c),c.preventDefault())}),a(window).bind(\"resize.dialog-overlay\",a.ui.dialog.overlay.resize));var c=(this.oldInstances.pop()||a(\"<div><\/div>\").addClass(\"ui-widget-overlay\")).appendTo(document.body).css({width:this.width(),height:this.height()});a.fn.bgiframe&&c.bgiframe(),this.instances.push(c);return c},destroy:function(b){var c=a.inArray(b,this.instances);c!=-1&&this.oldInstances.push(this.instances.splice(c,1)[0]),this.instances.length===0&&a([document,window]).unbind(\".dialog-overlay\"),b.remove();var d=0;a.each(this.instances,function(){d=Math.max(d,this.css(\"z-index\"))}),this.maxZ=d},height:function(){var b,c;if(a.browser.msie&&a.browser.version<7){b=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),c=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);return b<c?a(window).height()+\"px\":b+\"px\"}return a(document).height()+\"px\"},width:function(){var b,c;if(a.browser.msie){b=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),c=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);return b<c?a(window).width()+\"px\":b+\"px\"}return a(document).width()+\"px\"},resize:function(){var b=a([]);a.each(a.ui.dialog.overlay.instances,function(){b=b.add(this)}),b.css({width:0,height:0}).css({width:a.ui.dialog.overlay.width(),height:a.ui.dialog.overlay.height()})}}),a.extend(a.ui.dialog.overlay.prototype,{destroy:function(){a.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function(a,b){a.ui=a.ui||{};var c=\/left|center|right\/,d=\/top|center|bottom\/,e=\"center\",f={},g=a.fn.position,h=a.fn.offset;a.fn.position=function(b){if(!b||!b.of)return g.apply(this,arguments);b=a.extend({},b);var h=a(b.of),i=h[0],j=(b.collision||\"flip\").split(\" \"),k=b.offset?b.offset.split(\" \"):[0,0],l,m,n;i.nodeType===9?(l=h.width(),m=h.height(),n={top:0,left:0}):i.setTimeout?(l=h.width(),m=h.height(),n={top:h.scrollTop(),left:h.scrollLeft()}):i.preventDefault?(b.at=\"left top\",l=m=0,n={top:b.of.pageY,left:b.of.pageX}):(l=h.outerWidth(),m=h.outerHeight(),n=h.offset()),a.each([\"my\",\"at\"],function(){var a=(b[this]||\"\").split(\" \");a.length===1&&(a=c.test(a[0])?a.concat([e]):d.test(a[0])?[e].concat(a):[e,e]),a[0]=c.test(a[0])?a[0]:e,a[1]=d.test(a[1])?a[1]:e,b[this]=a}),j.length===1&&(j[1]=j[0]),k[0]=parseInt(k[0],10)||0,k.length===1&&(k[1]=k[0]),k[1]=parseInt(k[1],10)||0,b.at[0]===\"right\"?n.left+=l:b.at[0]===e&&(n.left+=l\/2),b.at[1]===\"bottom\"?n.top+=m:b.at[1]===e&&(n.top+=m\/2),n.left+=k[0],n.top+=k[1];return this.each(function(){var c=a(this),d=c.outerWidth(),g=c.outerHeight(),h=parseInt(a.curCSS(this,\"marginLeft\",!0))||0,i=parseInt(a.curCSS(this,\"marginTop\",!0))||0,o=d+h+(parseInt(a.curCSS(this,\"marginRight\",!0))||0),p=g+i+(parseInt(a.curCSS(this,\"marginBottom\",!0))||0),q=a.extend({},n),r;b.my[0]===\"right\"?q.left-=d:b.my[0]===e&&(q.left-=d\/2),b.my[1]===\"bottom\"?q.top-=g:b.my[1]===e&&(q.top-=g\/2),f.fractions||(q.left=Math.round(q.left),q.top=Math.round(q.top)),r={left:q.left-h,top:q.top-i},a.each([\"left\",\"top\"],function(c,e){a.ui.position[j[c]]&&a.ui.position[j[c]][e](q,{targetWidth:l,targetHeight:m,elemWidth:d,elemHeight:g,collisionPosition:r,collisionWidth:o,collisionHeight:p,offset:k,my:b.my,at:b.at})}),a.fn.bgiframe&&c.bgiframe(),c.offset(a.extend(q,{using:b.using}))})},a.ui.position={fit:{left:function(b,c){var d=a(window),e=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft();b.left=e>0?b.left-e:Math.max(b.left-c.collisionPosition.left,b.left)},top:function(b,c){var d=a(window),e=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop();b.top=e>0?b.top-e:Math.max(b.top-c.collisionPosition.top,b.top)}},flip:{left:function(b,c){if(c.at[0]!==e){var d=a(window),f=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft(),g=c.my[0]===\"left\"?-c.elemWidth:c.my[0]===\"right\"?c.elemWidth:0,h=c.at[0]===\"left\"?c.targetWidth:-c.targetWidth,i=-2*c.offset[0];b.left+=c.collisionPosition.left<0?g+h+i:f>0?g+h+i:0}},top:function(b,c){if(c.at[1]!==e){var d=a(window),f=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop(),g=c.my[1]===\"top\"?-c.elemHeight:c.my[1]===\"bottom\"?c.elemHeight:0,h=c.at[1]===\"top\"?c.targetHeight:-c.targetHeight,i=-2*c.offset[1];b.top+=c.collisionPosition.top<0?g+h+i:f>0?g+h+i:0}}}},a.offset.setOffset||(a.offset.setOffset=function(b,c){\/static\/.test(a.curCSS(b,\"position\"))&&(b.style.position=\"relative\");var d=a(b),e=d.offset(),f=parseInt(a.curCSS(b,\"top\",!0),10)||0,g=parseInt(a.curCSS(b,\"left\",!0),10)||0,h={top:c.top-e.top+f,left:c.left-e.left+g};\"using\"in c?c.using.call(b,h):d.css(h)},a.fn.offset=function(b){var c=this[0];if(!c||!c.ownerDocument)return null;if(b)return this.each(function(){a.offset.setOffset(this,b)});return h.call(this)}),function(){var b=document.getElementsByTagName(\"body\")[0],c=document.createElement(\"div\"),d,e,g,h,i;d=document.createElement(b?\"div\":\"body\"),g={visibility:\"hidden\",width:0,height:0,border:0,margin:0,background:\"none\"},b&&a.extend(g,{position:\"absolute\",left:\"-1000px\",top:\"-1000px\"});for(var j in g)d.style[j]=g[j];d.appendChild(c),e=b||document.documentElement,e.insertBefore(d,e.firstChild),c.style.cssText=\"position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;\",h=a(c).offset(function(a,b){return b}).offset(),d.innerHTML=\"\",e.removeChild(d),i=h.top+h.left+(b?2e3:0),f.fractions=i>21&&i<22}()}(jQuery),function(a,b){a.widget(\"ui.progressbar\",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass(\"ui-progressbar ui-widget ui-widget-content ui-corner-all\").attr({role:\"progressbar\",\"aria-valuemin\":this.min,\"aria-valuemax\":this.options.max,\"aria-valuenow\":this._value()}),this.valueDiv=a(\"<div class='ui-progressbar-value ui-widget-header ui-corner-left'><\/div>\").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},destroy:function(){this.element.removeClass(\"ui-progressbar ui-widget ui-widget-content ui-corner-all\").removeAttr(\"role\").removeAttr(\"aria-valuemin\").removeAttr(\"aria-valuemax\").removeAttr(\"aria-valuenow\"),this.valueDiv.remove(),a.Widget.prototype.destroy.apply(this,arguments)},value:function(a){if(a===b)return this._value();this._setOption(\"value\",a);return this},_setOption:function(b,c){b===\"value\"&&(this.options.value=c,this._refreshValue(),this._value()===this.options.max&&this._trigger(\"complete\")),a.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var a=this.options.value;typeof a!=\"number\"&&(a=0);return Math.min(this.options.max,Math.max(this.min,a))},_percentage:function(){return 100*this._value()\/this.options.max},_refreshValue:function(){var a=this.value(),b=this._percentage();this.oldValue!==a&&(this.oldValue=a,this._trigger(\"change\")),this.valueDiv.toggle(a>this.min).toggleClass(\"ui-corner-right\",a===this.options.max).width(b.toFixed(0)+\"%\"),this.element.attr(\"aria-valuenow\",a)}}),a.extend(a.ui.progressbar,{version:\"1.8.18\"})}(jQuery),function(a,b){var c=5;a.widget(\"ui.slider\",a.ui.mouse,{widgetEventPrefix:\"slide\",options:{animate:!1,distance:0,max:100,min:0,orientation:\"horizontal\",range:!1,step:1,value:0,values:null},_create:function(){var b=this,d=this.options,e=this.element.find(\".ui-slider-handle\").addClass(\"ui-state-default ui-corner-all\"),f=\"<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'><\/a>\",g=d.values&&d.values.length||1,h=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass(\"ui-slider ui-slider-\"+this.orientation+\" ui-widget\"+\" ui-widget-content\"+\" ui-corner-all\"+(d.disabled?\" ui-slider-disabled ui-disabled\":\"\")),this.range=a([]),d.range&&(d.range===!0&&(d.values||(d.values=[this._valueMin(),this._valueMin()]),d.values.length&&d.values.length!==2&&(d.values=[d.values[0],d.values[0]])),this.range=a(\"<div><\/div>\").appendTo(this.element).addClass(\"ui-slider-range ui-widget-header\"+(d.range===\"min\"||d.range===\"max\"?\" ui-slider-range-\"+d.range:\"\")));for(var i=e.length;i<g;i+=1)h.push(f);this.handles=e.add(a(h.join(\"\")).appendTo(b.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter(\"a\").click(function(a){a.preventDefault()}).hover(function(){d.disabled||a(this).addClass(\"ui-state-hover\")},function(){a(this).removeClass(\"ui-state-hover\")}).focus(function(){d.disabled?a(this).blur():(a(\".ui-slider .ui-state-focus\").removeClass(\"ui-state-focus\"),a(this).addClass(\"ui-state-focus\"))}).blur(function(){a(this).removeClass(\"ui-state-focus\")}),this.handles.each(function(b){a(this).data(\"index.ui-slider-handle\",b)}),this.handles.keydown(function(d){var e=a(this).data(\"index.ui-slider-handle\"),f,g,h,i;if(!b.options.disabled){switch(d.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:d.preventDefault();if(!b._keySliding){b._keySliding=!0,a(this).addClass(\"ui-state-active\"),f=b._start(d,e);if(f===!1)return}}i=b.options.step,b.options.values&&b.options.values.length?g=h=b.values(e):g=h=b.value();switch(d.keyCode){case a.ui.keyCode.HOME:h=b._valueMin();break;case a.ui.keyCode.END:h=b._valueMax();break;case a.ui.keyCode.PAGE_UP:h=b._trimAlignValue(g+(b._valueMax()-b._valueMin())\/c);break;case a.ui.keyCode.PAGE_DOWN:h=b._trimAlignValue(g-(b._valueMax()-b._valueMin())\/c);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(g===b._valueMax())return;h=b._trimAlignValue(g+i);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(g===b._valueMin())return;h=b._trimAlignValue(g-i)}b._slide(d,e,h)}}).keyup(function(c){var d=a(this).data(\"index.ui-slider-handle\");b._keySliding&&(b._keySliding=!1,b._stop(c,d),b._change(c,d),a(this).removeClass(\"ui-state-active\"))}),this._refreshValue(),this._animateOff=!1},destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass(\"ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all\").removeData(\"slider\").unbind(\".slider\"),this._mouseDestroy();return this},_mouseCapture:function(b){var c=this.options,d,e,f,g,h,i,j,k,l;if(c.disabled)return!1;this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),d={x:b.pageX,y:b.pageY},e=this._normValueFromMouse(d),f=this._valueMax()-this._valueMin()+1,h=this,this.handles.each(function(b){var c=Math.abs(e-h.values(b));f>c&&(f=c,g=a(this),i=b)}),c.range===!0&&this.values(1)===c.min&&(i+=1,g=a(this.handles[i])),j=this._start(b,i);if(j===!1)return!1;this._mouseSliding=!0,h._handleIndex=i,g.addClass(\"ui-state-active\").focus(),k=g.offset(),l=!a(b.target).parents().andSelf().is(\".ui-slider-handle\"),this._clickOffset=l?{left:0,top:0}:{left:b.pageX-k.left-g.width()\/2,top:b.pageY-k.top-g.height()\/2-(parseInt(g.css(\"borderTopWidth\"),10)||0)-(parseInt(g.css(\"borderBottomWidth\"),10)||0)+(parseInt(g.css(\"marginTop\"),10)||0)},this.handles.hasClass(\"ui-state-hover\")||this._slide(b,i,e),this._animateOff=!0;return!0},_mouseStart:function(a){return!0},_mouseDrag:function(a){var b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b);this._slide(a,this._handleIndex,c);return!1},_mouseStop:function(a){this.handles.removeClass(\"ui-state-active\"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1;return!1},_detectOrientation:function(){this.orientation=this.options.orientation===\"vertical\"?\"vertical\":\"horizontal\"},_normValueFromMouse:function(a){var b,c,d,e,f;this.orientation===\"horizontal\"?(b=this.elementSize.width,c=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,c=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),d=c\/b,d>1&&(d=1),d<0&&(d=0),this.orientation===\"vertical\"&&(d=1-d),e=this._valueMax()-this._valueMin(),f=this._valueMin()+d*e;return this._trimAlignValue(f)},_start:function(a,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values());return this._trigger(\"start\",a,c)},_slide:function(a,b,c){var d,e,f;this.options.values&&this.options.values.length?(d=this.values(b?0:1),this.options.values.length===2&&this.options.range===!0&&(b===0&&c>d||b===1&&c<d)&&(c=d),c!==this.values(b)&&(e=this.values(),e[b]=c,f=this._trigger(\"slide\",a,{handle:this.handles[b],value:c,values:e}),d=this.values(b?0:1),f!==!1&&this.values(b,c,!0))):c!==this.value()&&(f=this._trigger(\"slide\",a,{handle:this.handles[b],value:c}),f!==!1&&this.value(c))},_stop:function(a,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger(\"stop\",a,c)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger(\"change\",a,c)}},value:function(a){if(arguments.length)this.options.value=this._trimAlignValue(a),this._refreshValue(),this._change(null,0);else return this._value()},values:function(b,c){var d,e,f;if(arguments.length>1)this.options.values[b]=this._trimAlignValue(c),this._refreshValue(),this._change(null,b);else{if(!arguments.length)return this._values();if(!a.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(b):this.value();d=this.options.values,e=arguments[0];for(f=0;f<d.length;f+=1)d[f]=this._trimAlignValue(e[f]),this._change(null,f);this._refreshValue()}},_setOption:function(b,c){var d,e=0;a.isArray(this.options.values)&&(e=this.options.values.length),a.Widget.prototype._setOption.apply(this,arguments);switch(b){case\"disabled\":c?(this.handles.filter(\".ui-state-focus\").blur(),this.handles.removeClass(\"ui-state-hover\"),this.handles.propAttr(\"disabled\",!0),this.element.addClass(\"ui-disabled\")):(this.handles.propAttr(\"disabled\",!1),this.element.removeClass(\"ui-disabled\"));break;case\"orientation\":this._detectOrientation(),this.element.removeClass(\"ui-slider-horizontal ui-slider-vertical\").addClass(\"ui-slider-\"+this.orientation),this._refreshValue();break;case\"value\":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case\"values\":this._animateOff=!0,this._refreshValue();for(d=0;d<e;d+=1)this._change(null,d);this._animateOff=!1}},_value:function(){var a=this.options.value;a=this._trimAlignValue(a);return a},_values:function(a){var b,c,d;if(arguments.length){b=this.options.values[a],b=this._trimAlignValue(b);return b}c=this.options.values.slice();for(d=0;d<c.length;d+=1)c[d]=this._trimAlignValue(c[d]);return c},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=this.options.step>0?this.options.step:1,c=(a-this._valueMin())%b,d=a-c;Math.abs(c)*2>=b&&(d+=c>0?b:-b);return parseFloat(d.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var b=this.options.range,c=this.options,d=this,e=this._animateOff?!1:c.animate,f,g={},h,i,j,k;this.options.values&&this.options.values.length?this.handles.each(function(b,i){f=(d.values(b)-d._valueMin())\/(d._valueMax()-d._valueMin())*100,g[d.orientation===\"horizontal\"?\"left\":\"bottom\"]=f+\"%\",a(this).stop(1,1)[e?\"animate\":\"css\"](g,c.animate),d.options.range===!0&&(d.orientation===\"horizontal\"?(b===0&&d.range.stop(1,1)[e?\"animate\":\"css\"]({left:f+\"%\"},c.animate),b===1&&d.range[e?\"animate\":\"css\"]({width:f-h+\"%\"},{queue:!1,duration:c.animate})):(b===0&&d.range.stop(1,1)[e?\"animate\":\"css\"]({bottom:f+\"%\"},c.animate),b===1&&d.range[e?\"animate\":\"css\"]({height:f-h+\"%\"},{queue:!1,duration:c.animate}))),h=f}):(i=this.value(),j=this._valueMin(),k=this._valueMax(),f=k!==j?(i-j)\/(k-j)*100:0,g[d.orientation===\"horizontal\"?\"left\":\"bottom\"]=f+\"%\",this.handle.stop(1,1)[e?\"animate\":\"css\"](g,c.animate),b===\"min\"&&this.orientation===\"horizontal\"&&this.range.stop(1,1)[e?\"animate\":\"css\"]({width:f+\"%\"},c.animate),b===\"max\"&&this.orientation===\"horizontal\"&&this.range[e?\"animate\":\"css\"]({width:100-f+\"%\"},{queue:!1,duration:c.animate}),b===\"min\"&&this.orientation===\"vertical\"&&this.range.stop(1,1)[e?\"animate\":\"css\"]({height:f+\"%\"},c.animate),b===\"max\"&&this.orientation===\"vertical\"&&this.range[e?\"animate\":\"css\"]({height:100-f+\"%\"},{queue:!1,duration:c.animate}))}}),a.extend(a.ui.slider,{version:\"1.8.18\"})}(jQuery),function(a,b){function f(){return++d}function e(){return++c}var c=0,d=0;a.widget(\"ui.tabs\",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:\"click\",fx:null,idPrefix:\"ui-tabs-\",load:null,panelTemplate:\"<div><\/div>\",remove:null,select:null,show:null,spinner:\"<em>Loading&#8230;<\/em>\",tabTemplate:\"<li><a href='#{href}'><span>#{label}<\/span><\/a><\/li>\"},_create:function(){this._tabify(!0)},_setOption:function(a,b){if(a==\"selected\"){if(this.options.collapsible&&b==this.options.selected)return;this.select(b)}else this.options[a]=b,this._tabify()},_tabId:function(a){return a.title&&a.title.replace(\/\\s\/g,\"_\").replace(\/[^\\w\\u00c0-\\uFFFF-]\/g,\"\")||this.options.idPrefix+e()},_sanitizeSelector:function(a){return a.replace(\/:\/g,\"\\\\:\")},_cookie:function(){var b=this.cookie||(this.cookie=this.options.cookie.name||\"ui-tabs-\"+f());return a.cookie.apply(null,[b].concat(a.makeArray(arguments)))},_ui:function(a,b){return{tab:a,panel:b,index:this.anchors.index(a)}},_cleanup:function(){this.lis.filter(\".ui-state-processing\").removeClass(\"ui-state-processing\").find(\"span:data(label.tabs)\").each(function(){var b=a(this);b.html(b.data(\"label.tabs\")).removeData(\"label.tabs\")})},_tabify:function(c){function m(b,c){b.css(\"display\",\"\"),!a.support.opacity&&c.opacity&&b[0].style.removeAttribute(\"filter\")}var d=this,e=this.options,f=\/^#.+\/;this.list=this.element.find(\"ol,ul\").eq(0),this.lis=a(\" > li:has(a[href])\",this.list),this.anchors=this.lis.map(function(){return a(\"a\",this)[0]}),this.panels=a([]),this.anchors.each(function(b,c){var g=a(c).attr(\"href\"),h=g.split(\"#\")[0],i;h&&(h===location.toString().split(\"#\")[0]||(i=a(\"base\")[0])&&h===i.href)&&(g=c.hash,c.href=g);if(f.test(g))d.panels=d.panels.add(d.element.find(d._sanitizeSelector(g)));else if(g&&g!==\"#\"){a.data(c,\"href.tabs\",g),a.data(c,\"load.tabs\",g.replace(\/#.*$\/,\"\"));var j=d._tabId(c);c.href=\"#\"+j;var k=d.element.find(\"#\"+j);k.length||(k=a(e.panelTemplate).attr(\"id\",j).addClass(\"ui-tabs-panel ui-widget-content ui-corner-bottom\").insertAfter(d.panels[b-1]||d.list),k.data(\"destroy.tabs\",!0)),d.panels=d.panels.add(k)}else e.disabled.push(b)}),c?(this.element.addClass(\"ui-tabs ui-widget ui-widget-content ui-corner-all\"),this.list.addClass(\"ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all\"),this.lis.addClass(\"ui-state-default ui-corner-top\"),this.panels.addClass(\"ui-tabs-panel ui-widget-content ui-corner-bottom\"),e.selected===b?(location.hash&&this.anchors.each(function(a,b){if(b.hash==location.hash){e.selected=a;return!1}}),typeof e.selected!=\"number\"&&e.cookie&&(e.selected=parseInt(d._cookie(),10)),typeof e.selected!=\"number\"&&this.lis.filter(\".ui-tabs-selected\").length&&(e.selected=this.lis.index(this.lis.filter(\".ui-tabs-selected\"))),e.selected=e.selected||(this.lis.length?0:-1)):e.selected===null&&(e.selected=-1),e.selected=e.selected>=0&&this.anchors[e.selected]||e.selected<0?e.selected:0,e.disabled=a.unique(e.disabled.concat(a.map(this.lis.filter(\".ui-state-disabled\"),function(a,b){return d.lis.index(a)}))).sort(),a.inArray(e.selected,e.disabled)!=-1&&e.disabled.splice(a.inArray(e.selected,e.disabled),1),this.panels.addClass(\"ui-tabs-hide\"),this.lis.removeClass(\"ui-tabs-selected ui-state-active\"),e.selected>=0&&this.anchors.length&&(d.element.find(d._sanitizeSelector(d.anchors[e.selected].hash)).removeClass(\"ui-tabs-hide\"),this.lis.eq(e.selected).addClass(\"ui-tabs-selected ui-state-active\"),d.element.queue(\"tabs\",function(){d._trigger(\"show\",null,d._ui(d.anchors[e.selected],d.element.find(d._sanitizeSelector(d.anchors[e.selected].hash))[0]))}),this.load(e.selected)),a(window).bind(\"unload\",function(){d.lis.add(d.anchors).unbind(\".tabs\"),d.lis=d.anchors=d.panels=null})):e.selected=this.lis.index(this.lis.filter(\".ui-tabs-selected\")),this.element[e.collapsible?\"addClass\":\"removeClass\"](\"ui-tabs-collapsible\"),e.cookie&&this._cookie(e.selected,e.cookie);for(var g=0,h;h=this.lis[g];g++)a(h)[a.inArray(g,e.disabled)!=-1&&!a(h).hasClass(\"ui-tabs-selected\")?\"addClass\":\"removeClass\"](\"ui-state-disabled\");e.cache===!1&&this.anchors.removeData(\"cache.tabs\"),this.lis.add(this.anchors).unbind(\".tabs\");if(e.event!==\"mouseover\"){var i=function(a,b){b.is(\":not(.ui-state-disabled)\")&&b.addClass(\"ui-state-\"+a)},j=function(a,b){b.removeClass(\"ui-state-\"+a)};this.lis.bind(\"mouseover.tabs\",function(){i(\"hover\",a(this))}),this.lis.bind(\"mouseout.tabs\",function(){j(\"hover\",a(this))}),this.anchors.bind(\"focus.tabs\",function(){i(\"focus\",a(this).closest(\"li\"))}),this.anchors.bind(\"blur.tabs\",function(){j(\"focus\",a(this).closest(\"li\"))})}var k,l;e.fx&&(a.isArray(e.fx)?(k=e.fx[0],l=e.fx[1]):k=l=e.fx);var n=l?function(b,c){a(b).closest(\"li\").addClass(\"ui-tabs-selected ui-state-active\"),c.hide().removeClass(\"ui-tabs-hide\").animate(l,l.duration||\"normal\",function(){m(c,l),d._trigger(\"show\",null,d._ui(b,c[0]))})}:function(b,c){a(b).closest(\"li\").addClass(\"ui-tabs-selected ui-state-active\"),c.removeClass(\"ui-tabs-hide\"),d._trigger(\"show\",null,d._ui(b,c[0]))},o=k?function(a,b){b.animate(k,k.duration||\"normal\",function(){d.lis.removeClass(\"ui-tabs-selected ui-state-active\"),b.addClass(\"ui-tabs-hide\"),m(b,k),d.element.dequeue(\"tabs\")})}:function(a,b,c){d.lis.removeClass(\"ui-tabs-selected ui-state-active\"),b.addClass(\"ui-tabs-hide\"),d.element.dequeue(\"tabs\")};this.anchors.bind(e.event+\".tabs\",function(){var b=this,c=a(b).closest(\"li\"),f=d.panels.filter(\":not(.ui-tabs-hide)\"),g=d.element.find(d._sanitizeSelector(b.hash));if(c.hasClass(\"ui-tabs-selected\")&&!e.collapsible||c.hasClass(\"ui-state-disabled\")||c.hasClass(\"ui-state-processing\")||d.panels.filter(\":animated\").length||d._trigger(\"select\",null,d._ui(this,g[0]))===!1){this.blur();return!1}e.selected=d.anchors.index(this),d.abort();if(e.collapsible){if(c.hasClass(\"ui-tabs-selected\")){e.selected=-1,e.cookie&&d._cookie(e.selected,e.cookie),d.element.queue(\"tabs\",function(){o(b,f)}).dequeue(\"tabs\"),this.blur();return!1}if(!f.length){e.cookie&&d._cookie(e.selected,e.cookie),d.element.queue(\"tabs\",function(){n(b,g)}\n),d.load(d.anchors.index(this)),this.blur();return!1}}e.cookie&&d._cookie(e.selected,e.cookie);if(g.length)f.length&&d.element.queue(\"tabs\",function(){o(b,f)}),d.element.queue(\"tabs\",function(){n(b,g)}),d.load(d.anchors.index(this));else throw\"jQuery UI Tabs: Mismatching fragment identifier.\";a.browser.msie&&this.blur()}),this.anchors.bind(\"click.tabs\",function(){return!1})},_getIndex:function(a){typeof a==\"string\"&&(a=this.anchors.index(this.anchors.filter(\"[href$=\"+a+\"]\")));return a},destroy:function(){var b=this.options;this.abort(),this.element.unbind(\".tabs\").removeClass(\"ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible\").removeData(\"tabs\"),this.list.removeClass(\"ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all\"),this.anchors.each(function(){var b=a.data(this,\"href.tabs\");b&&(this.href=b);var c=a(this).unbind(\".tabs\");a.each([\"href\",\"load\",\"cache\"],function(a,b){c.removeData(b+\".tabs\")})}),this.lis.unbind(\".tabs\").add(this.panels).each(function(){a.data(this,\"destroy.tabs\")?a(this).remove():a(this).removeClass([\"ui-state-default\",\"ui-corner-top\",\"ui-tabs-selected\",\"ui-state-active\",\"ui-state-hover\",\"ui-state-focus\",\"ui-state-disabled\",\"ui-tabs-panel\",\"ui-widget-content\",\"ui-corner-bottom\",\"ui-tabs-hide\"].join(\" \"))}),b.cookie&&this._cookie(null,b.cookie);return this},add:function(c,d,e){e===b&&(e=this.anchors.length);var f=this,g=this.options,h=a(g.tabTemplate.replace(\/#\\{href\\}\/g,c).replace(\/#\\{label\\}\/g,d)),i=c.indexOf(\"#\")?this._tabId(a(\"a\",h)[0]):c.replace(\"#\",\"\");h.addClass(\"ui-state-default ui-corner-top\").data(\"destroy.tabs\",!0);var j=f.element.find(\"#\"+i);j.length||(j=a(g.panelTemplate).attr(\"id\",i).data(\"destroy.tabs\",!0)),j.addClass(\"ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide\"),e>=this.lis.length?(h.appendTo(this.list),j.appendTo(this.list[0].parentNode)):(h.insertBefore(this.lis[e]),j.insertBefore(this.panels[e])),g.disabled=a.map(g.disabled,function(a,b){return a>=e?++a:a}),this._tabify(),this.anchors.length==1&&(g.selected=0,h.addClass(\"ui-tabs-selected ui-state-active\"),j.removeClass(\"ui-tabs-hide\"),this.element.queue(\"tabs\",function(){f._trigger(\"show\",null,f._ui(f.anchors[0],f.panels[0]))}),this.load(0)),this._trigger(\"add\",null,this._ui(this.anchors[e],this.panels[e]));return this},remove:function(b){b=this._getIndex(b);var c=this.options,d=this.lis.eq(b).remove(),e=this.panels.eq(b).remove();d.hasClass(\"ui-tabs-selected\")&&this.anchors.length>1&&this.select(b+(b+1<this.anchors.length?1:-1)),c.disabled=a.map(a.grep(c.disabled,function(a,c){return a!=b}),function(a,c){return a>=b?--a:a}),this._tabify(),this._trigger(\"remove\",null,this._ui(d.find(\"a\")[0],e[0]));return this},enable:function(b){b=this._getIndex(b);var c=this.options;if(a.inArray(b,c.disabled)!=-1){this.lis.eq(b).removeClass(\"ui-state-disabled\"),c.disabled=a.grep(c.disabled,function(a,c){return a!=b}),this._trigger(\"enable\",null,this._ui(this.anchors[b],this.panels[b]));return this}},disable:function(a){a=this._getIndex(a);var b=this,c=this.options;a!=c.selected&&(this.lis.eq(a).addClass(\"ui-state-disabled\"),c.disabled.push(a),c.disabled.sort(),this._trigger(\"disable\",null,this._ui(this.anchors[a],this.panels[a])));return this},select:function(a){a=this._getIndex(a);if(a==-1)if(this.options.collapsible&&this.options.selected!=-1)a=this.options.selected;else return this;this.anchors.eq(a).trigger(this.options.event+\".tabs\");return this},load:function(b){b=this._getIndex(b);var c=this,d=this.options,e=this.anchors.eq(b)[0],f=a.data(e,\"load.tabs\");this.abort();if(!f||this.element.queue(\"tabs\").length!==0&&a.data(e,\"cache.tabs\"))this.element.dequeue(\"tabs\");else{this.lis.eq(b).addClass(\"ui-state-processing\");if(d.spinner){var g=a(\"span\",e);g.data(\"label.tabs\",g.html()).html(d.spinner)}this.xhr=a.ajax(a.extend({},d.ajaxOptions,{url:f,success:function(f,g){c.element.find(c._sanitizeSelector(e.hash)).html(f),c._cleanup(),d.cache&&a.data(e,\"cache.tabs\",!0),c._trigger(\"load\",null,c._ui(c.anchors[b],c.panels[b]));try{d.ajaxOptions.success(f,g)}catch(h){}},error:function(a,f,g){c._cleanup(),c._trigger(\"load\",null,c._ui(c.anchors[b],c.panels[b]));try{d.ajaxOptions.error(a,f,b,e)}catch(g){}}})),c.element.dequeue(\"tabs\");return this}},abort:function(){this.element.queue([]),this.panels.stop(!1,!0),this.element.queue(\"tabs\",this.element.queue(\"tabs\").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup();return this},url:function(a,b){this.anchors.eq(a).removeData(\"cache.tabs\").data(\"load.tabs\",b);return this},length:function(){return this.anchors.length}}),a.extend(a.ui.tabs,{version:\"1.8.18\"}),a.extend(a.ui.tabs.prototype,{rotation:null,rotate:function(a,b){var c=this,d=this.options,e=c._rotate||(c._rotate=function(b){clearTimeout(c.rotation),c.rotation=setTimeout(function(){var a=d.selected;c.select(++a<c.anchors.length?a:0)},a),b&&b.stopPropagation()}),f=c._unrotate||(c._unrotate=b?function(a){t=d.selected,e()}:function(a){a.clientX&&c.rotate(null)});a?(this.element.bind(\"tabsshow\",e),this.anchors.bind(d.event+\".tabs\",f),e()):(clearTimeout(c.rotation),this.element.unbind(\"tabsshow\",e),this.anchors.unbind(d.event+\".tabs\",f),delete this._rotate,delete this._unrotate);return this}})}(jQuery)","lib\/qunit-1.15.0.js":"\/*!\n * QUnit 1.15.0\n * http:\/\/qunitjs.com\/\n *\n * Copyright 2014 jQuery Foundation and other contributors\n * Released under the MIT license\n * http:\/\/jquery.org\/license\n *\n * Date: 2014-08-08T16:00Z\n *\/\n\n(function( window ) {\n\nvar QUnit,\n\tconfig,\n\tonErrorFnPrev,\n\tfileName = ( sourceFromStacktrace( 0 ) || \"\" ).replace( \/(:\\d+)+\\)?\/, \"\" ).replace( \/.+\\\/\/, \"\" ),\n\ttoString = Object.prototype.toString,\n\thasOwn = Object.prototype.hasOwnProperty,\n\t\/\/ Keep a local reference to Date (GH-283)\n\tDate = window.Date,\n\tnow = Date.now || function() {\n\t\treturn new Date().getTime();\n\t},\n\tsetTimeout = window.setTimeout,\n\tclearTimeout = window.clearTimeout,\n\tdefined = {\n\t\tdocument: typeof window.document !== \"undefined\",\n\t\tsetTimeout: typeof window.setTimeout !== \"undefined\",\n\t\tsessionStorage: (function() {\n\t\t\tvar x = \"qunit-test-string\";\n\t\t\ttry {\n\t\t\t\tsessionStorage.setItem( x, x );\n\t\t\t\tsessionStorage.removeItem( x );\n\t\t\t\treturn true;\n\t\t\t} catch ( e ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}())\n\t},\n\t\/**\n\t * Provides a normalized error string, correcting an issue\n\t * with IE 7 (and prior) where Error.prototype.toString is\n\t * not properly implemented\n\t *\n\t * Based on http:\/\/es5.github.com\/#x15.11.4.4\n\t *\n\t * @param {String|Error} error\n\t * @return {String} error message\n\t *\/\n\terrorString = function( error ) {\n\t\tvar name, message,\n\t\t\terrorString = error.toString();\n\t\tif ( errorString.substring( 0, 7 ) === \"[object\" ) {\n\t\t\tname = error.name ? error.name.toString() : \"Error\";\n\t\t\tmessage = error.message ? error.message.toString() : \"\";\n\t\t\tif ( name && message ) {\n\t\t\t\treturn name + \": \" + message;\n\t\t\t} else if ( name ) {\n\t\t\t\treturn name;\n\t\t\t} else if ( message ) {\n\t\t\t\treturn message;\n\t\t\t} else {\n\t\t\t\treturn \"Error\";\n\t\t\t}\n\t\t} else {\n\t\t\treturn errorString;\n\t\t}\n\t},\n\t\/**\n\t * Makes a clone of an object using only Array or Object as base,\n\t * and copies over the own enumerable properties.\n\t *\n\t * @param {Object} obj\n\t * @return {Object} New object with only the own properties (recursively).\n\t *\/\n\tobjectValues = function( obj ) {\n\t\tvar key, val,\n\t\t\tvals = QUnit.is( \"array\", obj ) ? [] : {};\n\t\tfor ( key in obj ) {\n\t\t\tif ( hasOwn.call( obj, key ) ) {\n\t\t\t\tval = obj[ key ];\n\t\t\t\tvals[ key ] = val === Object( val ) ? objectValues( val ) : val;\n\t\t\t}\n\t\t}\n\t\treturn vals;\n\t};\n\n\/\/ Root QUnit object.\n\/\/ `QUnit` initialized at top of scope\nQUnit = {\n\n\t\/\/ call on start of module test to prepend name to all tests\n\tmodule: function( name, testEnvironment ) {\n\t\tconfig.currentModule = name;\n\t\tconfig.currentModuleTestEnvironment = testEnvironment;\n\t\tconfig.modules[ name ] = true;\n\t},\n\n\tasyncTest: function( testName, expected, callback ) {\n\t\tif ( arguments.length === 2 ) {\n\t\t\tcallback = expected;\n\t\t\texpected = null;\n\t\t}\n\n\t\tQUnit.test( testName, expected, callback, true );\n\t},\n\n\ttest: function( testName, expected, callback, async ) {\n\t\tvar test;\n\n\t\tif ( arguments.length === 2 ) {\n\t\t\tcallback = expected;\n\t\t\texpected = null;\n\t\t}\n\n\t\ttest = new Test({\n\t\t\ttestName: testName,\n\t\t\texpected: expected,\n\t\t\tasync: async,\n\t\t\tcallback: callback,\n\t\t\tmodule: config.currentModule,\n\t\t\tmoduleTestEnvironment: config.currentModuleTestEnvironment,\n\t\t\tstack: sourceFromStacktrace( 2 )\n\t\t});\n\n\t\tif ( !validTest( test ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\ttest.queue();\n\t},\n\n\tstart: function( count ) {\n\t\tvar message;\n\n\t\t\/\/ QUnit hasn't been initialized yet.\n\t\t\/\/ Note: RequireJS (et al) may delay onLoad\n\t\tif ( config.semaphore === undefined ) {\n\t\t\tQUnit.begin(function() {\n\t\t\t\t\/\/ This is triggered at the top of QUnit.load, push start() to the event loop, to allow QUnit.load to finish first\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tQUnit.start( count );\n\t\t\t\t});\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\tconfig.semaphore -= count || 1;\n\t\t\/\/ don't start until equal number of stop-calls\n\t\tif ( config.semaphore > 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t\/\/ Set the starting time when the first test is run\n\t\tQUnit.config.started = QUnit.config.started || now();\n\t\t\/\/ ignore if start is called more often then stop\n\t\tif ( config.semaphore < 0 ) {\n\t\t\tconfig.semaphore = 0;\n\n\t\t\tmessage = \"Called start() while already started (QUnit.config.semaphore was 0 already)\";\n\n\t\t\tif ( config.current ) {\n\t\t\t\tQUnit.pushFailure( message, sourceFromStacktrace( 2 ) );\n\t\t\t} else {\n\t\t\t\tthrow new Error( message );\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\t\t\/\/ A slight delay, to avoid any current callbacks\n\t\tif ( defined.setTimeout ) {\n\t\t\tsetTimeout(function() {\n\t\t\t\tif ( config.semaphore > 0 ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif ( config.timeout ) {\n\t\t\t\t\tclearTimeout( config.timeout );\n\t\t\t\t}\n\n\t\t\t\tconfig.blocking = false;\n\t\t\t\tprocess( true );\n\t\t\t}, 13 );\n\t\t} else {\n\t\t\tconfig.blocking = false;\n\t\t\tprocess( true );\n\t\t}\n\t},\n\n\tstop: function( count ) {\n\t\tconfig.semaphore += count || 1;\n\t\tconfig.blocking = true;\n\n\t\tif ( config.testTimeout && defined.setTimeout ) {\n\t\t\tclearTimeout( config.timeout );\n\t\t\tconfig.timeout = setTimeout(function() {\n\t\t\t\tQUnit.ok( false, \"Test timed out\" );\n\t\t\t\tconfig.semaphore = 1;\n\t\t\t\tQUnit.start();\n\t\t\t}, config.testTimeout );\n\t\t}\n\t}\n};\n\n\/\/ We use the prototype to distinguish between properties that should\n\/\/ be exposed as globals (and in exports) and those that shouldn't\n(function() {\n\tfunction F() {}\n\tF.prototype = QUnit;\n\tQUnit = new F();\n\n\t\/\/ Make F QUnit's constructor so that we can add to the prototype later\n\tQUnit.constructor = F;\n}());\n\n\/**\n * Config object: Maintain internal state\n * Later exposed as QUnit.config\n * `config` initialized at top of scope\n *\/\nconfig = {\n\t\/\/ The queue of tests to run\n\tqueue: [],\n\n\t\/\/ block until document ready\n\tblocking: true,\n\n\t\/\/ when enabled, show only failing tests\n\t\/\/ gets persisted through sessionStorage and can be changed in UI via checkbox\n\thidepassed: false,\n\n\t\/\/ by default, run previously failed tests first\n\t\/\/ very useful in combination with \"Hide passed tests\" checked\n\treorder: true,\n\n\t\/\/ by default, modify document.title when suite is done\n\taltertitle: true,\n\n\t\/\/ by default, scroll to top of the page when suite is done\n\tscrolltop: true,\n\n\t\/\/ when enabled, all tests must call expect()\n\trequireExpects: false,\n\n\t\/\/ add checkboxes that are persisted in the query-string\n\t\/\/ when enabled, the id is set to `true` as a `QUnit.config` property\n\turlConfig: [\n\t\t{\n\t\t\tid: \"noglobals\",\n\t\t\tlabel: \"Check for Globals\",\n\t\t\ttooltip: \"Enabling this will test if any test introduces new properties on the `window` object. Stored as query-strings.\"\n\t\t},\n\t\t{\n\t\t\tid: \"notrycatch\",\n\t\t\tlabel: \"No try-catch\",\n\t\t\ttooltip: \"Enabling this will run tests outside of a try-catch block. Makes debugging exceptions in IE reasonable. Stored as query-strings.\"\n\t\t}\n\t],\n\n\t\/\/ Set of all modules.\n\tmodules: {},\n\n\tcallbacks: {}\n};\n\n\/\/ Initialize more QUnit.config and QUnit.urlParams\n(function() {\n\tvar i, current,\n\t\tlocation = window.location || { search: \"\", protocol: \"file:\" },\n\t\tparams = location.search.slice( 1 ).split( \"&\" ),\n\t\tlength = params.length,\n\t\turlParams = {};\n\n\tif ( params[ 0 ] ) {\n\t\tfor ( i = 0; i < length; i++ ) {\n\t\t\tcurrent = params[ i ].split( \"=\" );\n\t\t\tcurrent[ 0 ] = decodeURIComponent( current[ 0 ] );\n\n\t\t\t\/\/ allow just a key to turn on a flag, e.g., test.html?noglobals\n\t\t\tcurrent[ 1 ] = current[ 1 ] ? decodeURIComponent( current[ 1 ] ) : true;\n\t\t\tif ( urlParams[ current[ 0 ] ] ) {\n\t\t\t\turlParams[ current[ 0 ] ] = [].concat( urlParams[ current[ 0 ] ], current[ 1 ] );\n\t\t\t} else {\n\t\t\t\turlParams[ current[ 0 ] ] = current[ 1 ];\n\t\t\t}\n\t\t}\n\t}\n\n\tQUnit.urlParams = urlParams;\n\n\t\/\/ String search anywhere in moduleName+testName\n\tconfig.filter = urlParams.filter;\n\n\t\/\/ Exact match of the module name\n\tconfig.module = urlParams.module;\n\n\tconfig.testNumber = [];\n\tif ( urlParams.testNumber ) {\n\n\t\t\/\/ Ensure that urlParams.testNumber is an array\n\t\turlParams.testNumber = [].concat( urlParams.testNumber );\n\t\tfor ( i = 0; i < urlParams.testNumber.length; i++ ) {\n\t\t\tcurrent = urlParams.testNumber[ i ];\n\t\t\tconfig.testNumber.push( parseInt( current, 10 ) );\n\t\t}\n\t}\n\n\t\/\/ Figure out if we're running the tests from a server or not\n\tQUnit.isLocal = location.protocol === \"file:\";\n}());\n\nextend( QUnit, {\n\n\tconfig: config,\n\n\t\/\/ Safe object type checking\n\tis: function( type, obj ) {\n\t\treturn QUnit.objectType( obj ) === type;\n\t},\n\n\tobjectType: function( obj ) {\n\t\tif ( typeof obj === \"undefined\" ) {\n\t\t\treturn \"undefined\";\n\t\t}\n\n\t\t\/\/ Consider: typeof null === object\n\t\tif ( obj === null ) {\n\t\t\treturn \"null\";\n\t\t}\n\n\t\tvar match = toString.call( obj ).match( \/^\\[object\\s(.*)\\]$\/ ),\n\t\t\ttype = match && match[ 1 ] || \"\";\n\n\t\tswitch ( type ) {\n\t\t\tcase \"Number\":\n\t\t\t\tif ( isNaN( obj ) ) {\n\t\t\t\t\treturn \"nan\";\n\t\t\t\t}\n\t\t\t\treturn \"number\";\n\t\t\tcase \"String\":\n\t\t\tcase \"Boolean\":\n\t\t\tcase \"Array\":\n\t\t\tcase \"Date\":\n\t\t\tcase \"RegExp\":\n\t\t\tcase \"Function\":\n\t\t\t\treturn type.toLowerCase();\n\t\t}\n\t\tif ( typeof obj === \"object\" ) {\n\t\t\treturn \"object\";\n\t\t}\n\t\treturn undefined;\n\t},\n\n\turl: function( params ) {\n\t\tparams = extend( extend( {}, QUnit.urlParams ), params );\n\t\tvar key,\n\t\t\tquerystring = \"?\";\n\n\t\tfor ( key in params ) {\n\t\t\tif ( hasOwn.call( params, key ) ) {\n\t\t\t\tquerystring += encodeURIComponent( key ) + \"=\" +\n\t\t\t\t\tencodeURIComponent( params[ key ] ) + \"&\";\n\t\t\t}\n\t\t}\n\t\treturn window.location.protocol + \"\/\/\" + window.location.host +\n\t\t\twindow.location.pathname + querystring.slice( 0, -1 );\n\t},\n\n\textend: extend\n});\n\n\/**\n * @deprecated: Created for backwards compatibility with test runner that set the hook function\n * into QUnit.{hook}, instead of invoking it and passing the hook function.\n * QUnit.constructor is set to the empty F() above so that we can add to it's prototype here.\n * Doing this allows us to tell if the following methods have been overwritten on the actual\n * QUnit object.\n *\/\nextend( QUnit.constructor.prototype, {\n\n\t\/\/ Logging callbacks; all receive a single argument with the listed properties\n\t\/\/ run test\/logs.html for any related changes\n\tbegin: registerLoggingCallback( \"begin\" ),\n\n\t\/\/ done: { failed, passed, total, runtime }\n\tdone: registerLoggingCallback( \"done\" ),\n\n\t\/\/ log: { result, actual, expected, message }\n\tlog: registerLoggingCallback( \"log\" ),\n\n\t\/\/ testStart: { name }\n\ttestStart: registerLoggingCallback( \"testStart\" ),\n\n\t\/\/ testDone: { name, failed, passed, total, runtime }\n\ttestDone: registerLoggingCallback( \"testDone\" ),\n\n\t\/\/ moduleStart: { name }\n\tmoduleStart: registerLoggingCallback( \"moduleStart\" ),\n\n\t\/\/ moduleDone: { name, failed, passed, total }\n\tmoduleDone: registerLoggingCallback( \"moduleDone\" )\n});\n\nQUnit.load = function() {\n\trunLoggingCallbacks( \"begin\", {\n\t\ttotalTests: Test.count\n\t});\n\n\t\/\/ Initialize the configuration options\n\textend( config, {\n\t\tstats: { all: 0, bad: 0 },\n\t\tmoduleStats: { all: 0, bad: 0 },\n\t\tstarted: 0,\n\t\tupdateRate: 1000,\n\t\tautostart: true,\n\t\tfilter: \"\",\n\t\tsemaphore: 1\n\t}, true );\n\n\tconfig.blocking = false;\n\n\tif ( config.autostart ) {\n\t\tQUnit.start();\n\t}\n};\n\n\/\/ `onErrorFnPrev` initialized at top of scope\n\/\/ Preserve other handlers\nonErrorFnPrev = window.onerror;\n\n\/\/ Cover uncaught exceptions\n\/\/ Returning true will suppress the default browser handler,\n\/\/ returning false will let it run.\nwindow.onerror = function( error, filePath, linerNr ) {\n\tvar ret = false;\n\tif ( onErrorFnPrev ) {\n\t\tret = onErrorFnPrev( error, filePath, linerNr );\n\t}\n\n\t\/\/ Treat return value as window.onerror itself does,\n\t\/\/ Only do our handling if not suppressed.\n\tif ( ret !== true ) {\n\t\tif ( QUnit.config.current ) {\n\t\t\tif ( QUnit.config.current.ignoreGlobalErrors ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tQUnit.pushFailure( error, filePath + \":\" + linerNr );\n\t\t} else {\n\t\t\tQUnit.test( \"global failure\", extend(function() {\n\t\t\t\tQUnit.pushFailure( error, filePath + \":\" + linerNr );\n\t\t\t}, { validTest: validTest } ) );\n\t\t}\n\t\treturn false;\n\t}\n\n\treturn ret;\n};\n\nfunction done() {\n\tconfig.autorun = true;\n\n\t\/\/ Log the last module results\n\tif ( config.previousModule ) {\n\t\trunLoggingCallbacks( \"moduleDone\", {\n\t\t\tname: config.previousModule,\n\t\t\tfailed: config.moduleStats.bad,\n\t\t\tpassed: config.moduleStats.all - config.moduleStats.bad,\n\t\t\ttotal: config.moduleStats.all\n\t\t});\n\t}\n\tdelete config.previousModule;\n\n\tvar runtime = now() - config.started,\n\t\tpassed = config.stats.all - config.stats.bad;\n\n\trunLoggingCallbacks( \"done\", {\n\t\tfailed: config.stats.bad,\n\t\tpassed: passed,\n\t\ttotal: config.stats.all,\n\t\truntime: runtime\n\t});\n}\n\n\/** @return Boolean: true if this test should be ran *\/\nfunction validTest( test ) {\n\tvar include,\n\t\tfilter = config.filter && config.filter.toLowerCase(),\n\t\tmodule = config.module && config.module.toLowerCase(),\n\t\tfullName = ( test.module + \": \" + test.testName ).toLowerCase();\n\n\t\/\/ Internally-generated tests are always valid\n\tif ( test.callback && test.callback.validTest === validTest ) {\n\t\tdelete test.callback.validTest;\n\t\treturn true;\n\t}\n\n\tif ( config.testNumber.length > 0 ) {\n\t\tif ( inArray( test.testNumber, config.testNumber ) < 0 ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tif ( module && ( !test.module || test.module.toLowerCase() !== module ) ) {\n\t\treturn false;\n\t}\n\n\tif ( !filter ) {\n\t\treturn true;\n\t}\n\n\tinclude = filter.charAt( 0 ) !== \"!\";\n\tif ( !include ) {\n\t\tfilter = filter.slice( 1 );\n\t}\n\n\t\/\/ If the filter matches, we need to honour include\n\tif ( fullName.indexOf( filter ) !== -1 ) {\n\t\treturn include;\n\t}\n\n\t\/\/ Otherwise, do the opposite\n\treturn !include;\n}\n\n\/\/ Doesn't support IE6 to IE9\n\/\/ See also https:\/\/developer.mozilla.org\/en\/JavaScript\/Reference\/Global_Objects\/Error\/Stack\nfunction extractStacktrace( e, offset ) {\n\toffset = offset === undefined ? 4 : offset;\n\n\tvar stack, include, i;\n\n\tif ( e.stacktrace ) {\n\n\t\t\/\/ Opera 12.x\n\t\treturn e.stacktrace.split( \"\\n\" )[ offset + 3 ];\n\t} else if ( e.stack ) {\n\n\t\t\/\/ Firefox, Chrome, Safari 6+, IE10+, PhantomJS and Node\n\t\tstack = e.stack.split( \"\\n\" );\n\t\tif ( \/^error$\/i.test( stack[ 0 ] ) ) {\n\t\t\tstack.shift();\n\t\t}\n\t\tif ( fileName ) {\n\t\t\tinclude = [];\n\t\t\tfor ( i = offset; i < stack.length; i++ ) {\n\t\t\t\tif ( stack[ i ].indexOf( fileName ) !== -1 ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tinclude.push( stack[ i ] );\n\t\t\t}\n\t\t\tif ( include.length ) {\n\t\t\t\treturn include.join( \"\\n\" );\n\t\t\t}\n\t\t}\n\t\treturn stack[ offset ];\n\t} else if ( e.sourceURL ) {\n\n\t\t\/\/ Safari < 6\n\t\t\/\/ exclude useless self-reference for generated Error objects\n\t\tif ( \/qunit.js$\/.test( e.sourceURL ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t\/\/ for actual exceptions, this is useful\n\t\treturn e.sourceURL + \":\" + e.line;\n\t}\n}\nfunction sourceFromStacktrace( offset ) {\n\ttry {\n\t\tthrow new Error();\n\t} catch ( e ) {\n\t\treturn extractStacktrace( e, offset );\n\t}\n}\n\nfunction synchronize( callback, last ) {\n\tconfig.queue.push( callback );\n\n\tif ( config.autorun && !config.blocking ) {\n\t\tprocess( last );\n\t}\n}\n\nfunction process( last ) {\n\tfunction next() {\n\t\tprocess( last );\n\t}\n\tvar start = now();\n\tconfig.depth = config.depth ? config.depth + 1 : 1;\n\n\twhile ( config.queue.length && !config.blocking ) {\n\t\tif ( !defined.setTimeout || config.updateRate <= 0 || ( ( now() - start ) < config.updateRate ) ) {\n\t\t\tconfig.queue.shift()();\n\t\t} else {\n\t\t\tsetTimeout( next, 13 );\n\t\t\tbreak;\n\t\t}\n\t}\n\tconfig.depth--;\n\tif ( last && !config.blocking && !config.queue.length && config.depth === 0 ) {\n\t\tdone();\n\t}\n}\n\nfunction saveGlobal() {\n\tconfig.pollution = [];\n\n\tif ( config.noglobals ) {\n\t\tfor ( var key in window ) {\n\t\t\tif ( hasOwn.call( window, key ) ) {\n\t\t\t\t\/\/ in Opera sometimes DOM element ids show up here, ignore them\n\t\t\t\tif ( \/^qunit-test-output\/.test( key ) ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tconfig.pollution.push( key );\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction checkPollution() {\n\tvar newGlobals,\n\t\tdeletedGlobals,\n\t\told = config.pollution;\n\n\tsaveGlobal();\n\n\tnewGlobals = diff( config.pollution, old );\n\tif ( newGlobals.length > 0 ) {\n\t\tQUnit.pushFailure( \"Introduced global variable(s): \" + newGlobals.join( \", \" ) );\n\t}\n\n\tdeletedGlobals = diff( old, config.pollution );\n\tif ( deletedGlobals.length > 0 ) {\n\t\tQUnit.pushFailure( \"Deleted global variable(s): \" + deletedGlobals.join( \", \" ) );\n\t}\n}\n\n\/\/ returns a new Array with the elements that are in a but not in b\nfunction diff( a, b ) {\n\tvar i, j,\n\t\tresult = a.slice();\n\n\tfor ( i = 0; i < result.length; i++ ) {\n\t\tfor ( j = 0; j < b.length; j++ ) {\n\t\t\tif ( result[ i ] === b[ j ] ) {\n\t\t\t\tresult.splice( i, 1 );\n\t\t\t\ti--;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn result;\n}\n\nfunction extend( a, b, undefOnly ) {\n\tfor ( var prop in b ) {\n\t\tif ( hasOwn.call( b, prop ) ) {\n\n\t\t\t\/\/ Avoid \"Member not found\" error in IE8 caused by messing with window.constructor\n\t\t\tif ( !( prop === \"constructor\" && a === window ) ) {\n\t\t\t\tif ( b[ prop ] === undefined ) {\n\t\t\t\t\tdelete a[ prop ];\n\t\t\t\t} else if ( !( undefOnly && typeof a[ prop ] !== \"undefined\" ) ) {\n\t\t\t\t\ta[ prop ] = b[ prop ];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn a;\n}\n\nfunction registerLoggingCallback( key ) {\n\n\t\/\/ Initialize key collection of logging callback\n\tif ( QUnit.objectType( config.callbacks[ key ] ) === \"undefined\" ) {\n\t\tconfig.callbacks[ key ] = [];\n\t}\n\n\treturn function( callback ) {\n\t\tconfig.callbacks[ key ].push( callback );\n\t};\n}\n\nfunction runLoggingCallbacks( key, args ) {\n\tvar i, l, callbacks;\n\n\tcallbacks = config.callbacks[ key ];\n\tfor ( i = 0, l = callbacks.length; i < l; i++ ) {\n\t\tcallbacks[ i ]( args );\n\t}\n}\n\n\/\/ from jquery.js\nfunction inArray( elem, array ) {\n\tif ( array.indexOf ) {\n\t\treturn array.indexOf( elem );\n\t}\n\n\tfor ( var i = 0, length = array.length; i < length; i++ ) {\n\t\tif ( array[ i ] === elem ) {\n\t\t\treturn i;\n\t\t}\n\t}\n\n\treturn -1;\n}\n\nfunction Test( settings ) {\n\textend( this, settings );\n\tthis.assert = new Assert( this );\n\tthis.assertions = [];\n\tthis.testNumber = ++Test.count;\n}\n\nTest.count = 0;\n\nTest.prototype = {\n\tsetup: function() {\n\t\tif (\n\n\t\t\t\/\/ Emit moduleStart when we're switching from one module to another\n\t\t\tthis.module !== config.previousModule ||\n\n\t\t\t\t\/\/ They could be equal (both undefined) but if the previousModule property doesn't\n\t\t\t\t\/\/ yet exist it means this is the first test in a suite that isn't wrapped in a\n\t\t\t\t\/\/ module, in which case we'll just emit a moduleStart event for 'undefined'.\n\t\t\t\t\/\/ Without this, reporters can get testStart before moduleStart  which is a problem.\n\t\t\t\t!hasOwn.call( config, \"previousModule\" )\n\t\t) {\n\t\t\tif ( hasOwn.call( config, \"previousModule\" ) ) {\n\t\t\t\trunLoggingCallbacks( \"moduleDone\", {\n\t\t\t\t\tname: config.previousModule,\n\t\t\t\t\tfailed: config.moduleStats.bad,\n\t\t\t\t\tpassed: config.moduleStats.all - config.moduleStats.bad,\n\t\t\t\t\ttotal: config.moduleStats.all\n\t\t\t\t});\n\t\t\t}\n\t\t\tconfig.previousModule = this.module;\n\t\t\tconfig.moduleStats = { all: 0, bad: 0 };\n\t\t\trunLoggingCallbacks( \"moduleStart\", {\n\t\t\t\tname: this.module\n\t\t\t});\n\t\t}\n\n\t\tconfig.current = this;\n\n\t\tthis.testEnvironment = extend({\n\t\t\tsetup: function() {},\n\t\t\tteardown: function() {}\n\t\t}, this.moduleTestEnvironment );\n\n\t\tthis.started = now();\n\t\trunLoggingCallbacks( \"testStart\", {\n\t\t\tname: this.testName,\n\t\t\tmodule: this.module,\n\t\t\ttestNumber: this.testNumber\n\t\t});\n\n\t\tif ( !config.pollution ) {\n\t\t\tsaveGlobal();\n\t\t}\n\t\tif ( config.notrycatch ) {\n\t\t\tthis.testEnvironment.setup.call( this.testEnvironment, this.assert );\n\t\t\treturn;\n\t\t}\n\t\ttry {\n\t\t\tthis.testEnvironment.setup.call( this.testEnvironment, this.assert );\n\t\t} catch ( e ) {\n\t\t\tthis.pushFailure( \"Setup failed on \" + this.testName + \": \" + ( e.message || e ), extractStacktrace( e, 0 ) );\n\t\t}\n\t},\n\trun: function() {\n\t\tconfig.current = this;\n\n\t\tif ( this.async ) {\n\t\t\tQUnit.stop();\n\t\t}\n\n\t\tthis.callbackStarted = now();\n\n\t\tif ( config.notrycatch ) {\n\t\t\tthis.callback.call( this.testEnvironment, this.assert );\n\t\t\tthis.callbackRuntime = now() - this.callbackStarted;\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tthis.callback.call( this.testEnvironment, this.assert );\n\t\t\tthis.callbackRuntime = now() - this.callbackStarted;\n\t\t} catch ( e ) {\n\t\t\tthis.callbackRuntime = now() - this.callbackStarted;\n\n\t\t\tthis.pushFailure( \"Died on test #\" + ( this.assertions.length + 1 ) + \" \" + this.stack + \": \" + ( e.message || e ), extractStacktrace( e, 0 ) );\n\n\t\t\t\/\/ else next test will carry the responsibility\n\t\t\tsaveGlobal();\n\n\t\t\t\/\/ Restart the tests if they're blocking\n\t\t\tif ( config.blocking ) {\n\t\t\t\tQUnit.start();\n\t\t\t}\n\t\t}\n\t},\n\tteardown: function() {\n\t\tconfig.current = this;\n\t\tif ( config.notrycatch ) {\n\t\t\tif ( typeof this.callbackRuntime === \"undefined\" ) {\n\t\t\t\tthis.callbackRuntime = now() - this.callbackStarted;\n\t\t\t}\n\t\t\tthis.testEnvironment.teardown.call( this.testEnvironment, this.assert );\n\t\t\treturn;\n\t\t} else {\n\t\t\ttry {\n\t\t\t\tthis.testEnvironment.teardown.call( this.testEnvironment, this.assert );\n\t\t\t} catch ( e ) {\n\t\t\t\tthis.pushFailure( \"Teardown failed on \" + this.testName + \": \" + ( e.message || e ), extractStacktrace( e, 0 ) );\n\t\t\t}\n\t\t}\n\t\tcheckPollution();\n\t},\n\tfinish: function() {\n\t\tconfig.current = this;\n\t\tif ( config.requireExpects && this.expected === null ) {\n\t\t\tthis.pushFailure( \"Expected number of assertions to be defined, but expect() was not called.\", this.stack );\n\t\t} else if ( this.expected !== null && this.expected !== this.assertions.length ) {\n\t\t\tthis.pushFailure( \"Expected \" + this.expected + \" assertions, but \" + this.assertions.length + \" were run\", this.stack );\n\t\t} else if ( this.expected === null && !this.assertions.length ) {\n\t\t\tthis.pushFailure( \"Expected at least one assertion, but none were run - call expect(0) to accept zero assertions.\", this.stack );\n\t\t}\n\n\t\tvar i,\n\t\t\tbad = 0;\n\n\t\tthis.runtime = now() - this.started;\n\t\tconfig.stats.all += this.assertions.length;\n\t\tconfig.moduleStats.all += this.assertions.length;\n\n\t\tfor ( i = 0; i < this.assertions.length; i++ ) {\n\t\t\tif ( !this.assertions[ i ].result ) {\n\t\t\t\tbad++;\n\t\t\t\tconfig.stats.bad++;\n\t\t\t\tconfig.moduleStats.bad++;\n\t\t\t}\n\t\t}\n\n\t\trunLoggingCallbacks( \"testDone\", {\n\t\t\tname: this.testName,\n\t\t\tmodule: this.module,\n\t\t\tfailed: bad,\n\t\t\tpassed: this.assertions.length - bad,\n\t\t\ttotal: this.assertions.length,\n\t\t\truntime: this.runtime,\n\n\t\t\t\/\/ HTML Reporter use\n\t\t\tassertions: this.assertions,\n\t\t\ttestNumber: this.testNumber,\n\n\t\t\t\/\/ DEPRECATED: this property will be removed in 2.0.0, use runtime instead\n\t\t\tduration: this.runtime\n\t\t});\n\n\t\tconfig.current = undefined;\n\t},\n\n\tqueue: function() {\n\t\tvar bad,\n\t\t\ttest = this;\n\n\t\tfunction run() {\n\t\t\t\/\/ each of these can by async\n\t\t\tsynchronize(function() {\n\t\t\t\ttest.setup();\n\t\t\t});\n\t\t\tsynchronize(function() {\n\t\t\t\ttest.run();\n\t\t\t});\n\t\t\tsynchronize(function() {\n\t\t\t\ttest.teardown();\n\t\t\t});\n\t\t\tsynchronize(function() {\n\t\t\t\ttest.finish();\n\t\t\t});\n\t\t}\n\n\t\t\/\/ `bad` initialized at top of scope\n\t\t\/\/ defer when previous test run passed, if storage is available\n\t\tbad = QUnit.config.reorder && defined.sessionStorage &&\n\t\t\t\t+sessionStorage.getItem( \"qunit-test-\" + this.module + \"-\" + this.testName );\n\n\t\tif ( bad ) {\n\t\t\trun();\n\t\t} else {\n\t\t\tsynchronize( run, true );\n\t\t}\n\t},\n\n\tpush: function( result, actual, expected, message ) {\n\t\tvar source,\n\t\t\tdetails = {\n\t\t\t\tmodule: this.module,\n\t\t\t\tname: this.testName,\n\t\t\t\tresult: result,\n\t\t\t\tmessage: message,\n\t\t\t\tactual: actual,\n\t\t\t\texpected: expected,\n\t\t\t\ttestNumber: this.testNumber\n\t\t\t};\n\n\t\tif ( !result ) {\n\t\t\tsource = sourceFromStacktrace();\n\n\t\t\tif ( source ) {\n\t\t\t\tdetails.source = source;\n\t\t\t}\n\t\t}\n\n\t\trunLoggingCallbacks( \"log\", details );\n\n\t\tthis.assertions.push({\n\t\t\tresult: !!result,\n\t\t\tmessage: message\n\t\t});\n\t},\n\n\tpushFailure: function( message, source, actual ) {\n\t\tif ( !this instanceof Test ) {\n\t\t\tthrow new Error( \"pushFailure() assertion outside test context, was \" + sourceFromStacktrace( 2 ) );\n\t\t}\n\n\t\tvar details = {\n\t\t\t\tmodule: this.module,\n\t\t\t\tname: this.testName,\n\t\t\t\tresult: false,\n\t\t\t\tmessage: message || \"error\",\n\t\t\t\tactual: actual || null,\n\t\t\t\ttestNumber: this.testNumber\n\t\t\t};\n\n\t\tif ( source ) {\n\t\t\tdetails.source = source;\n\t\t}\n\n\t\trunLoggingCallbacks( \"log\", details );\n\n\t\tthis.assertions.push({\n\t\t\tresult: false,\n\t\t\tmessage: message\n\t\t});\n\t}\n};\n\nQUnit.pushFailure = function() {\n\tif ( !QUnit.config.current ) {\n\t\tthrow new Error( \"pushFailure() assertion outside test context, in \" + sourceFromStacktrace( 2 ) );\n\t}\n\n\t\/\/ Gets current test obj\n\tvar currentTest = QUnit.config.current.assert.test;\n\n\treturn currentTest.pushFailure.apply( currentTest, arguments );\n};\n\nfunction Assert( testContext ) {\n\tthis.test = testContext;\n}\n\n\/\/ Assert helpers\nQUnit.assert = Assert.prototype = {\n\n\t\/\/ Specify the number of expected assertions to guarantee that failed test (no assertions are run at all) don't slip through.\n\texpect: function( asserts ) {\n\t\tif ( arguments.length === 1 ) {\n\t\t\tthis.test.expected = asserts;\n\t\t} else {\n\t\t\treturn this.test.expected;\n\t\t}\n\t},\n\n\t\/\/ Exports test.push() to the user API\n\tpush: function() {\n\t\tvar assert = this;\n\n\t\t\/\/ Backwards compatibility fix.\n\t\t\/\/ Allows the direct use of global exported assertions and QUnit.assert.*\n\t\t\/\/ Although, it's use is not recommended as it can leak assertions\n\t\t\/\/ to other tests from async tests, because we only get a reference to the current test,\n\t\t\/\/ not exactly the test where assertion were intended to be called.\n\t\tif ( !QUnit.config.current ) {\n\t\t\tthrow new Error( \"assertion outside test context, in \" + sourceFromStacktrace( 2 ) );\n\t\t}\n\t\tif ( !( assert instanceof Assert ) ) {\n\t\t\tassert = QUnit.config.current.assert;\n\t\t}\n\t\treturn assert.test.push.apply( assert.test, arguments );\n\t},\n\n\t\/**\n\t * Asserts rough true-ish result.\n\t * @name ok\n\t * @function\n\t * @example ok( \"asdfasdf\".length > 5, \"There must be at least 5 chars\" );\n\t *\/\n\tok: function( result, message ) {\n\t\tmessage = message || ( result ? \"okay\" : \"failed, expected argument to be truthy, was: \" +\n\t\t\tQUnit.dump.parse( result ) );\n\t\tif ( !!result ) {\n\t\t\tthis.push( true, result, true, message );\n\t\t} else {\n\t\t\tthis.test.pushFailure( message, null, result );\n\t\t}\n\t},\n\n\t\/**\n\t * Assert that the first two arguments are equal, with an optional message.\n\t * Prints out both actual and expected values.\n\t * @name equal\n\t * @function\n\t * @example equal( format( \"Received {0} bytes.\", 2), \"Received 2 bytes.\", \"format() replaces {0} with next argument\" );\n\t *\/\n\tequal: function( actual, expected, message ) {\n\t\t\/*jshint eqeqeq:false *\/\n\t\tthis.push( expected == actual, actual, expected, message );\n\t},\n\n\t\/**\n\t * @name notEqual\n\t * @function\n\t *\/\n\tnotEqual: function( actual, expected, message ) {\n\t\t\/*jshint eqeqeq:false *\/\n\t\tthis.push( expected != actual, actual, expected, message );\n\t},\n\n\t\/**\n\t * @name propEqual\n\t * @function\n\t *\/\n\tpropEqual: function( actual, expected, message ) {\n\t\tactual = objectValues( actual );\n\t\texpected = objectValues( expected );\n\t\tthis.push( QUnit.equiv( actual, expected ), actual, expected, message );\n\t},\n\n\t\/**\n\t * @name notPropEqual\n\t * @function\n\t *\/\n\tnotPropEqual: function( actual, expected, message ) {\n\t\tactual = objectValues( actual );\n\t\texpected = objectValues( expected );\n\t\tthis.push( !QUnit.equiv( actual, expected ), actual, expected, message );\n\t},\n\n\t\/**\n\t * @name deepEqual\n\t * @function\n\t *\/\n\tdeepEqual: function( actual, expected, message ) {\n\t\tthis.push( QUnit.equiv( actual, expected ), actual, expected, message );\n\t},\n\n\t\/**\n\t * @name notDeepEqual\n\t * @function\n\t *\/\n\tnotDeepEqual: function( actual, expected, message ) {\n\t\tthis.push( !QUnit.equiv( actual, expected ), actual, expected, message );\n\t},\n\n\t\/**\n\t * @name strictEqual\n\t * @function\n\t *\/\n\tstrictEqual: function( actual, expected, message ) {\n\t\tthis.push( expected === actual, actual, expected, message );\n\t},\n\n\t\/**\n\t * @name notStrictEqual\n\t * @function\n\t *\/\n\tnotStrictEqual: function( actual, expected, message ) {\n\t\tthis.push( expected !== actual, actual, expected, message );\n\t},\n\n\t\"throws\": function( block, expected, message ) {\n\t\tvar actual, expectedType,\n\t\t\texpectedOutput = expected,\n\t\t\tok = false;\n\n\t\t\/\/ 'expected' is optional unless doing string comparison\n\t\tif ( message == null && typeof expected === \"string\" ) {\n\t\t\tmessage = expected;\n\t\t\texpected = null;\n\t\t}\n\n\t\tthis.test.ignoreGlobalErrors = true;\n\t\ttry {\n\t\t\tblock.call( this.test.testEnvironment );\n\t\t} catch (e) {\n\t\t\tactual = e;\n\t\t}\n\t\tthis.test.ignoreGlobalErrors = false;\n\n\t\tif ( actual ) {\n\t\t\texpectedType = QUnit.objectType( expected );\n\n\t\t\t\/\/ we don't want to validate thrown error\n\t\t\tif ( !expected ) {\n\t\t\t\tok = true;\n\t\t\t\texpectedOutput = null;\n\n\t\t\t\/\/ expected is a regexp\n\t\t\t} else if ( expectedType === \"regexp\" ) {\n\t\t\t\tok = expected.test( errorString( actual ) );\n\n\t\t\t\/\/ expected is a string\n\t\t\t} else if ( expectedType === \"string\" ) {\n\t\t\t\tok = expected === errorString( actual );\n\n\t\t\t\/\/ expected is a constructor, maybe an Error constructor\n\t\t\t} else if ( expectedType === \"function\" && actual instanceof expected ) {\n\t\t\t\tok = true;\n\n\t\t\t\/\/ expected is an Error object\n\t\t\t} else if ( expectedType === \"object\" ) {\n\t\t\t\tok = actual instanceof expected.constructor &&\n\t\t\t\t\tactual.name === expected.name &&\n\t\t\t\t\tactual.message === expected.message;\n\n\t\t\t\/\/ expected is a validation function which returns true if validation passed\n\t\t\t} else if ( expectedType === \"function\" && expected.call( {}, actual ) === true ) {\n\t\t\t\texpectedOutput = null;\n\t\t\t\tok = true;\n\t\t\t}\n\n\t\t\tthis.push( ok, actual, expectedOutput, message );\n\t\t} else {\n\t\t\tthis.test.pushFailure( message, null, \"No exception was thrown.\" );\n\t\t}\n\t}\n};\n\n\/\/ Test for equality any JavaScript type.\n\/\/ Author: Philippe Rath\u00e9 <prathe@gmail.com>\nQUnit.equiv = (function() {\n\n\t\/\/ Call the o related callback with the given arguments.\n\tfunction bindCallbacks( o, callbacks, args ) {\n\t\tvar prop = QUnit.objectType( o );\n\t\tif ( prop ) {\n\t\t\tif ( QUnit.objectType( callbacks[ prop ] ) === \"function\" ) {\n\t\t\t\treturn callbacks[ prop ].apply( callbacks, args );\n\t\t\t} else {\n\t\t\t\treturn callbacks[ prop ]; \/\/ or undefined\n\t\t\t}\n\t\t}\n\t}\n\n\t\/\/ the real equiv function\n\tvar innerEquiv,\n\n\t\t\/\/ stack to decide between skip\/abort functions\n\t\tcallers = [],\n\n\t\t\/\/ stack to avoiding loops from circular referencing\n\t\tparents = [],\n\t\tparentsB = [],\n\n\t\tgetProto = Object.getPrototypeOf || function( obj ) {\n\t\t\t\/* jshint camelcase: false, proto: true *\/\n\t\t\treturn obj.__proto__;\n\t\t},\n\t\tcallbacks = (function() {\n\n\t\t\t\/\/ for string, boolean, number and null\n\t\t\tfunction useStrictEquality( b, a ) {\n\n\t\t\t\t\/*jshint eqeqeq:false *\/\n\t\t\t\tif ( b instanceof a.constructor || a instanceof b.constructor ) {\n\n\t\t\t\t\t\/\/ to catch short annotation VS 'new' annotation of a\n\t\t\t\t\t\/\/ declaration\n\t\t\t\t\t\/\/ e.g. var i = 1;\n\t\t\t\t\t\/\/ var j = new Number(1);\n\t\t\t\t\treturn a == b;\n\t\t\t\t} else {\n\t\t\t\t\treturn a === b;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t\"string\": useStrictEquality,\n\t\t\t\t\"boolean\": useStrictEquality,\n\t\t\t\t\"number\": useStrictEquality,\n\t\t\t\t\"null\": useStrictEquality,\n\t\t\t\t\"undefined\": useStrictEquality,\n\n\t\t\t\t\"nan\": function( b ) {\n\t\t\t\t\treturn isNaN( b );\n\t\t\t\t},\n\n\t\t\t\t\"date\": function( b, a ) {\n\t\t\t\t\treturn QUnit.objectType( b ) === \"date\" && a.valueOf() === b.valueOf();\n\t\t\t\t},\n\n\t\t\t\t\"regexp\": function( b, a ) {\n\t\t\t\t\treturn QUnit.objectType( b ) === \"regexp\" &&\n\n\t\t\t\t\t\t\/\/ the regex itself\n\t\t\t\t\t\ta.source === b.source &&\n\n\t\t\t\t\t\t\/\/ and its modifiers\n\t\t\t\t\t\ta.global === b.global &&\n\n\t\t\t\t\t\t\/\/ (gmi) ...\n\t\t\t\t\t\ta.ignoreCase === b.ignoreCase &&\n\t\t\t\t\t\ta.multiline === b.multiline &&\n\t\t\t\t\t\ta.sticky === b.sticky;\n\t\t\t\t},\n\n\t\t\t\t\/\/ - skip when the property is a method of an instance (OOP)\n\t\t\t\t\/\/ - abort otherwise,\n\t\t\t\t\/\/ initial === would have catch identical references anyway\n\t\t\t\t\"function\": function() {\n\t\t\t\t\tvar caller = callers[ callers.length - 1 ];\n\t\t\t\t\treturn caller !== Object && typeof caller !== \"undefined\";\n\t\t\t\t},\n\n\t\t\t\t\"array\": function( b, a ) {\n\t\t\t\t\tvar i, j, len, loop, aCircular, bCircular;\n\n\t\t\t\t\t\/\/ b could be an object literal here\n\t\t\t\t\tif ( QUnit.objectType( b ) !== \"array\" ) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tlen = a.length;\n\t\t\t\t\tif ( len !== b.length ) {\n\t\t\t\t\t\t\/\/ safe and faster\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\t\/\/ track reference to avoid circular references\n\t\t\t\t\tparents.push( a );\n\t\t\t\t\tparentsB.push( b );\n\t\t\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\t\t\tloop = false;\n\t\t\t\t\t\tfor ( j = 0; j < parents.length; j++ ) {\n\t\t\t\t\t\t\taCircular = parents[ j ] === a[ i ];\n\t\t\t\t\t\t\tbCircular = parentsB[ j ] === b[ i ];\n\t\t\t\t\t\t\tif ( aCircular || bCircular ) {\n\t\t\t\t\t\t\t\tif ( a[ i ] === b[ i ] || aCircular && bCircular ) {\n\t\t\t\t\t\t\t\t\tloop = true;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tparents.pop();\n\t\t\t\t\t\t\t\t\tparentsB.pop();\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( !loop && !innerEquiv( a[ i ], b[ i ] ) ) {\n\t\t\t\t\t\t\tparents.pop();\n\t\t\t\t\t\t\tparentsB.pop();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tparents.pop();\n\t\t\t\t\tparentsB.pop();\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\n\t\t\t\t\"object\": function( b, a ) {\n\n\t\t\t\t\t\/*jshint forin:false *\/\n\t\t\t\t\tvar i, j, loop, aCircular, bCircular,\n\t\t\t\t\t\t\/\/ Default to true\n\t\t\t\t\t\teq = true,\n\t\t\t\t\t\taProperties = [],\n\t\t\t\t\t\tbProperties = [];\n\n\t\t\t\t\t\/\/ comparing constructors is more strict than using\n\t\t\t\t\t\/\/ instanceof\n\t\t\t\t\tif ( a.constructor !== b.constructor ) {\n\n\t\t\t\t\t\t\/\/ Allow objects with no prototype to be equivalent to\n\t\t\t\t\t\t\/\/ objects with Object as their constructor.\n\t\t\t\t\t\tif ( !( ( getProto( a ) === null && getProto( b ) === Object.prototype ) ||\n\t\t\t\t\t\t\t( getProto( b ) === null && getProto( a ) === Object.prototype ) ) ) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t\/\/ stack constructor before traversing properties\n\t\t\t\t\tcallers.push( a.constructor );\n\n\t\t\t\t\t\/\/ track reference to avoid circular references\n\t\t\t\t\tparents.push( a );\n\t\t\t\t\tparentsB.push( b );\n\n\t\t\t\t\t\/\/ be strict: don't ensure hasOwnProperty and go deep\n\t\t\t\t\tfor ( i in a ) {\n\t\t\t\t\t\tloop = false;\n\t\t\t\t\t\tfor ( j = 0; j < parents.length; j++ ) {\n\t\t\t\t\t\t\taCircular = parents[ j ] === a[ i ];\n\t\t\t\t\t\t\tbCircular = parentsB[ j ] === b[ i ];\n\t\t\t\t\t\t\tif ( aCircular || bCircular ) {\n\t\t\t\t\t\t\t\tif ( a[ i ] === b[ i ] || aCircular && bCircular ) {\n\t\t\t\t\t\t\t\t\tloop = true;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\teq = false;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\taProperties.push( i );\n\t\t\t\t\t\tif ( !loop && !innerEquiv( a[ i ], b[ i ] ) ) {\n\t\t\t\t\t\t\teq = false;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tparents.pop();\n\t\t\t\t\tparentsB.pop();\n\t\t\t\t\tcallers.pop(); \/\/ unstack, we are done\n\n\t\t\t\t\tfor ( i in b ) {\n\t\t\t\t\t\tbProperties.push( i ); \/\/ collect b's properties\n\t\t\t\t\t}\n\n\t\t\t\t\t\/\/ Ensures identical properties name\n\t\t\t\t\treturn eq && innerEquiv( aProperties.sort(), bProperties.sort() );\n\t\t\t\t}\n\t\t\t};\n\t\t}());\n\n\tinnerEquiv = function() { \/\/ can take multiple arguments\n\t\tvar args = [].slice.apply( arguments );\n\t\tif ( args.length < 2 ) {\n\t\t\treturn true; \/\/ end transition\n\t\t}\n\n\t\treturn ( (function( a, b ) {\n\t\t\tif ( a === b ) {\n\t\t\t\treturn true; \/\/ catch the most you can\n\t\t\t} else if ( a === null || b === null || typeof a === \"undefined\" ||\n\t\t\t\t\ttypeof b === \"undefined\" ||\n\t\t\t\t\tQUnit.objectType( a ) !== QUnit.objectType( b ) ) {\n\n\t\t\t\t\/\/ don't lose time with error prone cases\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\treturn bindCallbacks( a, callbacks, [ b, a ] );\n\t\t\t}\n\n\t\t\t\/\/ apply transition with (1..n) arguments\n\t\t}( args[ 0 ], args[ 1 ] ) ) && innerEquiv.apply( this, args.splice( 1, args.length - 1 ) ) );\n\t};\n\n\treturn innerEquiv;\n}());\n\n\/\/ Based on jsDump by Ariel Flesler\n\/\/ http:\/\/flesler.blogspot.com\/2008\/05\/jsdump-pretty-dump-of-any-javascript.html\nQUnit.dump = (function() {\n\tfunction quote( str ) {\n\t\treturn \"\\\"\" + str.toString().replace( \/\"\/g, \"\\\\\\\"\" ) + \"\\\"\";\n\t}\n\tfunction literal( o ) {\n\t\treturn o + \"\";\n\t}\n\tfunction join( pre, arr, post ) {\n\t\tvar s = dump.separator(),\n\t\t\tbase = dump.indent(),\n\t\t\tinner = dump.indent( 1 );\n\t\tif ( arr.join ) {\n\t\t\tarr = arr.join( \",\" + s + inner );\n\t\t}\n\t\tif ( !arr ) {\n\t\t\treturn pre + post;\n\t\t}\n\t\treturn [ pre, inner + arr, base + post ].join( s );\n\t}\n\tfunction array( arr, stack ) {\n\t\tvar i = arr.length,\n\t\t\tret = new Array( i );\n\t\tthis.up();\n\t\twhile ( i-- ) {\n\t\t\tret[ i ] = this.parse( arr[ i ], undefined, stack );\n\t\t}\n\t\tthis.down();\n\t\treturn join( \"[\", ret, \"]\" );\n\t}\n\n\tvar reName = \/^function (\\w+)\/,\n\t\tdump = {\n\t\t\t\/\/ type is used mostly internally, you can fix a (custom)type in advance\n\t\t\tparse: function( obj, type, stack ) {\n\t\t\t\tstack = stack || [];\n\t\t\t\tvar inStack, res,\n\t\t\t\t\tparser = this.parsers[ type || this.typeOf( obj ) ];\n\n\t\t\t\ttype = typeof parser;\n\t\t\t\tinStack = inArray( obj, stack );\n\n\t\t\t\tif ( inStack !== -1 ) {\n\t\t\t\t\treturn \"recursion(\" + ( inStack - stack.length ) + \")\";\n\t\t\t\t}\n\t\t\t\tif ( type === \"function\" ) {\n\t\t\t\t\tstack.push( obj );\n\t\t\t\t\tres = parser.call( this, obj, stack );\n\t\t\t\t\tstack.pop();\n\t\t\t\t\treturn res;\n\t\t\t\t}\n\t\t\t\treturn ( type === \"string\" ) ? parser : this.parsers.error;\n\t\t\t},\n\t\t\ttypeOf: function( obj ) {\n\t\t\t\tvar type;\n\t\t\t\tif ( obj === null ) {\n\t\t\t\t\ttype = \"null\";\n\t\t\t\t} else if ( typeof obj === \"undefined\" ) {\n\t\t\t\t\ttype = \"undefined\";\n\t\t\t\t} else if ( QUnit.is( \"regexp\", obj ) ) {\n\t\t\t\t\ttype = \"regexp\";\n\t\t\t\t} else if ( QUnit.is( \"date\", obj ) ) {\n\t\t\t\t\ttype = \"date\";\n\t\t\t\t} else if ( QUnit.is( \"function\", obj ) ) {\n\t\t\t\t\ttype = \"function\";\n\t\t\t\t} else if ( typeof obj.setInterval !== undefined && typeof obj.document !== \"undefined\" && typeof obj.nodeType === \"undefined\" ) {\n\t\t\t\t\ttype = \"window\";\n\t\t\t\t} else if ( obj.nodeType === 9 ) {\n\t\t\t\t\ttype = \"document\";\n\t\t\t\t} else if ( obj.nodeType ) {\n\t\t\t\t\ttype = \"node\";\n\t\t\t\t} else if (\n\n\t\t\t\t\t\/\/ native arrays\n\t\t\t\t\ttoString.call( obj ) === \"[object Array]\" ||\n\n\t\t\t\t\t\/\/ NodeList objects\n\t\t\t\t\t( typeof obj.length === \"number\" && typeof obj.item !== \"undefined\" && ( obj.length ? obj.item( 0 ) === obj[ 0 ] : ( obj.item( 0 ) === null && typeof obj[ 0 ] === \"undefined\" ) ) )\n\t\t\t\t) {\n\t\t\t\t\ttype = \"array\";\n\t\t\t\t} else if ( obj.constructor === Error.prototype.constructor ) {\n\t\t\t\t\ttype = \"error\";\n\t\t\t\t} else {\n\t\t\t\t\ttype = typeof obj;\n\t\t\t\t}\n\t\t\t\treturn type;\n\t\t\t},\n\t\t\tseparator: function() {\n\t\t\t\treturn this.multiline ? this.HTML ? \"<br \/>\" : \"\\n\" : this.HTML ? \"&nbsp;\" : \" \";\n\t\t\t},\n\t\t\t\/\/ extra can be a number, shortcut for increasing-calling-decreasing\n\t\t\tindent: function( extra ) {\n\t\t\t\tif ( !this.multiline ) {\n\t\t\t\t\treturn \"\";\n\t\t\t\t}\n\t\t\t\tvar chr = this.indentChar;\n\t\t\t\tif ( this.HTML ) {\n\t\t\t\t\tchr = chr.replace( \/\\t\/g, \"   \" ).replace( \/ \/g, \"&nbsp;\" );\n\t\t\t\t}\n\t\t\t\treturn new Array( this.depth + ( extra || 0 ) ).join( chr );\n\t\t\t},\n\t\t\tup: function( a ) {\n\t\t\t\tthis.depth += a || 1;\n\t\t\t},\n\t\t\tdown: function( a ) {\n\t\t\t\tthis.depth -= a || 1;\n\t\t\t},\n\t\t\tsetParser: function( name, parser ) {\n\t\t\t\tthis.parsers[ name ] = parser;\n\t\t\t},\n\t\t\t\/\/ The next 3 are exposed so you can use them\n\t\t\tquote: quote,\n\t\t\tliteral: literal,\n\t\t\tjoin: join,\n\t\t\t\/\/\n\t\t\tdepth: 1,\n\t\t\t\/\/ This is the list of parsers, to modify them, use dump.setParser\n\t\t\tparsers: {\n\t\t\t\twindow: \"[Window]\",\n\t\t\t\tdocument: \"[Document]\",\n\t\t\t\terror: function( error ) {\n\t\t\t\t\treturn \"Error(\\\"\" + error.message + \"\\\")\";\n\t\t\t\t},\n\t\t\t\tunknown: \"[Unknown]\",\n\t\t\t\t\"null\": \"null\",\n\t\t\t\t\"undefined\": \"undefined\",\n\t\t\t\t\"function\": function( fn ) {\n\t\t\t\t\tvar ret = \"function\",\n\t\t\t\t\t\t\/\/ functions never have name in IE\n\t\t\t\t\t\tname = \"name\" in fn ? fn.name : ( reName.exec( fn ) || [] )[ 1 ];\n\n\t\t\t\t\tif ( name ) {\n\t\t\t\t\t\tret += \" \" + name;\n\t\t\t\t\t}\n\t\t\t\t\tret += \"( \";\n\n\t\t\t\t\tret = [ ret, dump.parse( fn, \"functionArgs\" ), \"){\" ].join( \"\" );\n\t\t\t\t\treturn join( ret, dump.parse( fn, \"functionCode\" ), \"}\" );\n\t\t\t\t},\n\t\t\t\tarray: array,\n\t\t\t\tnodelist: array,\n\t\t\t\t\"arguments\": array,\n\t\t\t\tobject: function( map, stack ) {\n\t\t\t\t\t\/*jshint forin:false *\/\n\t\t\t\t\tvar ret = [], keys, key, val, i, nonEnumerableProperties;\n\t\t\t\t\tdump.up();\n\t\t\t\t\tkeys = [];\n\t\t\t\t\tfor ( key in map ) {\n\t\t\t\t\t\tkeys.push( key );\n\t\t\t\t\t}\n\n\t\t\t\t\t\/\/ Some properties are not always enumerable on Error objects.\n\t\t\t\t\tnonEnumerableProperties = [ \"message\", \"name\" ];\n\t\t\t\t\tfor ( i in nonEnumerableProperties ) {\n\t\t\t\t\t\tkey = nonEnumerableProperties[ i ];\n\t\t\t\t\t\tif ( key in map && !( key in keys ) ) {\n\t\t\t\t\t\t\tkeys.push( key );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tkeys.sort();\n\t\t\t\t\tfor ( i = 0; i < keys.length; i++ ) {\n\t\t\t\t\t\tkey = keys[ i ];\n\t\t\t\t\t\tval = map[ key ];\n\t\t\t\t\t\tret.push( dump.parse( key, \"key\" ) + \": \" + dump.parse( val, undefined, stack ) );\n\t\t\t\t\t}\n\t\t\t\t\tdump.down();\n\t\t\t\t\treturn join( \"{\", ret, \"}\" );\n\t\t\t\t},\n\t\t\t\tnode: function( node ) {\n\t\t\t\t\tvar len, i, val,\n\t\t\t\t\t\topen = dump.HTML ? \"&lt;\" : \"<\",\n\t\t\t\t\t\tclose = dump.HTML ? \"&gt;\" : \">\",\n\t\t\t\t\t\ttag = node.nodeName.toLowerCase(),\n\t\t\t\t\t\tret = open + tag,\n\t\t\t\t\t\tattrs = node.attributes;\n\n\t\t\t\t\tif ( attrs ) {\n\t\t\t\t\t\tfor ( i = 0, len = attrs.length; i < len; i++ ) {\n\t\t\t\t\t\t\tval = attrs[ i ].nodeValue;\n\n\t\t\t\t\t\t\t\/\/ IE6 includes all attributes in .attributes, even ones not explicitly set.\n\t\t\t\t\t\t\t\/\/ Those have values like undefined, null, 0, false, \"\" or \"inherit\".\n\t\t\t\t\t\t\tif ( val && val !== \"inherit\" ) {\n\t\t\t\t\t\t\t\tret += \" \" + attrs[ i ].nodeName + \"=\" + dump.parse( val, \"attribute\" );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tret += close;\n\n\t\t\t\t\t\/\/ Show content of TextNode or CDATASection\n\t\t\t\t\tif ( node.nodeType === 3 || node.nodeType === 4 ) {\n\t\t\t\t\t\tret += node.nodeValue;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn ret + open + \"\/\" + tag + close;\n\t\t\t\t},\n\n\t\t\t\t\/\/ function calls it internally, it's the arguments part of the function\n\t\t\t\tfunctionArgs: function( fn ) {\n\t\t\t\t\tvar args,\n\t\t\t\t\t\tl = fn.length;\n\n\t\t\t\t\tif ( !l ) {\n\t\t\t\t\t\treturn \"\";\n\t\t\t\t\t}\n\n\t\t\t\t\targs = new Array( l );\n\t\t\t\t\twhile ( l-- ) {\n\n\t\t\t\t\t\t\/\/ 97 is 'a'\n\t\t\t\t\t\targs[ l ] = String.fromCharCode( 97 + l );\n\t\t\t\t\t}\n\t\t\t\t\treturn \" \" + args.join( \", \" ) + \" \";\n\t\t\t\t},\n\t\t\t\t\/\/ object calls it internally, the key part of an item in a map\n\t\t\t\tkey: quote,\n\t\t\t\t\/\/ function calls it internally, it's the content of the function\n\t\t\t\tfunctionCode: \"[code]\",\n\t\t\t\t\/\/ node calls it internally, it's an html attribute value\n\t\t\t\tattribute: quote,\n\t\t\t\tstring: quote,\n\t\t\t\tdate: quote,\n\t\t\t\tregexp: literal,\n\t\t\t\tnumber: literal,\n\t\t\t\t\"boolean\": literal\n\t\t\t},\n\t\t\t\/\/ if true, entities are escaped ( <, >, \\t, space and \\n )\n\t\t\tHTML: false,\n\t\t\t\/\/ indentation unit\n\t\t\tindentChar: \"  \",\n\t\t\t\/\/ if true, items in a collection, are separated by a \\n, else just a space.\n\t\t\tmultiline: true\n\t\t};\n\n\treturn dump;\n}());\n\n\/\/ back compat\nQUnit.jsDump = QUnit.dump;\n\n\/\/ For browser, export only select globals\nif ( typeof window !== \"undefined\" ) {\n\n\t\/\/ Deprecated\n\t\/\/ Extend assert methods to QUnit and Global scope through Backwards compatibility\n\t(function() {\n\t\tvar i,\n\t\t\tassertions = Assert.prototype;\n\n\t\tfunction applyCurrent( current ) {\n\t\t\treturn function() {\n\t\t\t\tvar assert = new Assert( QUnit.config.current );\n\t\t\t\tcurrent.apply( assert, arguments );\n\t\t\t};\n\t\t}\n\n\t\tfor ( i in assertions ) {\n\t\t\tQUnit[ i ] = applyCurrent( assertions[ i ] );\n\t\t}\n\t})();\n\n\t(function() {\n\t\tvar i, l,\n\t\t\tkeys = [\n\t\t\t\t\"test\",\n\t\t\t\t\"module\",\n\t\t\t\t\"expect\",\n\t\t\t\t\"asyncTest\",\n\t\t\t\t\"start\",\n\t\t\t\t\"stop\",\n\t\t\t\t\"ok\",\n\t\t\t\t\"equal\",\n\t\t\t\t\"notEqual\",\n\t\t\t\t\"propEqual\",\n\t\t\t\t\"notPropEqual\",\n\t\t\t\t\"deepEqual\",\n\t\t\t\t\"notDeepEqual\",\n\t\t\t\t\"strictEqual\",\n\t\t\t\t\"notStrictEqual\",\n\t\t\t\t\"throws\"\n\t\t\t];\n\n\t\tfor ( i = 0, l = keys.length; i < l; i++ ) {\n\t\t\twindow[ keys[ i ] ] = QUnit[ keys[ i ] ];\n\t\t}\n\t})();\n\n\twindow.QUnit = QUnit;\n}\n\n\/\/ For CommonJS environments, export everything\nif ( typeof module !== \"undefined\" && module.exports ) {\n\tmodule.exports = QUnit;\n}\n\n\/\/ Get a reference to the global object, like window in browsers\n}( (function() {\n\treturn this;\n})() ));\n\n\/*istanbul ignore next *\/\n\/*\n * Javascript Diff Algorithm\n *  By John Resig (http:\/\/ejohn.org\/)\n *  Modified by Chu Alan \"sprite\"\n *\n * Released under the MIT license.\n *\n * More Info:\n *  http:\/\/ejohn.org\/projects\/javascript-diff-algorithm\/\n *\n * Usage: QUnit.diff(expected, actual)\n *\n * QUnit.diff( \"the quick brown fox jumped over\", \"the quick fox jumps over\" ) == \"the  quick <del>brown <\/del> fox <del>jumped <\/del><ins>jumps <\/ins> over\"\n *\/\nQUnit.diff = (function() {\n\tvar hasOwn = Object.prototype.hasOwnProperty;\n\n\t\/*jshint eqeqeq:false, eqnull:true *\/\n\tfunction diff( o, n ) {\n\t\tvar i,\n\t\t\tns = {},\n\t\t\tos = {};\n\n\t\tfor ( i = 0; i < n.length; i++ ) {\n\t\t\tif ( !hasOwn.call( ns, n[ i ] ) ) {\n\t\t\t\tns[ n[ i ] ] = {\n\t\t\t\t\trows: [],\n\t\t\t\t\to: null\n\t\t\t\t};\n\t\t\t}\n\t\t\tns[ n[ i ] ].rows.push( i );\n\t\t}\n\n\t\tfor ( i = 0; i < o.length; i++ ) {\n\t\t\tif ( !hasOwn.call( os, o[ i ] ) ) {\n\t\t\t\tos[ o[ i ] ] = {\n\t\t\t\t\trows: [],\n\t\t\t\t\tn: null\n\t\t\t\t};\n\t\t\t}\n\t\t\tos[ o[ i ] ].rows.push( i );\n\t\t}\n\n\t\tfor ( i in ns ) {\n\t\t\tif ( hasOwn.call( ns, i ) ) {\n\t\t\t\tif ( ns[ i ].rows.length === 1 && hasOwn.call( os, i ) && os[ i ].rows.length === 1 ) {\n\t\t\t\t\tn[ ns[ i ].rows[ 0 ] ] = {\n\t\t\t\t\t\ttext: n[ ns[ i ].rows[ 0 ] ],\n\t\t\t\t\t\trow: os[ i ].rows[ 0 ]\n\t\t\t\t\t};\n\t\t\t\t\to[ os[ i ].rows[ 0 ] ] = {\n\t\t\t\t\t\ttext: o[ os[ i ].rows[ 0 ] ],\n\t\t\t\t\t\trow: ns[ i ].rows[ 0 ]\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor ( i = 0; i < n.length - 1; i++ ) {\n\t\t\tif ( n[ i ].text != null && n[ i + 1 ].text == null && n[ i ].row + 1 < o.length && o[ n[ i ].row + 1 ].text == null &&\n\t\t\t\tn[ i + 1 ] == o[ n[ i ].row + 1 ] ) {\n\n\t\t\t\tn[ i + 1 ] = {\n\t\t\t\t\ttext: n[ i + 1 ],\n\t\t\t\t\trow: n[ i ].row + 1\n\t\t\t\t};\n\t\t\t\to[ n[ i ].row + 1 ] = {\n\t\t\t\t\ttext: o[ n[ i ].row + 1 ],\n\t\t\t\t\trow: i + 1\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tfor ( i = n.length - 1; i > 0; i-- ) {\n\t\t\tif ( n[ i ].text != null && n[ i - 1 ].text == null && n[ i ].row > 0 && o[ n[ i ].row - 1 ].text == null &&\n\t\t\t\tn[ i - 1 ] == o[ n[ i ].row - 1 ] ) {\n\n\t\t\t\tn[ i - 1 ] = {\n\t\t\t\t\ttext: n[ i - 1 ],\n\t\t\t\t\trow: n[ i ].row - 1\n\t\t\t\t};\n\t\t\t\to[ n[ i ].row - 1 ] = {\n\t\t\t\t\ttext: o[ n[ i ].row - 1 ],\n\t\t\t\t\trow: i - 1\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\to: o,\n\t\t\tn: n\n\t\t};\n\t}\n\n\treturn function( o, n ) {\n\t\to = o.replace( \/\\s+$\/, \"\" );\n\t\tn = n.replace( \/\\s+$\/, \"\" );\n\n\t\tvar i, pre,\n\t\t\tstr = \"\",\n\t\t\tout = diff( o === \"\" ? [] : o.split( \/\\s+\/ ), n === \"\" ? [] : n.split( \/\\s+\/ ) ),\n\t\t\toSpace = o.match( \/\\s+\/g ),\n\t\t\tnSpace = n.match( \/\\s+\/g );\n\n\t\tif ( oSpace == null ) {\n\t\t\toSpace = [ \" \" ];\n\t\t} else {\n\t\t\toSpace.push( \" \" );\n\t\t}\n\n\t\tif ( nSpace == null ) {\n\t\t\tnSpace = [ \" \" ];\n\t\t} else {\n\t\t\tnSpace.push( \" \" );\n\t\t}\n\n\t\tif ( out.n.length === 0 ) {\n\t\t\tfor ( i = 0; i < out.o.length; i++ ) {\n\t\t\t\tstr += \"<del>\" + out.o[ i ] + oSpace[ i ] + \"<\/del>\";\n\t\t\t}\n\t\t} else {\n\t\t\tif ( out.n[ 0 ].text == null ) {\n\t\t\t\tfor ( n = 0; n < out.o.length && out.o[ n ].text == null; n++ ) {\n\t\t\t\t\tstr += \"<del>\" + out.o[ n ] + oSpace[ n ] + \"<\/del>\";\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor ( i = 0; i < out.n.length; i++ ) {\n\t\t\t\tif ( out.n[ i ].text == null ) {\n\t\t\t\t\tstr += \"<ins>\" + out.n[ i ] + nSpace[ i ] + \"<\/ins>\";\n\t\t\t\t} else {\n\n\t\t\t\t\t\/\/ `pre` initialized at top of scope\n\t\t\t\t\tpre = \"\";\n\n\t\t\t\t\tfor ( n = out.n[ i ].row + 1; n < out.o.length && out.o[ n ].text == null; n++ ) {\n\t\t\t\t\t\tpre += \"<del>\" + out.o[ n ] + oSpace[ n ] + \"<\/del>\";\n\t\t\t\t\t}\n\t\t\t\t\tstr += \" \" + out.n[ i ].text + nSpace[ i ] + pre;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn str;\n\t};\n}());\n\n(function() {\n\n\/\/ Deprecated QUnit.init - Ref #530\n\/\/ Re-initialize the configuration options\nQUnit.init = function() {\n\tvar tests, banner, result, qunit,\n\t\tconfig = QUnit.config;\n\n\tconfig.stats = { all: 0, bad: 0 };\n\tconfig.moduleStats = { all: 0, bad: 0 };\n\tconfig.started = 0;\n\tconfig.updateRate = 1000;\n\tconfig.blocking = false;\n\tconfig.autostart = true;\n\tconfig.autorun = false;\n\tconfig.filter = \"\";\n\tconfig.queue = [];\n\tconfig.semaphore = 1;\n\n\t\/\/ Return on non-browser environments\n\t\/\/ This is necessary to not break on node tests\n\tif ( typeof window === \"undefined\" ) {\n\t\treturn;\n\t}\n\n\tqunit = id( \"qunit\" );\n\tif ( qunit ) {\n\t\tqunit.innerHTML =\n\t\t\t\"<h1 id='qunit-header'>\" + escapeText( document.title ) + \"<\/h1>\" +\n\t\t\t\"<h2 id='qunit-banner'><\/h2>\" +\n\t\t\t\"<div id='qunit-testrunner-toolbar'><\/div>\" +\n\t\t\t\"<h2 id='qunit-userAgent'><\/h2>\" +\n\t\t\t\"<ol id='qunit-tests'><\/ol>\";\n\t}\n\n\ttests = id( \"qunit-tests\" );\n\tbanner = id( \"qunit-banner\" );\n\tresult = id( \"qunit-testresult\" );\n\n\tif ( tests ) {\n\t\ttests.innerHTML = \"\";\n\t}\n\n\tif ( banner ) {\n\t\tbanner.className = \"\";\n\t}\n\n\tif ( result ) {\n\t\tresult.parentNode.removeChild( result );\n\t}\n\n\tif ( tests ) {\n\t\tresult = document.createElement( \"p\" );\n\t\tresult.id = \"qunit-testresult\";\n\t\tresult.className = \"result\";\n\t\ttests.parentNode.insertBefore( result, tests );\n\t\tresult.innerHTML = \"Running...<br\/>&nbsp;\";\n\t}\n};\n\n\/\/ Resets the test setup. Useful for tests that modify the DOM.\n\/*\nDEPRECATED: Use multiple tests instead of resetting inside a test.\nUse testStart or testDone for custom cleanup.\nThis method will throw an error in 2.0, and will be removed in 2.1\n*\/\nQUnit.reset = function() {\n\n\t\/\/ Return on non-browser environments\n\t\/\/ This is necessary to not break on node tests\n\tif ( typeof window === \"undefined\" ) {\n\t\treturn;\n\t}\n\n\tvar fixture = id( \"qunit-fixture\" );\n\tif ( fixture ) {\n\t\tfixture.innerHTML = config.fixture;\n\t}\n};\n\n\/\/ Don't load the HTML Reporter on non-Browser environments\nif ( typeof window === \"undefined\" ) {\n\treturn;\n}\n\nvar config = QUnit.config,\n\thasOwn = Object.prototype.hasOwnProperty,\n\tdefined = {\n\t\tdocument: typeof window.document !== \"undefined\",\n\t\tsessionStorage: (function() {\n\t\t\tvar x = \"qunit-test-string\";\n\t\t\ttry {\n\t\t\t\tsessionStorage.setItem( x, x );\n\t\t\t\tsessionStorage.removeItem( x );\n\t\t\t\treturn true;\n\t\t\t} catch ( e ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}())\n\t};\n\n\/**\n* Escape text for attribute or text content.\n*\/\nfunction escapeText( s ) {\n\tif ( !s ) {\n\t\treturn \"\";\n\t}\n\ts = s + \"\";\n\n\t\/\/ Both single quotes and double quotes (for attributes)\n\treturn s.replace( \/['\"<>&]\/g, function( s ) {\n\t\tswitch ( s ) {\n\t\tcase \"'\":\n\t\t\treturn \"&#039;\";\n\t\tcase \"\\\"\":\n\t\t\treturn \"&quot;\";\n\t\tcase \"<\":\n\t\t\treturn \"&lt;\";\n\t\tcase \">\":\n\t\t\treturn \"&gt;\";\n\t\tcase \"&\":\n\t\t\treturn \"&amp;\";\n\t\t}\n\t});\n}\n\n\/**\n * @param {HTMLElement} elem\n * @param {string} type\n * @param {Function} fn\n *\/\nfunction addEvent( elem, type, fn ) {\n\tif ( elem.addEventListener ) {\n\n\t\t\/\/ Standards-based browsers\n\t\telem.addEventListener( type, fn, false );\n\t} else if ( elem.attachEvent ) {\n\n\t\t\/\/ support: IE <9\n\t\telem.attachEvent( \"on\" + type, fn );\n\t}\n}\n\n\/**\n * @param {Array|NodeList} elems\n * @param {string} type\n * @param {Function} fn\n *\/\nfunction addEvents( elems, type, fn ) {\n\tvar i = elems.length;\n\twhile ( i-- ) {\n\t\taddEvent( elems[ i ], type, fn );\n\t}\n}\n\nfunction hasClass( elem, name ) {\n\treturn ( \" \" + elem.className + \" \" ).indexOf( \" \" + name + \" \" ) >= 0;\n}\n\nfunction addClass( elem, name ) {\n\tif ( !hasClass( elem, name ) ) {\n\t\telem.className += ( elem.className ? \" \" : \"\" ) + name;\n\t}\n}\n\nfunction toggleClass( elem, name ) {\n\tif ( hasClass( elem, name ) ) {\n\t\tremoveClass( elem, name );\n\t} else {\n\t\taddClass( elem, name );\n\t}\n}\n\nfunction removeClass( elem, name ) {\n\tvar set = \" \" + elem.className + \" \";\n\n\t\/\/ Class name may appear multiple times\n\twhile ( set.indexOf( \" \" + name + \" \" ) >= 0 ) {\n\t\tset = set.replace( \" \" + name + \" \", \" \" );\n\t}\n\n\t\/\/ trim for prettiness\n\telem.className = typeof set.trim === \"function\" ? set.trim() : set.replace( \/^\\s+|\\s+$\/g, \"\" );\n}\n\nfunction id( name ) {\n\treturn defined.document && document.getElementById && document.getElementById( name );\n}\n\nfunction getUrlConfigHtml() {\n\tvar i, j, val,\n\t\tescaped, escapedTooltip,\n\t\tselection = false,\n\t\tlen = config.urlConfig.length,\n\t\turlConfigHtml = \"\";\n\n\tfor ( i = 0; i < len; i++ ) {\n\t\tval = config.urlConfig[ i ];\n\t\tif ( typeof val === \"string\" ) {\n\t\t\tval = {\n\t\t\t\tid: val,\n\t\t\t\tlabel: val\n\t\t\t};\n\t\t}\n\n\t\tescaped = escapeText( val.id );\n\t\tescapedTooltip = escapeText( val.tooltip );\n\n\t\tconfig[ val.id ] = QUnit.urlParams[ val.id ];\n\t\tif ( !val.value || typeof val.value === \"string\" ) {\n\t\t\turlConfigHtml += \"<input id='qunit-urlconfig-\" + escaped +\n\t\t\t\t\"' name='\" + escaped + \"' type='checkbox'\" +\n\t\t\t\t( val.value ? \" value='\" + escapeText( val.value ) + \"'\" : \"\" ) +\n\t\t\t\t( config[ val.id ] ? \" checked='checked'\" : \"\" ) +\n\t\t\t\t\" title='\" + escapedTooltip + \"'><label for='qunit-urlconfig-\" + escaped +\n\t\t\t\t\"' title='\" + escapedTooltip + \"'>\" + val.label + \"<\/label>\";\n\t\t} else {\n\t\t\turlConfigHtml += \"<label for='qunit-urlconfig-\" + escaped +\n\t\t\t\t\"' title='\" + escapedTooltip + \"'>\" + val.label +\n\t\t\t\t\": <\/label><select id='qunit-urlconfig-\" + escaped +\n\t\t\t\t\"' name='\" + escaped + \"' title='\" + escapedTooltip + \"'><option><\/option>\";\n\n\t\t\tif ( QUnit.is( \"array\", val.value ) ) {\n\t\t\t\tfor ( j = 0; j < val.value.length; j++ ) {\n\t\t\t\t\tescaped = escapeText( val.value[ j ] );\n\t\t\t\t\turlConfigHtml += \"<option value='\" + escaped + \"'\" +\n\t\t\t\t\t\t( config[ val.id ] === val.value[ j ] ?\n\t\t\t\t\t\t\t( selection = true ) && \" selected='selected'\" : \"\" ) +\n\t\t\t\t\t\t\">\" + escaped + \"<\/option>\";\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( j in val.value ) {\n\t\t\t\t\tif ( hasOwn.call( val.value, j ) ) {\n\t\t\t\t\t\turlConfigHtml += \"<option value='\" + escapeText( j ) + \"'\" +\n\t\t\t\t\t\t\t( config[ val.id ] === j ?\n\t\t\t\t\t\t\t\t( selection = true ) && \" selected='selected'\" : \"\" ) +\n\t\t\t\t\t\t\t\">\" + escapeText( val.value[ j ] ) + \"<\/option>\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( config[ val.id ] && !selection ) {\n\t\t\t\tescaped = escapeText( config[ val.id ] );\n\t\t\t\turlConfigHtml += \"<option value='\" + escaped +\n\t\t\t\t\t\"' selected='selected' disabled='disabled'>\" + escaped + \"<\/option>\";\n\t\t\t}\n\t\t\turlConfigHtml += \"<\/select>\";\n\t\t}\n\t}\n\n\treturn urlConfigHtml;\n}\n\nfunction toolbarUrlConfigContainer() {\n\tvar urlConfigContainer = document.createElement( \"span\" );\n\n\turlConfigContainer.innerHTML = getUrlConfigHtml();\n\n\t\/\/ For oldIE support:\n\t\/\/ * Add handlers to the individual elements instead of the container\n\t\/\/ * Use \"click\" instead of \"change\" for checkboxes\n\t\/\/ * Fallback from event.target to event.srcElement\n\taddEvents( urlConfigContainer.getElementsByTagName( \"input\" ), \"click\", function( event ) {\n\t\tvar params = {},\n\t\t\ttarget = event.target || event.srcElement;\n\t\tparams[ target.name ] = target.checked ?\n\t\t\ttarget.defaultValue || true :\n\t\t\tundefined;\n\t\twindow.location = QUnit.url( params );\n\t});\n\taddEvents( urlConfigContainer.getElementsByTagName( \"select\" ), \"change\", function( event ) {\n\t\tvar params = {},\n\t\t\ttarget = event.target || event.srcElement;\n\t\tparams[ target.name ] = target.options[ target.selectedIndex ].value || undefined;\n\t\twindow.location = QUnit.url( params );\n\t});\n\n\treturn urlConfigContainer;\n}\n\nfunction getModuleNames() {\n\tvar i,\n\t\tmoduleNames = [];\n\n\tfor ( i in config.modules ) {\n\t\tif ( config.modules.hasOwnProperty( i ) ) {\n\t\t\tmoduleNames.push( i );\n\t\t}\n\t}\n\n\tmoduleNames.sort(function( a, b ) {\n\t\treturn a.localeCompare( b );\n\t});\n\n\treturn moduleNames;\n}\n\nfunction toolbarModuleFilterHtml() {\n\tvar i,\n\t\tmoduleFilterHtml = \"\",\n\t\tmoduleNames = getModuleNames();\n\n\tif ( moduleNames.length <= 1 ) {\n\t\treturn false;\n\t}\n\n\tmoduleFilterHtml += \"<label for='qunit-modulefilter'>Module: <\/label>\" +\n\t\t\"<select id='qunit-modulefilter' name='modulefilter'><option value='' \" +\n\t\t( config.module === undefined ? \"selected='selected'\" : \"\" ) +\n\t\t\">< All Modules ><\/option>\";\n\n\tfor ( i = 0; i < moduleNames.length; i++ ) {\n\t\tmoduleFilterHtml += \"<option value='\" +\n\t\t\tescapeText( encodeURIComponent( moduleNames[ i ] ) ) + \"' \" +\n\t\t\t( config.module === moduleNames[ i ] ? \"selected='selected'\" : \"\" ) +\n\t\t\t\">\" + escapeText( moduleNames[ i ] ) + \"<\/option>\";\n\t}\n\tmoduleFilterHtml += \"<\/select>\";\n\n\treturn moduleFilterHtml;\n}\n\nfunction toolbarModuleFilter() {\n\tvar moduleFilter = document.createElement( \"span\" ),\n\t\tmoduleFilterHtml = toolbarModuleFilterHtml();\n\n\tif ( !moduleFilterHtml ) {\n\t\treturn false;\n\t}\n\n\tmoduleFilter.setAttribute( \"id\", \"qunit-modulefilter-container\" );\n\tmoduleFilter.innerHTML = moduleFilterHtml;\n\n\taddEvent( moduleFilter.lastChild, \"change\", function() {\n\t\tvar selectBox = moduleFilter.getElementsByTagName( \"select\" )[ 0 ],\n\t\t\tselectedModule = decodeURIComponent( selectBox.options[ selectBox.selectedIndex ].value );\n\n\t\twindow.location = QUnit.url({\n\t\t\tmodule: ( selectedModule === \"\" ) ? undefined : selectedModule,\n\n\t\t\t\/\/ Remove any existing filters\n\t\t\tfilter: undefined,\n\t\t\ttestNumber: undefined\n\t\t});\n\t});\n\n\treturn moduleFilter;\n}\n\nfunction toolbarFilter() {\n\tvar testList = id( \"qunit-tests\" ),\n\t\tfilter = document.createElement( \"input\" );\n\n\tfilter.type = \"checkbox\";\n\tfilter.id = \"qunit-filter-pass\";\n\n\taddEvent( filter, \"click\", function() {\n\t\tif ( filter.checked ) {\n\t\t\taddClass( testList, \"hidepass\" );\n\t\t\tif ( defined.sessionStorage ) {\n\t\t\t\tsessionStorage.setItem( \"qunit-filter-passed-tests\", \"true\" );\n\t\t\t}\n\t\t} else {\n\t\t\tremoveClass( testList, \"hidepass\" );\n\t\t\tif ( defined.sessionStorage ) {\n\t\t\t\tsessionStorage.removeItem( \"qunit-filter-passed-tests\" );\n\t\t\t}\n\t\t}\n\t});\n\n\tif ( config.hidepassed || defined.sessionStorage &&\n\t\t\tsessionStorage.getItem( \"qunit-filter-passed-tests\" ) ) {\n\t\tfilter.checked = true;\n\n\t\taddClass( testList, \"hidepass\" );\n\t}\n\n\treturn filter;\n}\n\nfunction toolbarLabel() {\n\tvar label = document.createElement( \"label\" );\n\tlabel.setAttribute( \"for\", \"qunit-filter-pass\" );\n\tlabel.setAttribute( \"title\", \"Only show tests and assertions that fail. Stored in sessionStorage.\" );\n\tlabel.innerHTML = \"Hide passed tests\";\n\n\treturn label;\n}\n\nfunction appendToolbar() {\n\tvar moduleFilter,\n\t\ttoolbar = id( \"qunit-testrunner-toolbar\" );\n\n\tif ( toolbar ) {\n\t\ttoolbar.appendChild( toolbarFilter() );\n\t\ttoolbar.appendChild( toolbarLabel() );\n\t\ttoolbar.appendChild( toolbarUrlConfigContainer() );\n\n\t\tmoduleFilter = toolbarModuleFilter();\n\t\tif ( moduleFilter ) {\n\t\t\ttoolbar.appendChild( moduleFilter );\n\t\t}\n\t}\n}\n\nfunction appendBanner() {\n\tvar banner = id( \"qunit-banner\" );\n\n\tif ( banner ) {\n\t\tbanner.className = \"\";\n\t\tbanner.innerHTML = \"<a href='\" +\n\t\t\tQUnit.url({ filter: undefined, module: undefined, testNumber: undefined }) +\n\t\t\t\"'>\" + banner.innerHTML + \"<\/a> \";\n\t}\n}\n\nfunction appendTestResults() {\n\tvar tests = id( \"qunit-tests\" ),\n\t\tresult = id( \"qunit-testresult\" );\n\n\tif ( result ) {\n\t\tresult.parentNode.removeChild( result );\n\t}\n\n\tif ( tests ) {\n\t\ttests.innerHTML = \"\";\n\t\tresult = document.createElement( \"p\" );\n\t\tresult.id = \"qunit-testresult\";\n\t\tresult.className = \"result\";\n\t\ttests.parentNode.insertBefore( result, tests );\n\t\tresult.innerHTML = \"Running...<br>&nbsp;\";\n\t}\n}\n\nfunction storeFixture() {\n\tvar fixture = id( \"qunit-fixture\" );\n\tif ( fixture ) {\n\t\tconfig.fixture = fixture.innerHTML;\n\t}\n}\n\nfunction appendUserAgent() {\n\tvar userAgent = id( \"qunit-userAgent\" );\n\tif ( userAgent ) {\n\t\tuserAgent.innerHTML = navigator.userAgent;\n\t}\n}\n\n\/\/ HTML Reporter initialization and load\nQUnit.begin(function() {\n\tvar qunit = id( \"qunit\" );\n\n\tif ( qunit ) {\n\t\tqunit.innerHTML =\n\t\t\"<h1 id='qunit-header'>\" + escapeText( document.title ) + \"<\/h1>\" +\n\t\t\"<h2 id='qunit-banner'><\/h2>\" +\n\t\t\"<div id='qunit-testrunner-toolbar'><\/div>\" +\n\t\t\"<h2 id='qunit-userAgent'><\/h2>\" +\n\t\t\"<ol id='qunit-tests'><\/ol>\";\n\t}\n\n\tappendBanner();\n\tappendTestResults();\n\tappendUserAgent();\n\tappendToolbar();\n\tstoreFixture();\n});\n\nQUnit.done(function( details ) {\n\tvar i, key,\n\t\tbanner = id( \"qunit-banner\" ),\n\t\ttests = id( \"qunit-tests\" ),\n\t\thtml = [\n\t\t\t\"Tests completed in \",\n\t\t\tdetails.runtime,\n\t\t\t\" milliseconds.<br>\",\n\t\t\t\"<span class='passed'>\",\n\t\t\tdetails.passed,\n\t\t\t\"<\/span> assertions of <span class='total'>\",\n\t\t\tdetails.total,\n\t\t\t\"<\/span> passed, <span class='failed'>\",\n\t\t\tdetails.failed,\n\t\t\t\"<\/span> failed.\"\n\t\t].join( \"\" );\n\n\tif ( banner ) {\n\t\tbanner.className = details.failed ? \"qunit-fail\" : \"qunit-pass\";\n\t}\n\n\tif ( tests ) {\n\t\tid( \"qunit-testresult\" ).innerHTML = html;\n\t}\n\n\tif ( config.altertitle && defined.document && document.title ) {\n\n\t\t\/\/ show \u2716 for good, \u2714 for bad suite result in title\n\t\t\/\/ use escape sequences in case file gets loaded with non-utf-8-charset\n\t\tdocument.title = [\n\t\t\t( details.failed ? \"\\u2716\" : \"\\u2714\" ),\n\t\t\tdocument.title.replace( \/^[\\u2714\\u2716] \/i, \"\" )\n\t\t].join( \" \" );\n\t}\n\n\t\/\/ clear own sessionStorage items if all tests passed\n\tif ( config.reorder && defined.sessionStorage && details.failed === 0 ) {\n\t\tfor ( i = 0; i < sessionStorage.length; i++ ) {\n\t\t\tkey = sessionStorage.key( i++ );\n\t\t\tif ( key.indexOf( \"qunit-test-\" ) === 0 ) {\n\t\t\t\tsessionStorage.removeItem( key );\n\t\t\t}\n\t\t}\n\t}\n\n\t\/\/ scroll back to top to show results\n\tif ( config.scrolltop && window.scrollTo ) {\n\t\twindow.scrollTo( 0, 0 );\n\t}\n});\n\nfunction getNameHtml( name, module ) {\n\tvar nameHtml = \"\";\n\n\tif ( module ) {\n\t\tnameHtml = \"<span class='module-name'>\" + escapeText( module ) + \"<\/span>: \";\n\t}\n\n\tnameHtml += \"<span class='test-name'>\" + escapeText( name ) + \"<\/span>\";\n\n\treturn nameHtml;\n}\n\nQUnit.testStart(function( details ) {\n\tvar a, b, li, running, assertList,\n\t\tname = getNameHtml( details.name, details.module ),\n\t\ttests = id( \"qunit-tests\" );\n\n\tif ( tests ) {\n\t\tb = document.createElement( \"strong\" );\n\t\tb.innerHTML = name;\n\n\t\ta = document.createElement( \"a\" );\n\t\ta.innerHTML = \"Rerun\";\n\t\ta.href = QUnit.url({ testNumber: details.testNumber });\n\n\t\tli = document.createElement( \"li\" );\n\t\tli.appendChild( b );\n\t\tli.appendChild( a );\n\t\tli.className = \"running\";\n\t\tli.id = \"qunit-test-output\" + details.testNumber;\n\n\t\tassertList = document.createElement( \"ol\" );\n\t\tassertList.className = \"qunit-assert-list\";\n\n\t\tli.appendChild( assertList );\n\n\t\ttests.appendChild( li );\n\t}\n\n\trunning = id( \"qunit-testresult\" );\n\tif ( running ) {\n\t\trunning.innerHTML = \"Running: <br>\" + name;\n\t}\n\n});\n\nQUnit.log(function( details ) {\n\tvar assertList, assertLi,\n\t\tmessage, expected, actual,\n\t\ttestItem = id( \"qunit-test-output\" + details.testNumber );\n\n\tif ( !testItem ) {\n\t\treturn;\n\t}\n\n\tmessage = escapeText( details.message ) || ( details.result ? \"okay\" : \"failed\" );\n\tmessage = \"<span class='test-message'>\" + message + \"<\/span>\";\n\n\t\/\/ pushFailure doesn't provide details.expected\n\t\/\/ when it calls, it's implicit to also not show expected and diff stuff\n\t\/\/ Also, we need to check details.expected existence, as it can exist and be undefined\n\tif ( !details.result && hasOwn.call( details, \"expected\" ) ) {\n\t\texpected = escapeText( QUnit.dump.parse( details.expected ) );\n\t\tactual = escapeText( QUnit.dump.parse( details.actual ) );\n\t\tmessage += \"<table><tr class='test-expected'><th>Expected: <\/th><td><pre>\" +\n\t\t\texpected +\n\t\t\t\"<\/pre><\/td><\/tr>\";\n\n\t\tif ( actual !== expected ) {\n\t\t\tmessage += \"<tr class='test-actual'><th>Result: <\/th><td><pre>\" +\n\t\t\t\tactual + \"<\/pre><\/td><\/tr>\" +\n\t\t\t\t\"<tr class='test-diff'><th>Diff: <\/th><td><pre>\" +\n\t\t\t\tQUnit.diff( expected, actual ) + \"<\/pre><\/td><\/tr>\";\n\t\t}\n\n\t\tif ( details.source ) {\n\t\t\tmessage += \"<tr class='test-source'><th>Source: <\/th><td><pre>\" +\n\t\t\t\tescapeText( details.source ) + \"<\/pre><\/td><\/tr>\";\n\t\t}\n\n\t\tmessage += \"<\/table>\";\n\n\t\/\/ this occours when pushFailure is set and we have an extracted stack trace\n\t} else if ( !details.result && details.source ) {\n\t\tmessage += \"<table>\" +\n\t\t\t\"<tr class='test-source'><th>Source: <\/th><td><pre>\" +\n\t\t\tescapeText( details.source ) + \"<\/pre><\/td><\/tr>\" +\n\t\t\t\"<\/table>\";\n\t}\n\n\tassertList = testItem.getElementsByTagName( \"ol\" )[ 0 ];\n\n\tassertLi = document.createElement( \"li\" );\n\tassertLi.className = details.result ? \"pass\" : \"fail\";\n\tassertLi.innerHTML = message;\n\tassertList.appendChild( assertLi );\n});\n\nQUnit.testDone(function( details ) {\n\tvar testTitle, time, testItem, assertList,\n\t\tgood, bad, testCounts,\n\t\ttests = id( \"qunit-tests\" );\n\n\t\/\/ QUnit.reset() is deprecated and will be replaced for a new\n\t\/\/ fixture reset function on QUnit 2.0\/2.1.\n\t\/\/ It's still called here for backwards compatibility handling\n\tQUnit.reset();\n\n\tif ( !tests ) {\n\t\treturn;\n\t}\n\n\ttestItem = id( \"qunit-test-output\" + details.testNumber );\n\tassertList = testItem.getElementsByTagName( \"ol\" )[ 0 ];\n\n\tgood = details.passed;\n\tbad = details.failed;\n\n\t\/\/ store result when possible\n\tif ( config.reorder && defined.sessionStorage ) {\n\t\tif ( bad ) {\n\t\t\tsessionStorage.setItem( \"qunit-test-\" + details.module + \"-\" + details.name, bad );\n\t\t} else {\n\t\t\tsessionStorage.removeItem( \"qunit-test-\" + details.module + \"-\" + details.name );\n\t\t}\n\t}\n\n\tif ( bad === 0 ) {\n\t\taddClass( assertList, \"qunit-collapsed\" );\n\t}\n\n\t\/\/ testItem.firstChild is the test name\n\ttestTitle = testItem.firstChild;\n\n\ttestCounts = bad ?\n\t\t\"<b class='failed'>\" + bad + \"<\/b>, \" + \"<b class='passed'>\" + good + \"<\/b>, \" :\n\t\t\"\";\n\n\ttestTitle.innerHTML += \" <b class='counts'>(\" + testCounts +\n\t\tdetails.assertions.length + \")<\/b>\";\n\n\taddEvent( testTitle, \"click\", function() {\n\t\ttoggleClass( assertList, \"qunit-collapsed\" );\n\t});\n\n\ttime = document.createElement( \"span\" );\n\ttime.className = \"runtime\";\n\ttime.innerHTML = details.runtime + \" ms\";\n\n\ttestItem.className = bad ? \"fail\" : \"pass\";\n\n\ttestItem.insertBefore( time, assertList );\n});\n\nif ( !defined.document || document.readyState === \"complete\" ) {\n\tconfig.autorun = true;\n}\n\nif ( defined.document ) {\n\taddEvent( window, \"load\", QUnit.load );\n}\n\n})();\n","lib\/settings.js":"\/\/\/ \u041a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0434\u043b\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u0442\u0438\u043f\u043e\u0432 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\nwindow.panelSettingsCollection = {\n\tdefault: {\n    'system': {\n      'noframe':1,\n      'debug':1,\n      'version_cmp_to': '300000',\n      'theme': 'base',\n      'theme_m': '',\n      'btnwidth':70,'btnheight':85,\n      'plugins':['battle', 'battleimg', 'outland']\n    },\n    'panes': [\n      {\n        'width':6,\n        'height':4,\n        'buttons': \n        [\n          {\n            'type': 'map_gohome',\n            'title': '\u0414\u043e\u043c\u043e\u0439',\n            'img': 'icons\/home.png',\n            'arguments': {\n              'sector': '151x149'\n            },\n            'left': 0,\n            'top': 0\n          },\n          {\n            'type': 'panel_link',\n            'title': '\u0424\u043e\u0440\u0443\u043c',\n            'img': 'http:\/\/images.ganjawars.ru\/img\/forum\/f27.gif',\n            'arguments': {\n              'link': 'http:\/\/www.ganjawars.ru\/forum.php',\n              'blank': 0\n            },\n            'left': 1,\n            'top': 0\n          },\n          {\n            'type': 'panel_settings',\n            'left':2,'top': 0\n          },\n          {\n            'type': 'map_goport',\n            'arguments': {\n              'port': '151x150'\n            },\n            'left':3,\n            'top': 0\n          },\n          {\n            'type': 'map_gooverlord',\n            'title': 'Overlord',\n            'arguments': {\n              'port': '10'\n            },\n            'left': 4,\n            'img': 'icons\/pokemon.png',\n            'top': 0\n          },\n          {\n            'type': 'panel_exit',\n            'left': 5,\n            'top': 3\n          }\n        ],\n        'widgets': [\n          {\n            'type': 'npc_npc_z',\n            'arguments': {\n              'friends': [5,11],\n              'enemies': [1,4,7,9],\n              'undress':1\n            },\n            'left': 0,\n            'top': 1\n          }\n        ]\n      },\n      {\n        'width':4,\n        'height':4\n      },\n      {\n        'width':6,\n        'height':4\n      },\n      {\n        'width':4,\n        'height':4\n      }\n    ],\n    'widgets': [\n      {\n        'type': 'home_health_widget',\n        'left': 510,\n        'top': 0,\n        'arguments': {\n          'type': 0,\n          'autohide': 1,\n          'size': 2\n        }\n      }\n    ],\n    'home': {\n      'nodura': 1\n    },\n    'stat': {\n\n    },\n    'map': {\n      \n    }\n    \/*'notify': {\n      'nohht': 0,\n      'updateInterval': 0.25,\n      '80': '1',\n      '80_sound': '11',\n      '80_nomsg': '1',\n      '100': 0,'100_sound': 0,'100_nomsg': 0,'singlewar': '1',\n      'arrival': '1',\n      'arrival_sound': '8',\n      'a_nosingleisland': '1',\n      'workend': '1',\n      'workend_sound': 'generic',\n      'singlewar_sound': '14',\n      'singlewar_nomsg': '1',\n      'battle_begin': '1',\n      'battle_begin_sound': '14',\n      'battle_begin_nomsg': 0,'mail_watch': '1',\n      'mail_watch_sound': 'voicemail',\n      'mail_watch_nomsg': '1',\n      'parcel_watch': '1',\n      'parcel_watch_sound': 'send',\n      'parcel_watch_nomsg': '1',\n      'arrival_nomsg': '1',\n      'workend_msg': '1',\n      'workend_nomsg': '1',\n      'synd_war': '1',\n      'synd_war_sound': 'uquestion',\n      'synd_war_nomsg': '1',\n      'npcattck_sound': 0,'npcattck_nomsg': 0,'gwar': '1',\n      'gwar_sound': '25',\n      'gwar_nomsg': 0,'quest_to_sound': '4',\n      'quest_to_nomsg': 0,'quest_ansto_sound': 'ring',\n      'quest_ansto_nomsg': 0,'quest_doto_sound': 'generic',\n      'quest_doto_nomsg': 0,'quest_doto_5_sound': 0,'quest_doto_5_nomsg': 0},'home':{'nohht': 0,'nodura': 0},'battle':{'wartime_s': '10',\n      'battle_moves': '1',\n      'indexes': '1',\n      'nobchat_m': 0,'genuniq': '1',\n      'autogen':1,'nobgen': 0,'autoredo': 0,'noplinfo': 0,'noblines': 0,'nobopacity': 0,'nobdc': 0,'nobfresize': 0,'advSelect': '1',\n      'nobattlepm': 0,\n      'bwords': '\\u043a\\u0443|\\u043f\\u0440\\u0438\\u0432\\u0435\\u0442|\\u043f\\u0440\\u0438\\u0432\\u0435\\u0442 \\u0431\\u0430\\u043d\\u0434\\u0438\\u0442\\u044b)|\\u0445\\u043b\\u0430\\u0431\\u044b\\u0441\\u044c|\\u0431\\u0430\\u0431\\u0430\\u0445|\\u043f\\u044b\\u0449\\u0449\\u0449\\u044c\\u044c\\u044c|Hello World!'\n    },\n    'outland':{\n      'sectorin': '10',\n      'autos': '1',\n      'check_set': '',\n      'fightas': 0,'takeas': '1',\n      'highlight': '1'\n    },\n    'forum': {\n      'expand_quotes': 0,\n      'from_time': 0\n    },\n    'other': {\n      'npcshow': '2',\n      'date_len': '3',\n      'island': '1',\n      'hideKarma': 0,\n      'homesector': '151x149',\n      'homeport': '151x150',\n      'nouse': 0,'masssell': '1',\n      'blevel': '40',\n      'gwzoneruSelected': 'uran',\n      'eun_price': '65000'\n    },*\/\n  }\n}","map\/map.js":"(function(panel) {\njQuery.extend(panel, {\n  map_mmupdate: function(event) {\n    \/\/\u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u043c \u0444\u0443\u043d\u043a\u0446\u0438\u044e \u0438\u0433\u0440\u044b \u0434\u043b\u044f \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0442\u0430\u0439\u043c\u0435\u0440\u0430 \u043f\u0440\u0438 \u043f\u0435\u0440\u0435\u0434\u0432\u0438\u0436\u0435\u043d\u0438\u0438 \u043f\u043e \u0441\u0435\u043a\u0442\u043e\u0440\u0430\u043c\n    window.mmupdate = function() {\n      if (window.mmtimer>=0) clearTimeout(window.mmtimer);\n      window.mmtimer = setTimeout('mmupdate()',1000);\n      if(!window.arriveTime) {\n        var d = new Date;\n        window.arriveTime = parseInt(d.getTime() \/ 1000) + timeleft - 1;\n      };\n      var d = new Date;\n      window.timeleft = window.arriveTime - parseInt(d.getTime() \/ 1000);\n      if (window.timeleft<0) window.timeleft=0;\n      jQuery('#mmdiv').html(__panel.map_formatTime(timeleft));\n    };\n    \n    __panel.get('moveHref', function(moveHref) {\n      if(moveHref && moveHref.length) {\n        __panel.get('moveDest', function(moveDest) {\n          jQuery(document.body).append('<center>\u041f\u0443\u043d\u043a\u0442 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f: ' + moveDest + '<\/center>');\n        });\n        jQuery(document.body).append('<center>\u0421\u0441\u044b\u043b\u043a\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u0430: ' + moveHref + '<\/center>');\n        window.BattleRefreshChat = function() {\n          jQuery.ajax(location.pathname.substr(1), {\n            success: function() {\n              __panel.set('moveHref', 0);\n              location.href = moveHref;\n            }\n          });\n        };\n      }\n    });\n    __panel.loadScript('map\/map_sectors.js', function() {\n      if(document.body.innerHTML.match(\/\u0432 <nobr><b>([^<]+)<\\\/b>\/)) {\n        var sector = RegExp.$1;\n        for(var key in __panel.map_names) {\n          if(__panel.map_names[key] == sector) {\n            __panel.set('map_sector', key);\n            break;\n          }\n        }\n      }\n    });\n    \n  },\n  \n  map_sector: function() {\n    if(document.body.innerHTML.match(\/\u0420\u0430\u0439\u043e\u043d: <a href=['\"]*\\\/map\\.php\\?sx=([0-9]+)[^=]+sy=([0-9]+)\/)) {\n      \/\/alert(RegExp.$1 + 'x' + RegExp.$2);\n      __panel.set('map_sector', RegExp.$1 + 'x' + RegExp.$2);\n    }\n  },\n  \n  map_formatTime: function(s) {\n    var h = Math.floor(s \/ 3600);\n    var m = Math.floor((s - h * 3600) \/ 60);\n    var s = s - h * 3600 - m * 60;\n    return (h > 0? (h < 9? '0' + h: h) + ':': '') + (m < 10? '0' + m: m) + ':' + (s < 10? '0' + s: s);\n  },\n  \n  map_links: function() {\n    for(var i = 0; i < document.links.length; i++) {\n      var link = document.links[i];\n      if(link.href.indexOf('http:\/\/www.ganjawars.ru\/map.php?sx=') != -1) {\n        var matches = link.href.match(\/sx=([0-9]+)&sy=([0-9]+)$\/);\n        if(!matches) continue;\n        var a = jQuery('<a title=\"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u044d\u0442\u043e\u0442 \u0441\u0435\u043a\u0442\u043e\u0440\">[&raquo;]<\/a>')\n          .css({'margin-left': '5px'})\n          .attr('href', 'http:\/\/www.ganjawars.ru\/map.move.php?gps=1&sxy=' + matches[1] + 'x' + matches[2])\n          .click(function() {\n            \/\/\u0417\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u0435\u043c \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443, \u0447\u0442\u043e\u0431\u044b \u043f\u043e \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u0438 \u043f\u0443\u0442\u0438 \u043d\u0430 \u043d\u0435\u0451 \u0432\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f\n            __panel.set('moveHref', location.href);\n            __panel.gotoHref(this.href);\n            return false;\n          });\n        if(location.pathname == '\/statlist.php')\n          a.appendTo(link.parentNode);\n        else \n          jQuery(link).after(a);\n\/\/         var a = document.createElement('a');\n\/\/         \n\/\/         a.innerHTML = '[&raquo;]';\n\/\/         a.title = '\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u044d\u0442\u043e\u0442 \u0441\u0435\u043a\u0442\u043e\u0440';\n\/\/         a.style.margin = '0 0 0 5px';\n\/\/         a.href = 'http:\/\/www.ganjawars.ru\/map.move.php?gps=1&sxy=' + matches[1] + 'x' + matches[2];\n\/\/         Event.observe(a, 'click', function() {\n\/\/           this.sendMessage('a', 'moveHref', document.location.href);\n\/\/         }.bind(this));\n\/\/         if(document.location.pathname == '\/statlist.php')\n\/\/           link.parentNode.appendChild(a);\n\/\/         else\n\/\/           link.parentNode.insertBefore(a, link.nextSibling);\n      };\n    };\n  }\n  \n});\n})(window.__panel);","map\/map_buttons.js":"(function(panel) {\njQuery.extend(panel, {\n  \/\/ \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u0434\u043b\u044f \u0431\u0430\u0437\u043e\u0432\u043e\u0439 \u043a\u043d\u043e\u043f\u043a\u0438 - \u043f\u0435\u0440\u0435\u0445\u043e\u0434 \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435\n  map_gohome: function(event, data) {\n    if(data.sector) {\n      __panel.get('map_sector', function(sector) {\n        if(sector == data.sector) {\n          __panel.gotoHref('http:\/\/www.ganjawars.ru\/me\/');\n        } else {\n          __panel.set('moveHref', 'http:\/\/www.ganjawars.ru\/me\/', function() {\n            __panel.set('moveDest', '\u0414\u043e\u043c\u0430\u0448\u043d\u044f\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043a\u0430', function() {\n              __panel.gotoHref('http:\/\/www.ganjawars.ru\/map.move.php?gps=1&sxy=' + data.sector);\n            });\n          });\n        }\n      });\n    } else {\n      alert('\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d \u0434\u043e\u043c\u0430\u0448\u043d\u0438\u0439 \u0441\u0435\u043a\u0442\u043e\u0440');\n    }\n  },\n\n  map_goport: function(event, data) {\n    if(data.port) {\n      __panel.loadScript('map\/map_sectors.js', function() {\n        var port_href = 'http:\/\/www.ganjawars.ru\/object.php?id=' + __panel.map_ports[data.port].id;\n        __panel.get('map_sector', function(sector) {\n          if(sector == data.port) {\n            __panel.gotoHref(port_href);\n          } else {\n            __panel.set('moveHref', port_href, function() {\n              __panel.set('moveDest', '\u041f\u043e\u0440\u0442 \u0432 ' + __panel.map_ports[data.port].name, function() {\n                __panel.gotoHref('http:\/\/www.ganjawars.ru\/map.move.php?gps=1&sxy=' + data.port);\n              });\n            });\n          }\n        });\n      });\n    } else {\n      alert('\u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d \u043f\u043e\u0440\u0442');\n    }\n  },\n\n  map_goout: function(event, data) {\n    if(data.port) {\n      __panel.loadScript('map\/map_sectors.js', function() {\n        __panel.get('map_sector', function(sector) {\n          var port_href;\n          for(var key in __panel.map_ports) {\n            if(__panel.map_ports[key].sector == data.port) {\n              port_href = 'http:\/\/www.ganjawars.ru\/map.move.php?gps=1&sxy=' + key;\n              break;\n            }\n          }\n          if(__panel.map_ports[sector].sector == data.port) {\n            __panel.gotoHref('http:\/\/www.ganjawars.ru\/map.move.php?seaway=1&sectorin=12&sectorout=' + data.port + '&confirm=1');\n          } else {\n            __panel.set('moveHref', 'http:\/\/www.ganjawars.ru\/map.move.php?seaway=1&sectorin=12&sectorout=' + data.port + '&confirm=1', function() {\n              __panel.set('moveDest', 'Ejection Point', function() {\n                __panel.gotoHref(port_href);\n              });\n            });\n          }\n        });\n      });\n    } else {\n      alert('\u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d \u043f\u043e\u0440\u0442');\n    }\n  },\n  \n  map_gooverlord: function(event, data) {\n    if(data.port) {\n      __panel.loadScript('map\/map_sectors.js', function() {\n        __panel.get('map_sector', function(sector) {\n          var port_href;\n          for(var key in __panel.map_ports) {\n            if(__panel.map_ports[key].sector == data.port) {\n              port_href = 'http:\/\/www.ganjawars.ru\/map.move.php?gps=1&sxy=' + key;\n              break;\n            }\n          }\n          if(__panel.map_ports[sector] && __panel.map_ports[sector].sector == data.port) {\n            __panel.gotoHref('http:\/\/www.ganjawars.ru\/map.move.php?seaway=1&sectorin=13&sectorout=' + data.port + '&confirm=1');\n          } else {\n            __panel.set('moveHref', 'http:\/\/www.ganjawars.ru\/map.move.php?seaway=1&sectorin=13&sectorout=' + data.port + '&confirm=1', function() {\n              __panel.set('moveDest', 'Overlord', function() {\n                __panel.gotoHref(port_href);\n              });\n            });\n          }\n        });\n      });\n    } else {\n      alert('\u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d \u043f\u043e\u0440\u0442');\n    }\n  }\n});\n})(window.__panel);","map\/map_sectors.js":"__panel.map_names = {\n  '150x149': '[Z] Crystal Sector', \n  '150x150': '[Z] Cyborg Capital', \n  '152x148': '[Z] Cygnus Base', \n  '151x150': '[Z] Energy One', \n  '152x151': '[Z] Firecloud', \n  '151x152': '[Z] Freedom End', \n  '149x152': '[Z] Grand Port', \n  '149x150': '[Z] Katenian', \n  '152x149': '[Z] Kintull', \n  '151x149': '[Z] Mind\\'s Eye', \n  '149x149': '[Z] Power Lost', \n  '149x151': '[Z] Surfear', \n  '151x151': '[Z] Tyranny land', \n  '150x151': '[Z] Victoria', \n  '152x152': '[Z] Waterping',\n  '51x49': '[G] 13th District',\n  '48x53': '[G] 47th street',\n  '53x51': '[G] Alice heart',\n  '53x53': '[G] Black Brooklyn',\n  '53x52': '[G] Black point',\n  '51x48': '[G] Bronhs',\n  '48x48': '[G] Burton Riders',\n  '47x50': '[G] Cheaters nest',\n  '51x51': '[G] China-Town',\n  '50x53': '[G] Death avenue',\n  '52x51': '[G] Extrim Hills',\n  '49x53': '[G] Failure of perl',\n  '52x47': '[G] Freestylers',\n  '50x50': '[G] Ganja City Downtown',\n  '48x52': '[G] Ganjabase Southwest',\n  '52x50': '[G] Green Parks',\n  '48x47': '[G] Greenwitch Village',\n  '52x52': '[G] Hammerside',\n  '48x50': '[G] Heavy Fuel',\n  '53x48': '[G] Igel\\'s Fort',\n  '50x49': '[G] Katamza Hills',\n  '53x47': '[G] Killerloop hills',\n  '50x52': '[G] Klamath',\n  '47x53': '[G] Lexus base',\n  '47x51': '[G] Local park',\n  '51x53': '[G] Lost name',\n  '47x48': '[G] Love\\'s pity',\n  '49x49': '[G] Middlemud',\n  '51x50': '[G] N.Y City',\n  '48x49': '[G] Old Dublin',\n  '52x49': '[G] Rastaman\\'s Quarters',\n  '47x52': '[G] Red point',\n  '53x49': '[G] Respect Hill',\n  '48x51': '[G] Riverside North',\n  '52x48': '[G] Rollers Point',\n  '50x47': '[G] Seaside walleys',\n  '50x48': '[G] Shametown',\n  '47x49': '[G] Sheever place',\n  '53x50': '[G] Shipping Bay',\n  '49x51': '[G] Shoreside Vale',\n  '51x47': '[G] Spaceweed Drift',\n  '49x52': '[G] The Wall Streets',\n  '50x51': '[G] Tishka & \u0422\u0438\u0445\u0430\u044f Valley',\n  '51x52': '[G] Vault 15',\n  '49x50': '[G] West Side City',\n  '47x47': '[G] West Village',\n  '52x53': '[G] White Brooklyn',\n  '49x47': '[G] Xenon name',\n  '49x48': '[G] Yanks',\n  '102x101': '[S] Cannabian Peack',\n  '100x99': '[S] Death Land',\n  '99x100': '[S] Dolphin Port',\n  '100x101': '[S] Ice Coast One',\n  '101x101': '[S] Ice Coast Two',\n  '101x100': '[S] North Road',\n  '99x99': '[S] Pola\\'s Cottage',\n  '100x100': '[S] Prison Camp',\n  '123x76': '[P] Coconut Village',\n  '122x78': '[P] Crab Beach',\n  '122x77': '[P] Curumba Village',\n  '123x78': '[P] Ganjamaica',\n  '125x76': '[P] Ganjumeira',\n  '124x76': '[P] Marley Beach',\n  '125x75': '[P] Palm Airport',\n  '121x79': '[P] Palm Village',\n  '123x77': '[P] Pool\\'s Garden',\n  '124x77': '[P] Sky Hotel',\n  '125x77': '[P] Surf Beach',\n  '122x76': '[P] Turtle Beach',\n  '124x78': '[P] White Sands'\n};\n\n__panel.map_ports = {\n  '149x149': {name: '[Z] Power Lost', sector: 7, id: 68977}, \n  '152x148': {name: '[Z] Cygnus Base', sector: 8, id: 68978}, \n  '151x152': {name: '[Z] Freedom End', sector: 9, id: 12083}, \n  '151x150': {name: '[Z] Energy One', sector: 10, id: 22137}, \n  '149x152': {name: '[Z] Grand Port', sector: 11, id: 55915}, \n  '52x50': {name: '[G] Green Parks', sector: 0, id: 11712}, \n  '49x53': {name: '[G] Failure of perl', sector: 1, id: 11718}, \n  '50x47': {name: '[G] Seaside walleys', sector: 2, id: 11739}, \n  '47x49': {name: '[G] Sheever place', sector: 3, id: 68982}, \n  '47x52': {name: '[G] Red point', sector: 4, id: 68981}, \n  '53x53': {name: '[G] Black Brooklyn', sector: 5, id: 68983}, \n  '99x100': {name: '[S] Dolphin Port', sector: 6, id: 11717}, \n  '125x75': {name: '[P] Palm Airport', sector: 13, id: 69403}\n};\n","npc\/npc.js":"(function(panel) {\njQuery.extend(panel, {\n  npc_getStatus: function(dtext) {\n    \/\/\u041f\u0430\u0440\u0441\u0438\u043d\u0433 \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u0441 \u041d\u041f\u0426 \u043f\u043e HTML \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b\n    var result = {\n      status: 0,\n      rejects: 0,\n      succeded: 0,\n      failed: 0\n    };\n    dtext = jQuery(dtext).text();\n    if(dtext.search(\/\u0412\u0430\u0448 \u0441\u0442\u0430\u0442\u0443\u0441:[^0-9\\-]?([0-9\\.\\-]+)\/)) result.status = parseFloat(RegExp.$1);\n    if(dtext.search(\/\u041e\u0442\u043a\u0430\u0437\u043e\u0432:[^0-9]?([0-9]+)\/)) result.rejects = parseInt(RegExp.$1);\n    if(dtext.search(\/\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e:[^0-9]?([0-9]+) \u0437\u0430\u0434\u0430\u043d\u0438\u0439\/)) result.succeded = parseInt(RegExp.$1);\n    if(dtext.search(\/\u041f\u0440\u043e\u0432\u0430\u043b\u0435\u043d\u043e:[^0-9]?([0-9]+) \u0437\u0430\u0434\u0430\u043d\u0438\u0439\/)) result.failed = parseInt(RegExp.$1);\n    return result;\n  },\n  \n  npc_updStatus: function() {\n    var params = __panel.toQueryParams(window.location.search);\n    \n    \/\/ \u0421\u0447\u0438\u0442\u044b\u0432\u0430\u0435\u043c \u0442\u0435\u043a\u0443\u0449\u0438\u0435 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0438 \u043a\u0432\u0435\u0441\u0442\u043e\u0432 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435\n    var status = __panel.npc_getStatus(document.body.innerHTML);\n    status.id = params['id'];\n    \n    this.get('npc' + params['id'], function(npcState) {\n      if(params['action_submit'] == 'yes') {\n        \/\/ \u0421\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435 \u043d\u0430 \u043a\u0432\u0435\u0441\u0442\n        __panel.npc_questSubmit(status);\n      } else if(document.body.innerHTML.indexOf('action_submit=yes') != -1) {\n        \/\/ \u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043a\u0432\u0435\u0441\u0442\u0430, \u0441\u043e\u0431\u0438\u0440\u0430\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435\n        \/\/ \u0438\u0449\u0435\u043c \u043f\u043e \u0442\u0435\u043a\u0441\u0442\u0443 \u043a\u0432\u0435\u0441\u0442\u0430 \u0432\u0440\u0435\u043c\u044f, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u043e\u0442\u0432\u043e\u0434\u0438\u0442\u0441\u044f \u043d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\n        var quest = {};\n        if(document.body.innerHTML.search(\/([0-9]+) \u043c\u0438\u043d\u0443\u0442\/)) {\n          quest['timelimit'] = parseInt(RegExp.$1) * 60;\n        } else if(document.body.innerHTML.search(\/([0-9]+) \u0447\u0430\u0441\u043e\u0432\/)) {\n          quest['timelimit'] = parseInt(RegExp.$1) * 3600;\n        } else if(document.body.innerHTML.indexOf('\u0448\u0435\u0441\u0442\u0438 \u0447\u0430\u0441\u043e\u0432') != -1) {\n          quest['timelimit'] = 21600;\n        };\n        __panel.npc_questInit(status, quest);\n      } else {\n        __panel.npc_questCheck(status, npcState);\n        if(document.body.innerHTML.match(\/\u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 ([0-9]+) \u043c\u0438\u043d\/)) {\n          var time = parseInt(RegExp.$1) * 60;\n          if(time > 0) {\n            npcState.starttime = (new Date()).getTime();\n            npcState.timeout = time;\n            npcState.data = 'next_quest';\n            __panel.set('npc' + npcState.id, npcState);\n            __panel.triggerEvent('npc_update', npcState);\n          }\n        }\n      };\n    });\n    \n    if(params['gwpattack'] == 1) {\n      var href = jQuery('a:contains(\u041d\u0430\u043f\u0430\u0441\u0442\u044c!)').attr('href');\n      if(href) {\n        jQuery('a:contains(\u041d\u0430\u043f\u0430\u0441\u0442\u044c!)').html('\u041d\u0430\u043f\u0430\u0434\u0430\u0435\u043c...').attr('href', '');\n        location.href = href;\n      }\n    }\n    if(params['gwptalk'] == 1) {\n      var href = jQuery('a:contains(\u041d\u0430\u0447\u0430\u0442\u044c \u0440\u0430\u0437\u0433\u043e\u0432\u043e\u0440)').attr('href');\n      if(href && href.length) {\n        jQuery('a:contains(\u041d\u0430\u0447\u0430\u0442\u044c \u0440\u0430\u0437\u0433\u043e\u0432\u043e\u0440)').html('\u0420\u0430\u0437\u0434\u0435\u0432\u0430\u0435\u043c\u0441\u044f...:)').attr('href', '');\n        jQuery.ajax('http:\/\/www.ganjawars.ru\/items.php', {\n          success: function(data) {\n            if(data.match(\/(\\\/home\\.do\\.php\\?dress_off=[0-9a-z]+)\/)) {\n              jQuery.ajax('http:\/\/www.ganjawars.ru' + RegExp.$1, {\n                success: function(data) {\n                  location.href = href;\n                }\n              });\n            }\n          }\n        });\n      }\n    }\n  }, \n  \n  npc_questInit: function(data, quest) {\n    \/\/__panel.setCookie('npc' + id, $H({'st': status, 'rj': rejects, 'sc': succeded, 'fa': failed}).toQueryString());\n    \/\/__panel.npc_questSetTimer(id, 300, 'quest_ansto');\n    \/\/__panel.quest_doto = to;\n  },\n  \n  npc_questSubmit: function(data) {\n    \/\/if(isNaN(__panel.quest_doto)) return;\n    \/\/__panel.npc_questSetTimer(id, __panel.quest_doto, 'quest_doto');\n    \/\/__panel.setCookie('npc' + id, $H({'st': status, 'rj': rejects, 'sc': succeded, 'fa': failed}).toQueryString());\n    \/\/var d = new Date();\n    \/\/d.setSeconds(d.getSeconds() + __panel.quest_doto);\n    \/\/__panel.setCookie('npc' + id + 'to', d.getTime(), d);\n    \/\/__panel.setCookie('npc' + id + 't', 'quest_doto', d);\n  },\n  \n  npc_questCheck: function(data, npcData) {\n    if(npcData && typeof(npcData) == 'object') {\n      if(data.rejects > npcData.rejects || data.succeded > npcData.succeded || data.failed > npcData.failed || data.status != npcData.status) {\n        if(Math.round(Math.abs(data.status - npcData.status) * 100) % 6 == 0 && data.status < npcData.status) { \/\/ \u0441\u0442\u0430\u0442\u0443\u0441 \u0443\u043c\u0435\u043d\u044c\u0448\u0438\u043b\u0441\u044f \u043d\u0430 0.06 \u0432 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0435 \u043d\u0430\u043f\u0430\u0434\u0435\u043d\u0438\u044f\n          var timeout = 1200;\n          if(npcData.timer == 'attack' && (npcData.starttime + timeout * 1000) > (new Date).getTime()) { \/\/ \u0435\u0441\u043b\u0438 \u0442\u0430\u0439\u043c\u0435\u0440 \u0443\u0436\u0435 \u0437\u0430\u043f\u0443\u0449\u0435\u043d, \u043f\u0440\u043e\u0441\u0442\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435\n            __panel.set('npc' + data.id, jQuery.extend(npcData, data));\n            return;\n          };\n          data.timer = 'attack';\n        } else {\n          data.timer = 'next_quest';\n          \/\/ \u041e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u043c \u0442\u0430\u0439\u043c\u0430\u0443\u0442 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0433\u043e \u043a\u0432\u0435\u0441\u0442\u0430 \u043f\u043e \u0444\u043e\u0440\u043c\u0443\u043b\u0435\n          var timeout = 14400 - data.status * 100 * 144;\n          if(timeout < 7200) timeout = 7200;\n        }\n        data.starttime = (new Date()).getTime();\n        data.timeout = timeout;\n        \/\/ \u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0442\u0430\u0439\u043c\u0435\u0440\n        \/\/ \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435\n        __panel.set('npc' + data.id, jQuery.extend(npcData, data));\n        __panel.triggerEvent('npc_update', npcData);\n      };\n    } else {\n      \/\/ \u0414\u0430\u043d\u043d\u044b\u0435 \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u043b\u0438\u0441\u044c, \u0441\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u0442\u044c \u043d\u0435 \u0441 \u0447\u0435\u043c, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u043f\u0440\u043e\u0441\u0442\u043e \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u043c \u0438\u0445 \u0432 \u0441\u0442\u043e\u0440\u0430\u0434\u0436\n      __panel.set('npc' + data.id, data);\n    }\n  },\n  \n  ncp_warlogCheck: function() {\n    __panel.loadScript('npc\/npc_list.js', function() {\n      var list = [];\n      var ids = [];\n      jQuery(__panel.npc_list).each(function() {\n        list.push(this.name);\n        ids.push(this.id);\n      });\n      var matches = document.body.innerHTML.match(new RegExp(list.join('|')));\n      if(matches) {\n        var id = ids[list.indexOf(matches[0])];\n        if(id) {\n          __panel.triggerEvent('npc_battleend', id);\n        }\n      }\n    });\n    \n  },\n  \n  npc_battleEnd: function(id) {\n    jQuery.ajax('http:\/\/www.ganjawars.ru\/npc.php?id=' + id, {\n      success: function(data) {\n        var __data = __panel.npc_getStatus(data);\n        __data.id = id;\n        __panel.get('npc' + id, function(npcData) {\n          __panel.npc_questCheck(__data, npcData);\n        });\n      }\n    });\n  }\n  \n});\n})(window.__panel);","npc\/npc_list.js":"__panel.npc_list_island = {\n  1: [ \/\/ G\n    {id: 2, name: 'Hempy Trown', synd: 5867}, \n    {id: 3, name: 'Rusty Reefer', synd: 5867}, \n    {id: 6, name: 'Donnie Ray', synd: 5865},  \n    {id: 8, name: 'Ricardo Gonzalez', synd: 5863},  \n    {id: 10, name: 'Inamoto Kanushi', synd: 5862},  \n    {id: 12, name: 'John Moretti', synd: 5866}\n  ], \n  2: [ \/\/ Z\n    {id: 1, name: 'Smokie Canablez', synd: 5867}, \n    {id: 4, name: 'Kenny Buzz', synd: 5867},  \n    {id: 5, name: 'Yoshinori Watanabe', synd: 5862},  \n    {id: 7, name: 'Rony James', synd: 5865},  \n    {id: 9, name: 'Tommy Morales', synd: 5863}, \n    {id: 11, name: 'Tony Brandino', synd: 5866}\n  ], \n  3: [ \/\/ P\n    {id: 16, name: 'Takeshi Yamagata', synd: 5862}, \n    {id: 17, name: 'Michael Doyle', synd: 5865},  \n    {id: 18, name: 'Alfonso Morales', synd: 5863},  \n    {id: 19, name: 'Roy Fatico', synd: 5867},  \n    {id: 20, name: 'Giovanni Greco', synd: 5866}\n  ]\n}\n\n__panel.npc_list = [];\nfor(var island = 1; island < 4; island++) {\n  jQuery(__panel.npc_list_island[island]).each(function() {\n    __panel.npc_list.push(this);\n  });\n}","npc\/npc_widgets.js":"(function(panel) {\n  var npcLocationsUpdate, npcLocationsUpdateScript;\n  var npcIntervals = {};\n  \n  function npc_timerFormat(s) {\n    var h = Math.floor(s \/ 3600);\n    var m = Math.floor((s - h * 3600) \/ 60);\n    var s = s - h * 3600 - m * 60;\n    return (h > 0? (h < 9? '0' + h: h) + ':': '') + (m < 10? '0' + m: m) + ':' + (s < 10? '0' + s: s);\n  }\n  \n  function drawTimer(data) {\n    if(!data || !data.id) return;\n    if(npcIntervals[data.id]) {\n      clearInterval(npcIntervals[data.id]);\n    }\n    if(data.timer && (data.starttime + data.timeout * 1000) > (new Date).getTime()) {\n      switch(data.timer) {\n        case 'next_quest':\n          var endTime = data.starttime + data.timeout * 1000;\n          npcIntervals[data.id] = setInterval(function() {\n            var now = (new Date()).getTime();\n            if(endTime <= now) {\n              __panel.triggerEvent('npc_timer', {type: data.timer, id: data.id, timeout: data.timeout});\n              clearInterval(npcIntervals[data.id]);\n              jQuery('#npc' + data.id + 'timer').html('');\n              return;\n            }\n            jQuery('#npc' + data.id + 'timer').html(npc_timerFormat(parseInt((endTime - now) \/ 1000))).attr('title', '\u0412\u0440\u0435\u043c\u044f \u0434\u043e \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0433\u043e \u043a\u0432\u0435\u0441\u0442\u0430');\n          }, 1000);\n          \n        break;\n        case 'attack':\n          var endTime = data.starttime + data.timeout * 1000;\n          npcIntervals[data.id] = setInterval(function() {\n            var now = (new Date()).getTime();\n            if(endTime <= now) {\n              __panel.triggerEvent('npc_timer', {type: data.timer, id: data.id, timeout: data.timeout});\n              clearInterval(npcIntervals[data.id]);\n              jQuery('#npc' + data.id + 'timer').html('');\n              return;\n            }\n            jQuery('#npc' + data.id + 'timer').html(npc_timerFormat(parseInt((endTime - now) \/ 1000))).attr('title', '\u0412\u0440\u0435\u043c\u044f \u0434\u043e \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0433\u043e \u043d\u0430\u043f\u0430\u0434\u0435\u043d\u0438\u044f');\n          }, 1000);\n          \n        break;\n      }\n    }\n  }\n  \njQuery.extend(panel, {\n  \/\/ \u043e\u0442\u0440\u0438\u0441\u043e\u0432\u043a\u0430 NPC\n  npc_widget: function(widget, type, data) {\n    __panel.loadCSS('npc\/npc_widget.css');\n    widget.addClass('npc-widget');\n    var table = jQuery('<table><\/table>').appendTo(widget);\n    __panel.loadScript('npc\/npc_list.js', function() {\n      jQuery(__panel.npc_list_island[type]).map(function() {\n        var id = this.id;\n        var name = this.name;\n        \n        var npcMoveFunc = function(e) {\n          var href = this.href;\n          var npclochref = jQuery('#npc' + id + 'loc a:last').attr('href');\n          var ar = npclochref.split('=');\n          var npcloc = ar[ar.length - 1];\n          __panel.get('map_sector', function(sector) {\n            if(sector == npcloc) { \/\/ \u041c\u044b \u0443\u0436\u0435 \u0432 \u043d\u0443\u0436\u043d\u043e\u043c \u0440\u0430\u0439\u043e\u043d\u0435, \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u043c \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435\n              __panel.gotoHref(href);\n            } else { \/\/ \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u043c \u0432 \u043d\u0443\u0436\u043d\u044b\u0439 \u0440\u0430\u0439\u043e\u043d\n              __panel.set('moveHref', href);\n              __panel.gotoHref(npclochref);\n            }\n          });\n          return false;\n        }\n        var links = jQuery('<span class=\"links\" id=\"npc' + id + 'links\"><\/span>');\n        if(data.friends.indexOf(id) != -1) {\n          links.append(jQuery('<a href=\"http:\/\/www.ganjawars.ru\/npc.php?id=' + id + '&' + (data.undress? 'gwp': '') + 'talk=1\" title=\"\u041d\u0430\u0447\u0430\u0442\u044c \u0440\u0430\u0437\u0433\u043e\u0432\u043e\u0440\"><img src=\"http:\/\/images.ganjawars.ru\/i\/home\/friends.gif\"><\/a>')\n            .click(npcMoveFunc));\n        } else if(data.enemies.indexOf(id) != -1) {\n          links.append(jQuery('<a href=\"http:\/\/www.ganjawars.ru\/npc.php?id=' + id + '&gwpattack=1\" title=\"\u041d\u0430\u043f\u0430\u0441\u0442\u044c\"><img src=\"http:\/\/images.ganjawars.ru\/i\/home\/weapon.gif\"><\/a>')\n            .click(npcMoveFunc));\n          \n        }\n        \n        table.append(\n          jQuery('<tr id=\"npc' + id + '\" class=\"npc' + (data.friends.indexOf(id) == -1? '': ' friend') + (data.enemies.indexOf(id) == -1? '': ' enemy') + '\"><\/tr>')\n          .append(jQuery('<td><\/td>')\n            .append('<img style=\"margin-right: 4px;\" src=\"http:\/\/images.ganjawars.ru\/img\/synds\/' + this.synd + '.gif\" \/>')\n            .append(jQuery('<a href=\"http:\/\/www.ganjawars.ru\/npc.php?id=' + id + '\">' + name + '<\/a>')\n              .click(function() {\n                __panel.gotoHref(this.href);\n                return false;\n              })\n            )\n          )\n          .append(jQuery('<td><\/td>')\n            .append(links)\n          )\n          .append(jQuery('<td><\/td>')\n            .append('<span class=\"timer\" id=\"npc' + id + 'timer\"><\/span>')\n          )\n          .append(jQuery('<td><\/td>')\n            .append('<span class=\"loc\" id=\"npc' + id + 'loc\"><\/span>')\n            .css({'text-align': 'right'})\n          )\n        );\n        \/\/\/ \u041f\u0440\u043e\u0440\u0438\u0441\u043e\u0432\u044b\u0432\u0430\u0435\u043c \u0442\u0430\u0439\u043c\u0435\u0440 \u0438 \u0432\u0441\u0451 \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u043e\u0435\n        __panel.get('npc' + id, function(data) {\n          drawTimer(data);\n        });\n      });\n    \n    });\n    __panel.bind('npc_update', function(data) {\n      drawTimer(data);\n    });\n    widget.append(jQuery('<div class=\"npcupdatetime\"><\/div>').css({'text-align': 'right'}));\n    __panel.npc_requestLocations();\n    setInterval(__panel.npc_requestLocations, 1000 * 300);\n  },\n  npc_requestLocations: function() {\n    var d = new Date;\n    \n    if(!npcLocationsUpdate || !__panel.npcLocations || (npcLocationsUpdate < (d.getTime() - 1000 * 300))) {\n      if(__panel.npcLocations) {\n        for(id in __panel.npcLocations) {\n          var span = jQuery('#npc' + id + 'loc');\n          if(span) {\n            span.innerHTML = ''; \/\/<img src=\"' + this.options.baseURL + '\/modules\/gwjs\/themes\/' + this.options.theme + '\/sets\/progress.gif\" \/>';\n          }\n        }\n      }\n      __panel.npcLocations = false;\n      \/\/if(npcLocationsUpdateScript) document.body.removeElement(npcLocationsUpdateScript);\n      npcLocationsUpdateScript = document.createElement('script');\n      npcLocationsUpdateScript.src = 'http:\/\/gwpanel.org' + '\/modules\/gwjs\/npc\/locations.js?' + d.getTime();\n      document.body.appendChild(npcLocationsUpdateScript);\n    }\n  },\n  \n  npcUpdateLocations: function() {\n    npcLocationsUpdate = __panel.npcUpdateTime * 1000;\n    \n    var updateTime = new Date;\n    updateTime.setTime(__panel.npcUpdateTime * 1000);\n    var timeString = '\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043e ' + updateTime.toLocaleString();\n    \n    jQuery.each(__panel.npcLocations, function(id, item) {\n      var span = jQuery('#npc' + id + 'loc').html('');\n      if(span.length) {\n        var coords = __panel.npcLocations[id].coords.split('x');\n        span.append(\n          jQuery('<a href=\"http:\/\/www.ganjawars.ru\/map.php?sx=' + coords[0] + '&sy=' + coords[1] + '\">' + __panel.npcLocations[id].name + '<\/a>').click(function(){\n            __panel.gotoHref(this.href);\n            return false;\n          })\n          .attr('title', timeString)\n        )\n        .append(jQuery('<a style=\"margin: 0 0 0 5px;\" href=\"http:\/\/www.ganjawars.ru\/map.move.php?gps=1&sxy=' + __panel.npcLocations[id].coords + '\" title=\"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u044d\u0442\u043e\u0442 \u0441\u0435\u043a\u0442\u043e\u0440\">[&raquo;]<\/a>')\n          .click(function() {\n            __panel.set('moveHref', 'http:\/\/www.ganjawars.ru\/npc.php?id=' + id);\n            __panel.gotoHref(this.href);\n            return false;\n          })\n        );\n      }\n    });\n    jQuery(npcLocationsUpdateScript).remove();\n    npcLocationsUpdateScript = false;\n  }\n\n});\n})(window.__panel);","outland\/outland.js":"(function(__panel) {\n\njQuery.extend(__panel, {\n  outland_highlight: function() {\n    document.body.className += ' walk-php';\n    for(var i = 0; i < document.links.length; i++) {\n      var link = document.links[i];\n      if(link.href.indexOf('.php?w=') != -1 && link.href.indexOf('walk') != -1) {\n        if(link.innerHTML.indexOf('t_a.gif') != -1) {\n          link.firstChild.className = 'attack';\n        } else if(link.innerHTML.indexOf('t_o.gif') != -1) {\n          link.firstChild.className = 'busy';\n        } else if(link.innerHTML.indexOf('t_b.gif') != -1) {\n          link.firstChild.className = 'battle';\n        };\n      };\n    };\n  },\n  \n  outland_checkPort: function(options) {\n    if(!isNaN(options.sectorin) && document.forms[1]) {\n      var e = document.getElementsByName('sectorin');\n      if(e.length) {\n        e[0].value = options.sectorin;\n        if(options.autos) {\n          document.forms[1].submit();\n        };\n      };\n    };\n  },\n\n  outland_addHotkeys: function() {\n    var mmoves = {};\n    var mlinks = {};\n    for(var i = 0; i < document.links.length; i++) {\n      var link = document.links[i];\n      if(link.href.search(\/walk(\\.op|\\.ep)\\.php\\?w=[0-9]+&wx=([0-9\\-]+)&wy=([0-9\\-]+)\/) != -1 && (link.innerHTML.indexOf('t.gif') != -1 || link.innerHTML.indexOf('turist') != -1)) {\n        var x = parseInt(RegExp.$2);\n        var y = parseInt(RegExp.$3);\n        if(!mmoves['topleft'] || (mmoves['topleft'][0] + mmoves['topleft'][1] > x + y)) {\n          mmoves['topleft'] = [x, y];\n          mlinks['topleft'] = link;\n        };\n        if(!mmoves['topright'] || (mmoves['topright'][0] - mmoves['topright'][1] < x - y)) {\n          mmoves['topright'] = [x, y];\n          mlinks['topright'] = link;\n        };\n        if(!mmoves['bottomright'] || (mmoves['bottomright'][0] + mmoves['bottomright'][1] < x + y)) {\n          mmoves['bottomright'] = [x, y];\n          mlinks['bottomright'] = link;\n        };\n        if(!mmoves['bottomleft'] || (mmoves['bottomleft'][1] - mmoves['bottomleft'][0] < y - x)) {\n          mmoves['bottomleft'] = [x, y];\n          mlinks['bottomleft'] = link;\n        };\n        if(!mmoves['left'] || (mmoves['left'][0] > x || (mmoves['left'][0] >= x && (Math.abs(mmoves['left'][0]) - Math.abs(mmoves['left'][1]) < Math.abs(x) - Math.abs(y))))) {\n          mmoves['left'] = [x, y];\n          mlinks['left'] = link;\n        };\n        if(!mmoves['right'] || (mmoves['right'][0] < x || (mmoves['right'][0] <=x && (Math.abs(mmoves['right'][0]) - Math.abs(mmoves['right'][1]) < Math.abs(x) - Math.abs(y))))) {\n          mmoves['right'] = [x, y];\n          mlinks['right'] = link;\n        };\n        if(!mmoves['top'] || (mmoves['top'][1] > y || (mmoves['top'][0] >= y && (Math.abs(mmoves['top'][1]) - Math.abs(mmoves['top'][0]) < Math.abs(y) - Math.abs(x))))) {\n          mmoves['top'] = [x, y];\n          mlinks['top'] = link;\n        };\n        if(!mmoves['bottom'] || (mmoves['bottom'][1] < y || (mmoves['bottom'][1] <= y && (Math.abs(mmoves['bottom'][1]) - Math.abs(mmoves['bottom'][0]) < Math.abs(y) - Math.abs(x))))) {\n          mmoves['bottom'] = [x, y];\n          mlinks['bottom'] = link;\n        };\n      } else if(!mlinks['center'] && link.innerHTML.indexOf('anchor.gif') != -1) {\n        mlinks['center'] = link;\n      };\n    };\n    if(mlinks['left']) mlinks['left'].innerHTML = '<div class=\"move_left\">' + mlinks['left'].innerHTML + '<\/div>';\n    if(mlinks['right']) mlinks['right'].innerHTML = '<div class=\"move_right\">' + mlinks['right'].innerHTML + '<\/div>';\n    if(mlinks['top']) mlinks['top'].innerHTML = '<div class=\"move_top\">' + mlinks['top'].innerHTML + '<\/div>';\n    if(mlinks['bottom']) mlinks['bottom'].innerHTML = '<div class=\"move_bottom\">' + mlinks['bottom'].innerHTML + '<\/div>';\n    if(mlinks['topleft']) mlinks['topleft'].innerHTML = '<div class=\"move_topleft\">' + mlinks['topleft'].innerHTML + '<\/div>';\n    if(mlinks['topright']) mlinks['topright'].innerHTML = '<div class=\"move_topright\">' + mlinks['topright'].innerHTML + '<\/div>';\n    if(mlinks['bottomright']) mlinks['bottomright'].innerHTML = '<div class=\"move_bottomright\">' + mlinks['bottomright'].innerHTML + '<\/div>';\n    if(mlinks['bottomleft']) mlinks['bottomleft'].innerHTML = '<div class=\"move_bottomleft\">' + mlinks['bottomleft'].innerHTML + '<\/div>';\n    jQuery(window).focus();\n    jQuery('<input type=\"text\" autocomplete=\"off\">')\n      .css({\n        'height': '1px',\n        'width': '1px',\n        position: 'absolute'\n      })\n      .prependTo(document.body)\n      .focus();\n\n    var keys = {};\n    jQuery(window).keydown(function(e) {\n      switch(e.keyCode) {\n        case 37: keys['left'] = true; return false;\n        case 38: keys['up'] = true; return false;\n        case 39: keys['right'] = true; return false;\n        case 40: keys['down'] = true; return false;\n        default: break;\n      };\n    })\n    .keyup(function(e) {\n      switch(e.keyCode) {\n        case 37: case 100: keys['left'] = true; break;\n        case 38: case 104: keys['up'] = true; break;\n        case 39: case 102: keys['right'] = true; break;\n        case 40: case 98: keys['down'] = true; break;\n        case 103: case 36: keys['up'] = keys['left'] = true; break;\n        case 105: case 33: keys['up'] = keys['right'] = true; break;\n        case 99: case 34: keys['right'] = keys['down'] = true; break;\n        case 97: case 35: keys['down'] = keys['left'] = true; break;\n        case 101: case 13: keys['center'] = true; break;\n        default: break;\n      };\n      if(keys['left'] && keys['up']) {\n        location.href = mlinks['topleft'].href;\n      } else if(keys['right'] && keys['up']) {\n        location.href = mlinks['topright'].href;\n      } else if(keys['left'] && keys['down']) {\n        location.href = mlinks['bottomleft'].href;\n      } else if(keys['right'] && keys['down']) {\n        location.href = mlinks['bottomright'].href;\n      } else if(keys['left']) {\n        location.href = mlinks['left'].href;\n      } else if(keys['right']) {\n        location.href = mlinks['right'].href;\n      } else if(keys['up']) {\n        location.href = mlinks['top'].href;\n      } else if(keys['down']) {\n        location.href = mlinks['bottom'].href;\n      } else if(keys['center']) {\n        if(mlinks['center']) location.href = mlinks['center'].href;\n        else {\n          var d = new Date();\n          location.href = location.href.split('?')[0] + '?' + d.getTime();\n        };\n      };\n      keys = {};\n    });\n  },\n\n  outland_submitFight: function() {\n    var e = document.getElementsByName('startbattle');\n    if(e.length) document.forms[1].submit();\n  },\n\n  outland_submitTake: function() {\n    var e = document.getElementsByName('take');\n    if(e.length) document.forms[1].submit();\n  },\n\n  outland_init: function(options) {\n    if(options.fightas) {\n      __panel.outland_submitFight(options);\n    };\n    if(options.takeas) {\n      __panel.outland_submitTake(options);\n    };\n    __panel.outland_checkPort(options);\n    if(options.highlight) {\n      __panel.loadCSS('outland\/outland.css');\n      __panel.outland_highlight(options);\n    };\n    __panel.outland_addHotkeys(options);\n  }\n\n})})(window.__panel);","panel\/panel.js":"var Panel2 = new function() {\n  \/**\n  * \u0417\u0430\u0449\u0438\u0449\u0451\u043d\u043d\u044b\u0435 \u0430\u0442\u0442\u0440\u0438\u0431\u0443\u0442\u044b\n  * \u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0438\u0437 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0445 \u0438 \u043f\u0443\u0431\u043b\u0438\u0447\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 \n  * \u0421\u043d\u0430\u0440\u0443\u0436\u0438 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 Panel2 \u0432\u044b \u0438\u0445 \u043d\u0438\u043a\u0430\u043a \u043d\u0435 \u0443\u0432\u0438\u0434\u0438\u0442\u0435. \u0418\u043d\u043a\u0430\u043f\u0441\u0443\u043b\u044f\u0446\u0438\u044f \u043e\u0434\u043d\u0430\u043a\u043e.\n  *\/\n  \/\/\/ \u041e\u0431\u044a\u0435\u043a\u0442 \u043f\u0430\u043d\u0435\u043b\u0438\n  var instance;\n  \/\/\/ \u041e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435\n  \/\/\/ \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u044b\u0435 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u044b: dev, production, deploy, testing\n  var environment;\n  \/\/\/ \u0442\u0435\u043a\u0443\u0449\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f\n  var version;\n  \/\/\/ \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043e\u0442\u043a\u0440\u044b\u0442\u043e\u0433\u043e \u043e\u043a\u043d\u0430\n  var windowID;\n  \/\/\/ ID \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a\n  var optionsID;\n  \/\/\/ \u0445\u0435\u0448 \u0431\u0430\u0437\u043e\u0432\u044b\u0445 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a\n  var options = {\n    \/\/\/ \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 \u043e\u043f\u0446\u0438\u0438\n    system: {\n      \/\/\/ \u0442\u0435\u043a\u0443\u0449\u0430\u044f \u0442\u0435\u043c\u0430\n      theme: 'base'\n    },\n    \/\/\/ \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u044b\u0445 \u043e\u043a\u043e\u043d\n    panes: { 0: {}}\n  };\n  \/\/\/ mouseDelta \u0438 mouseSpeed - \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0434\u043b\u044f \u0441\u043b\u0435\u0436\u0435\u043d\u0438\u044f \u0437\u0430 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435\u043c \u043a\u0443\u0440\u0441\u043e\u0440\u0430 \u043c\u044b\u0448\u0438\n  var mouseDelta = 0;\n  var mouseSpeed = 0;\n  \/\/\/ \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u0434\u0433\u0440\u0443\u0436\u0430\u0435\u043c\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0445 \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432\n  var scripts = {};\n  \/\/\/ \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u0434\u0433\u0440\u0443\u0436\u0430\u0435\u043c\u044b\u0445 \u0442\u0430\u0431\u043b\u0438\u0446 \u0441\u0442\u0438\u043b\u0435\u0439\n  var stylesheets = {};\n  \/\/\/ \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b - \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0444\u0440\u0435\u0439\u043c \u0434\u043b\u044f \u043a\u0440\u043e\u0441\u0441 \u0434\u043e\u043c\u0435\u043d\u043d\u043e\u0439 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439, \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u0434\u043e\u043c\u0435\u043d\n  var contentFrame, domain;\n  \/\/\/ \u0424\u043b\u0430\u0433 \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438, \u0441\u0442\u0435\u043a \u0444\u0443\u043d\u043a\u0446\u0438\u0439 \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0430\u0434\u043e \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043f\u043e \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438\n  var is_ready, readyStack = [];\n  \/\/\/ \u0424\u043b\u0430\u0433 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438, initializeStack - \u0441\u0442\u0435\u043a \u0444\u0443\u043d\u043a\u0446\u0438\u0439, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0430\u0434\u043e \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043f\u043e\u0441\u043b\u0435 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438\n  var initialized, initializeStack = [];\n  \/\/\/ \u041b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0435 \u0441\u043b\u0443\u0448\u0430\u0442\u0435\u043b\u0438, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0445 \u0438\u043d\u0434\u043a\u0441\u043e\u0432 \u0434\u043b\u044f \u0441\u043b\u0443\u0448\u0430\u0442\u0435\u043b\u0435\u0439\n  var listenersStack = {};\n  \/\/\/ \u0430\u0434\u0440\u0435\u0441, \u043e\u0442\u043a\u0443\u0434\u0430 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0430 \u043f\u0430\u043d\u0435\u043b\u044c\n  var baseURL;\n  \/\/\/ \u043a\u0443\u043a\u0438 \u0432 \u0432\u0438\u0434\u0435 \u0445\u0435\u0448\u0430\n  var __cookies;\n\n  var timer, prev_timer;\n  \n  \/******************************\n  *******\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0435 \u043c\u0435\u0442\u043e\u0434\u044b********\n  *******************************\/\n  function hideAllPanes() {\n    jQuery('.pane:visible').hide();\n    jQuery('.pane-bubble.active').removeClass('active');\n    $(document.body).off('click', hideAllPanes);\n  }\n  \/**\n  * \u041b\u0435\u043d\u0438\u0432\u0430\u044f \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u044f \u043e\u0434\u043d\u043e\u0439 \u0438\u0437 \u043f\u0430\u043d\u0435\u043b\u0435\u0439, \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f click \u0438\u043b\u0438 mouseover \u0441\u043e\u0431\u044b\u0442\u0438\u0435\u043c\n  * \u0421\u043e\u0437\u0434\u0430\u0451\u0442 \u0432\u0441\u0435 \u043a\u043d\u043e\u043f\u043a\u0438 \u0438 \u0432\u0438\u0434\u0436\u0435\u0442\u044b \u0432\u043d\u0443\u0442\u0440\u0438 \u043f\u0430\u043d\u0435\u043b\u0438 \u0438 \u043f\u0440\u0438\u0432\u044f\u0437\u044b\u0432\u0430\u0435\u0442 \u0441\u043e\u0431\u044b\u0442\u0438\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u0441\u043b\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u0438\n  *\/\n  function activatePane(e) {\n    var $this = jQuery(this);\n    if($this.hasClass('right') && (!e || e.type != 'click') && !$('.pane:visible').length) {\n      \/\/\/ \u041f\u0440\u0430\u0432\u044b\u0435 \u043f\u0430\u043d\u0435\u043b\u0438 \u043d\u0435 \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u0443\u0435\u043c \u043f\u0440\u0438 \u043d\u0430\u0432\u0435\u0434\u0435\u043d\u0438\u0438, \u043f\u043e\u0442\u043e\u043c\u0443 \u0447\u0442\u043e \u0442\u0430\u043c \u0438\u0437-\u0437\u0430 \u0441\u043a\u0440\u043e\u043b\u043b\u0431\u0430\u0440\u0430 \u043b\u043e\u0436\u043d\u044b\u0435 \u0441\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u043d\u0438\u044f\n      return false;\n    }\n    var paneID = $this.attr('paneID');\n    var pane;\n    var pane_options = options.panes[paneID];\n    var hold_positions = {};\n    \n    if((pane = jQuery('#pane-' + paneID)).length) {\n      if(pane.css('display') == 'none') {\n        hideAllPanes();\n        pane.show();\n        jQuery('#pane-bubble-' + paneID).addClass('active');\n      } else if(e && e.type == 'click') {\n        hideAllPanes();\n        return false;\n      }\n    } else {\n      pane = jQuery('<div id=\"pane-' + paneID + '\" class=\"pane' + (paneID < 2? ' left': ' right') + (paneID % 2 > 0? ' bottom': ' top') + '\"><\/div>')\n        .css({\n          width: options.system.btnwidth * pane_options.width,\n          height: options.system.btnheight * pane_options.height\n        });\n      var paneContainer = jQuery('<div class=\"container\"><\/div>').appendTo(pane);\n      var buttons = pane_options.buttons;\n      if(pane_options.buttons.length > 0) {\n        jQuery(buttons).each(function(index) {\n        \/\/for(var i = 0; i < buttons.length; i++) {\n          var type = panel_apply.buttons[this.type];\n          if(!type) {\n            instance.dispatchException('Unknown button type: ' + this.type, 'Pane ' + paneID + ' draw: ');\n            return;\n          }\n          var that = this;\n          var __button_init = function() {\n            if(!instance[type['callback']]) {\n              try{\n                throw('\"' + type['callback'] + '\" for button ' + that.type + ', Pane ' + paneID + ' draw: ');\n              } catch(e) {\n                instance.dispatchException(e, 'Unknown callback function');\n              }\n              return;\n            }\n            var callback = instance[type.callback];\n            if(type.callback_arguments) {\n              var __arguments = type.callback_arguments;\n            } else {\n              var __arguments = that.arguments;\n            }\n            var img = (that.img || type.img);\n            if(img.indexOf('http:') != 0) {\n              img = __panel.path_to_theme() + img;\n            }\n            var __button = jQuery('<div class=\"button\" id=\"button_' + that.type + '_' + index + '\"><\/div>').append(\n              jQuery('<a><div class=\"img\"><img src=\"' + img + '\" \/><\/div><h3>' + (that.title? that.title: type.title) + '<\/h3><\/a>').click(function(e) {\n                if(this.parentNode.dragging) {\n                  this.parentNode.dragging = false;\n                  return false;\n                }\n                this.parentNode.clicked = true;\n                if(type.callback_arguments) {\n                  callback(__arguments);\n                } else {\n                  callback(e, __arguments);\n                }\n                return false;\n              })\n            ).css({\n              left: that.left * options.system.btnwidth,\n              top: that.top * options.system.btnheight,\n              width: options.system.btnwidth,\n              height: options.system.btnheight\n            })\n            .attr('left', that.left).attr('top', that.top).attr('index', index)\n            .appendTo(paneContainer);\n            if(!hold_positions[that.top]) hold_positions[that.top] = {};\n            hold_positions[that.top][that.left] = __button.attr('id');\n          }\n          if(instance[type.callback]) {\n            instance.ready(__button_init);\n          } else {\n            instance.loadScript(type.module + '\/' + type.file, __button_init);\n          }\n\n        });\n      }\n      if(pane_options.buttons.length > 0 || pane_options.widgets.length > 0) {\n\n        paneContainer.mousedown(function(e) {\n          var that = jQuery(e.target).parents('.button, .widget');\n          if(!that.length) return false;\n          var is_widget = that.hasClass('widget');\n          that.clicked = false;\n          \/\/ \u0412\u0443\u0434\u0443 \u043d\u0430\u0447\u0438\u043d\u0430\u0435\u0442\u0441\u044f \u0437\u0434\u0435\u0441\u044c\n          \/\/ \u0417\u0430\u043f\u0443\u0441\u043a \u043f\u0435\u0440\u0435\u0442\u0430\u0441\u043a\u0438\u0432\u0430\u043d\u0438\u044f\n          this.mouseDownTO = setTimeout(function() {\n            if(that[0].clicked) return false;\n            that[0].dragging = true;\n            if(that.hasClass('ui-draggable') || e.which != 1) return false;\n            instance.loadScript('lib\/jquery-ui.custom.js', function() {\n              \/\/alert('ui loaded');\n              \/\/ \u0421\u043e\u0437\u0434\u0430\u0451\u043c placeholders (\"\u043f\u0443\u0441\u0442\u044b\u0435 \u043c\u0435\u0441\u0442\u0430\") \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0442\u0430\u0441\u043a\u0438\u0432\u0430\u043d\u0438\u044f\n              var widget_height = Math.round(parseInt(that.css('height')) \/ options.system.btnheight);\n              var widget_width = Math.round(parseInt(that.css('width')) \/ options.system.btnwidth);\n              var top = parseInt(that.attr('top'));\n              var left = parseInt(that.attr('left'));\n              var id = that.attr('id');\n              for(var i = 0; i < pane_options.width; i++) {\n                for(var j = 0; j < pane_options.height; j++) {\n                  if((hold_positions[j] && hold_positions[j][i]) && hold_positions[j][i] != id) continue;\n                  jQuery('<div class=\"pane-placeholder\"><\/div>')\n                    .attr('top', j)\n                    .attr('left', i)\n                    .css({\n                      height: options.system.btnheight, \n                      width: options.system.btnwidth, \n                      left: i * options.system.btnwidth,\n                      top: j * options.system.btnheight\n                    })\n                    .appendTo(paneContainer);\n                }\n              }\n              that.draggable({\n                containment: 'parent', \n                iframeFix: true,\n                delay: 100, \n                iframeFix: true, \n                opacity: 0.5,\n                snap: '.pane-placeholder', \n                snapMode: 'inner', \n                snapTolerance: options.system.btnWidth, \n                revert: true, \n                cursor: 'move', \n                start: function() {\n                  \/\/start\n                },\n                drag: function(event, ui) {\n                  var left = Math.round(ui.position.left \/ options.system.btnwidth);\n                  var top = Math.round(ui.position.top \/ options.system.btnheight);\n                  \/\/ \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c, \u043f\u0443\u0441\u0442\u043e\u0435 \u043b\u0438 \u043c\u0435\u0441\u0442\u043e (\u0442\u043e\u043b\u044c\u043a\u043e placehloders)\n                  var not_empty = false;\n                  if(is_widget) {\n                    var id = that.attr('id');\n                    start:\n                    for(var __top = top; (top + widget_height) > __top; __top++) {\n                      for(var __left = left; (left + widget_width) > __left; __left++) {\n                        if(!hold_positions[__top]) continue;\n                        if(hold_positions[__top] && hold_positions[__top][__left] && hold_positions[__top][__left] != id) {\n                          not_empty = true;\n                          break start;\n                        }\n                      }\n                    }\n                  } else {\n                    not_empty = hold_positions[top] && hold_positions[top][left];\n                  }\n                  if(not_empty) {\n                    that.draggable('option', 'revert', true);\n                  } else {\n                    \/\/\u0415\u0441\u043b\u0438 \u0435\u0441\u0442\u044c, \u0437\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u0435\u043c \u043f\u043e\u0437\u0438\u0446\u0438\u044e\n                    that.attr('nleft', left);\n                    that.attr('ntop', top);\n                    that.draggable('option', 'revert', false);\n                  }\n                },\n                stop: function() {\n                  if(that[0].dragClassTO > 0) {\n                    clearTimeout(that[0].dragClassTO);\n                    that[0].dragClassTO = 0;\n                  }\n                  setTimeout(function() {\n                    that[0].dragging = false;\n                  }, 20);\n                  if(!that.draggable('option', 'revert')) {\n                    var top = parseInt(that.attr('top'));\n                    var left = parseInt(that.attr('left'));\n                    var new_top = parseInt(that.attr('ntop'));\n                    var new_left = parseInt(that.attr('nleft'));\n                    \n                    if(is_widget) {\n                      for(var __top = top; (top + widget_height) > __top; __top++) {\n                        for(var __left = left; (left + widget_width) > __left; __left++) {\n                          if(!hold_positions[__top]) hold_positions[__top] = {};\n                          hold_positions[__top][__left] = false;\n                        }\n                      }\n                      \n                      for(var __top = new_top; (new_top + widget_height) > __top; __top++) {\n                        for(var __left = new_left; (new_left + widget_width) > __left; __left++) {\n                          if(!hold_positions[__top]) hold_positions[__top] = {};\n                          hold_positions[__top][__left] = that.attr('id');\n                        }\n                      }\n                      \n                    } else {\n                      if(hold_positions[top]) hold_positions[top][left] = false;\n                      if(!hold_positions[new_top]) hold_positions[new_top] = {};\n                      hold_positions[new_top][new_left] = that.attr('id');\n                    }\n                    that.attr('left', new_left);\n                    that.attr('top', new_top);\n                    \/\/ \u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c \u0441\u043e\u0431\u044b\u0442\u0438\u0435 \u0432 \u0434\u0440\u0443\u0433\u0438\u0435 \u043e\u043a\u043d\u0430\n                    instance.triggerEvent('widget_move', {'id': that.attr('id'), left: new_left, top: new_top, hold_positions: hold_positions});\n                    if(is_widget) {\n                      var widgets = options.panes[paneID].widgets;\n                      widgets[that.attr('index')].left = new_left;\n                      widgets[that.attr('index')].top = new_top;\n                      var panes = options.panes;\n                      panes[paneID].widgets = widgets;\n                    } else {\n                      var buttons = options.panes[paneID].buttons;\n                      buttons[that.attr('index')].left = new_left;\n                      buttons[that.attr('index')].top = new_top;\n                      var panes = options.panes;\n                      panes[paneID].buttons = buttons;\n                    }\n                    instance.setOptions(panes, 'panes');\n                  }\n                  that.removeAttr('nleft');\n                  that.removeAttr('ntop');\n                  \n                  that.draggable('destroy');\n                  jQuery('.pane-placeholder').remove();\n                }\n              }).data('draggable')._mouseDown(e);\n              that[0].dragClassTO = setTimeout(function() {\n                that.addClass('ui-draggable-dragging');\n              }, 1500);\n              \/\/e.stopPropagation();\n            });\n          }, 500);\n          return false;\n        }).mouseup(function() {\n          if(this.mouseDownTO) clearTimeout(this.mouseDownTO);\n        });\n      }\n      var widgets = options.panes[paneID].widgets;\n      if(widgets && widgets.length > 0) {\n        jQuery(widgets).each(function(index) {\n        \/\/for(var i = 0; i < widgets.length; i++) {\n          var type = panel_apply.widgets[this.type];\n          if(!type) {\n            instance.dispatchException('Unknown widget type: ' + that.type, 'Pane ' + paneID + ' draw: ');\n            return;\n          }\n          var that = this;\n          var __widget_init = function() {\n            if(!instance[type['callback']]) {\n              try {\n                throw('\"' + type['callback'] + '\" for widget: ' + that.type + ', Pane ' + paneID + ' draw: ');\n              } catch(e) {\n                instance.dispatchException(e, 'Unknown callback function');\n              }\n              return;\n            }\n            var callback = instance[type.callback];\n            var widget_width = (type.width? type.width: (that.arguments.width? that.arguments.width: 1));\n            var widget_height = (type.height? type.height: (that.arguments.height? that.arguments.height: 1));\n            var __widget = jQuery('<div class=\"widget '+ that.type + '\" id=\"widget_' + that.type + '_' + index + '\"><\/div>')\n              .css({\n                width: options.system.btnwidth * widget_width,\n                height: options.system.btnheight * widget_height, \n                left: that.left * options.system.btnwidth, \n                top: that.top * options.system.btnheight\n              })\n              .attr('top', that.top).attr('left', that.left).attr('index', index)\n              .appendTo(paneContainer);\n            \n            __widget[0].widget = that;\n            __widget[0].widget.index = index;\n            __widget[0].widget.paneID = paneID;\n            \n            for(var top = that.top; (that.top + widget_height) > top; top++) {\n              for(var left = that.left; (that.left + widget_width) > left; left++) {\n                if(!hold_positions[top]) hold_positions[top] = {};\n                hold_positions[top][left] = __widget.attr('id');\n              }\n            }\n\n            var __arguments = [__widget];\n            if(type.arguments && type.arguments.length) {\n              for(var i = 0; i < type.arguments.length; i++) __arguments.push(type.arguments[i]);\n            }\n            if(that.arguments) {\n              __arguments.push(that.arguments);\n            }\n            instance[type['callback']].apply(that, __arguments);\n          };\n          if(instance[type.callback]) {\n            instance.ready(__widget_init);\n          } else {\n            instance.loadScript(type.module + '\/' + type.file, __widget_init);\n          }\n        });\n      }\n      jQuery('.pane:visible').hide();\n      jQuery('.pane-bubble.active').removeClass('active');\n      jQuery('#pane-bubble-' + paneID).addClass('active');\n      pane.appendTo(document.body);\n    }\n    \/\/ \u041b\u043e\u0432\u0438\u043c \u0441\u043e\u0431\u044b\u0442\u0438\u044f \u043e \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0438 \u0438\u0437 \u0434\u0440\u0443\u0433\u0438\u0445 \u043e\u043a\u043e\u043d\n    instance.bind('widget_move', function(data) {\n      jQuery('#' + data.id).css({\n        left: data.left * options.system.btnwidth,\n        top: data.top * options.system.btnheight\n      }).attr('left', data.left).attr('top', data.top);\n      hold_positions = data.hold_positions;\n    });\n    \/\/\/ \u041f\u0440\u0438 \u043a\u043b\u0438\u043a\u0435 \u043d\u0430 body, \u0441\u043a\u0440\u044b\u0432\u0430\u0435\u043c \u0432\u0441\u043f\u043b\u044b\u0432\u0430\u0448\u043a\u0443\n    $(document.body).on('click', hideAllPanes);\n    \/\/\/ \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u043d\u0430\u0434\u043e \u0432\u0435\u0440\u043d\u0443\u0442\u044c false, \u0438\u043d\u0430\u0447\u0435 \u043e\u043d \u0443\u0439\u0434\u0451\u0442 \u0432 document.body \n    \/\/\/ \u0438 \u0432\u0441\u0435 \u0432\u0441\u043f\u043b\u044b\u0432\u0430\u0448\u043a\u0438 \u0437\u0430\u043a\u0440\u043e\u044e\u0442\u0441\u044f\n    return false;\n  }\n  \n  \/**\n  * \u0424\u0443\u043d\u043a\u0446\u0438\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438, \u043d\u0430\u0434\u043e \u043b\u0438 \u043e\u0442\u043a\u0440\u044b\u0432\u0430\u0442\u044c \u043f\u0430\u043d\u0435\u043b\u044c. \n  * \u041f\u0430\u043d\u0435\u043b\u044c \u043e\u0442\u043a\u0440\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0435\u0441\u043b\u0438 \u043c\u044b\u0448\u043a\u0430 \u0434\u0432\u0438\u0433\u0430\u043b\u0430\u0441\u044c \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0431\u044b\u0441\u0442\u0440\u043e \u0432 \u0441\u0442\u043e\u0440\u043e\u043d\u0443 \u043f\u043b\u0430\u0448\u043a\u0438 \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u0438\n  *\/\n  function activatePaneCheck() {\n    var that = this;\n    if((Math.abs(mouseDelta) > 0.05 && Math.abs(mouseSpeed) > 0.01) || Math.abs(mouseSpeed) > 0.05 ||  jQuery('.pane:visible').length > 0) {\n      instance.ready(function() {\n        activatePane.apply(that, []);\n      });\n    }\n    instance.__mousestart = false;\n    mouseDelta = 0;\n    if(instance.__mousestartTO > 0) {\n      clearTimeout(instance.__mousestartTO);\n      instance.__mousestartTO = 0;\n    }\n  }\n  \n  \/**\n  * \u0412\u044b\u0432\u043e\u0434 \u043f\u043b\u0430\u0448\u0435\u043a \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u0438\n  *\/\n  function draw_pane_bubbles() {\n    for(var i = 0; i < 4; i++) {\n      if(typeof(options.panes[i]) == 'object') {\n        jQuery('<div id=\"pane-bubble-' + i + '\" class=\"pane-bubble' + (i < 2? ' left': ' right') + (i % 2 > 0? ' bottom': ' top') + '\"><\/div>')\n          .mouseover(activatePaneCheck)\n          .click(function(e) {\n            var that = this;\n            instance.ready(function() {\n              activatePane.apply(that, [e])\n            });\n            return false;\n          })\n          .attr('paneID', i)\n          .css({'display': options.panes[i].widgets && options.panes[i].widgets.length + \n                           options.panes[i].buttons && options.panes[i].buttons.length > 0? \n                           '': 'none'})\n          .appendTo(document.body);\n      }\n    }\n  }\n  \n  \/**\n  * \u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043a\u043d\u043e\u043f\u043e\u043a. \u041f\u043e\u0434\u0433\u0440\u0443\u0436\u0430\u044e\u0442\u0441\u044f \u043d\u0443\u0436\u043d\u044b\u0435 \u0441\u043a\u0440\u0438\u043f\u0442\u044b.\n  *\/\n  function initButtons() {\n    var modules = {};\n    \n    for(var i = 0; i < 4; i++) {\n      if(typeof(options.panes[i]) == 'object' && typeof(options.panes[i].buttons) == 'object') {\n        for(var j = 0; j < options.panes[i].buttons.length; j++) {\n          var type = options.panes[i].buttons[j].type;\n          var module = panel_apply.buttons[type];\n          if(module) {\n            if(typeof(modules[module.module]) == 'undefined') {\n              modules[module.module] = [];\n            }\n            if(modules[module.module].indexOf(module.file) == -1)\n              modules[module.module].push(module.file);\n          }\n        }\n      }\n    }\n    for(var module in modules) {\n      for(var i = 0; i < modules[module].length; i++) {\n        if(typeof(modules[module][i]) != 'undefined') {\n          instance.loadScript(module + '\/' + modules[module][i]);\n        }\n      }\n    }\n  }\n  \n  \/**\n  * \u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0432\u0438\u0434\u0436\u0435\u0442\u043e\u0432. \u041f\u043e\u0434\u0433\u0440\u0443\u0436\u0430\u044e\u0442\u0441\u044f \u043d\u0443\u0436\u043d\u044b\u0435 \u0441\u043a\u0440\u0438\u043f\u0442\u044b.\n  *\/\n  function initWidgets() {\n    var modules = {};\n    \n    for(var i = 0; i < 4; i++) {\n      if(typeof(options.panes[i]) == 'object' && typeof(options.panes[i].widgets) == 'object') {\n        for(var j = 0; j < options.panes[i].widgets.length; j++) {\n          var type = options.panes[i].widgets[j].type;\n          var module = panel_apply.widgets[type];\n          if(typeof(modules[module.module]) == 'undefined') {\n            modules[module.module] = [];\n          }\n          if(modules[module.module].indexOf(module.file) == -1)\n            modules[module.module].push(module.file);\n        }\n      }\n    }\n    for(var module in modules) {\n      for(var i = 0; i < modules[module].length; i++) {\n        instance.loadScript(module + '\/' + modules[module][i]);\n      }\n    }\n  }\n  \n  \/**\n  * \u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0438 \u043e\u0442\u0440\u0438\u0441\u043e\u0432\u043a\u0430 \u043f\u043b\u0430\u0432\u0430\u044e\u0449\u0438\u0445 \u0432\u0438\u0434\u0436\u0435\u0442\u043e\u0432\n  *\/\n  function initFloatWidgets() {\n    var modules = {};\n    \n    if(typeof(options.widgets) == 'object') {\n      for(var j = 0; j < options.widgets.length; j++) {\n        var type = options.widgets[j].type;\n        var module = panel_apply.widgets[type];\n        if(typeof(modules[module.module]) == 'undefined') {\n          modules[module.module] = [];\n        }\n        if(modules[module.module].indexOf(module.file) == -1)\n          modules[module.module].push({file: module.file, widget: options.widgets[j], index: j});\n      }\n    }\n    for(var module in modules) {\n      for(var i = 0; i < modules[module].length; i++) {\n        var widget = modules[module][i].widget;\n        widget.index = modules[module][i].index;\n        widget.float = true;\n        instance.loadScript(module + '\/' + modules[module][i].file, function() {\n          var type = panel_apply.widgets[widget.type];\n          if(typeof(instance[type.callback]) == 'undefined') {\n            throw('Function ' + type.callback + ' for widget ' + widget.type + ' not found');\n          } else {\n            var width = type.width * options.system.btnwidth;\n            var height = type.height * options.system.btnheight;\n            var __widget = jQuery('<div class=\"float-widget ' + widget.type + '\"><\/div>')\n              .attr('id', 'float-' + widget.index + '-' + widget.type)\n              .css({\n                left: widget.left,\n                top: widget.top, \n                width: width,\n                height: height\n              })\n              .appendTo(document.body);\n            if(widget.left + width> jQuery(window).width()) __widget.css({left: jQuery(window).width() - width - 12});\n            if(widget.height + height> jQuery(window).height()) __widget.css({height: jQuery(window).height() - height - 12});\n            __widget[0].widget = widget;\n            instance[type.callback].apply(instance, [__widget, widget.arguments]);\n            __widget.mousedown(function(e) {\n              if(jQuery(e.target).hasClass('float-widget')) var that = jQuery(e.target);\n              else var that = jQuery(e.target).parents('.float-widget');\n              if(!that.length) return false;\n              that.clicked = false;\n              \/\/ \u0417\u0430\u043f\u0443\u0441\u043a \u043f\u0435\u0440\u0435\u0442\u0430\u0441\u043a\u0438\u0432\u0430\u043d\u0438\u044f\n              this.mouseDownTO = setTimeout(function() {\n                if(that[0].clicked) return false;\n                that[0].dragging = true;\n                if(that.hasClass('ui-draggable') || e.which != 1) return false;\n                instance.loadScript('lib\/jquery-ui.custom.js', function() {\n                  \/\/alert('ui loaded');\n                  \/\/ \u0421\u043e\u0437\u0434\u0430\u0451\u043c placeholders (\"\u043f\u0443\u0441\u0442\u044b\u0435 \u043c\u0435\u0441\u0442\u0430\") \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0442\u0430\u0441\u043a\u0438\u0432\u0430\u043d\u0438\u044f\n                  var id = that.attr('id');\n                  that.draggable({\n                    containment: 'window', \n                    delay: 100, \n                    iframeFix: true, \n                    opacity: 0.5,\n                    cursor: 'move', \n                    start: function() {\n                      \/\/start\n                    },\n                    stop: function(e, ui) {\n                      if(that[0].dragClassTO > 0) {\n                        clearTimeout(that[0].dragClassTO);\n                        that[0].dragClassTO = 0;\n                      }\n                      setTimeout(function() {\n                        that[0].dragging = false;\n                      }, 20);\n                      var left = Math.round(ui.position.left);\n                      var top = Math.round(ui.position.top);\n                      options.widgets[widget.index].left = left;\n                      options.widgets[widget.index].top = top;\n                      instance.setOptions(options.widgets, 'widgets');\n                      instance.triggerEvent('float_widget_move', {'id': that.attr('id'), left: left, top: top, index: widget.index});\n                      \n                      that.draggable('destroy');\n                    }\n                  }).data('draggable')._mouseDown(e);\n                  that[0].dragClassTO = setTimeout(function() {\n                    that.addClass('ui-draggable-dragging');\n                  }, 1500);\n                  \/\/e.stopPropagation();\n                });\n              }, 500);\n              return false;\n            }).mouseup(function() {\n              if(this.mouseDownTO) clearTimeout(this.mouseDownTO);\n            });\n        \n          }\n        });\n      }\n    }\n    instance.bind('float_widget_move', function(data) {\n      jQuery('#' + data.id).css({\n        left: data.left,\n        top: data.top\n      });\n      options.widgets[data.index].left = data.left;\n      options.widgets[data.index].top = data.top;\n    });\n  }\n  \n  \/**\n  * \u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0432\u0441\u0435\u0433\u043e \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430\n  *\/\n  function initInterface() {\n    if(document.getElementsByClassName.toString().indexOf('native') == -1) {\n      \/\/ Prototype \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442 \u044d\u0442\u0443 \u0444\u0443\u043d\u043a\u0446\u0438\u044e, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c \u0435\u0439 \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u043e\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435\n      delete document.getElementsByClassName;\n    }\n    jQuery(window).focus(function() {\n      instance.crossWindow.set('focused', instance.crossWindow.windowID);\n    });\n    jQuery(window).mousemove(function(e) {\n      if(!instance.__mousestart) {\n        instance.__mousestart = true;\n        instance.__mousestartx = e.clientX;\n        mouseDelta = 0;\n        mouseSpeed = 0;\n        instance.__mousestartTime = (new Date()).getTime();\n        if(instance.__mousestartTO > 0) {\n          clearTimeout(instance.__mousestartTO);\n          instance.__mousestartTO = 0;\n        }\n      } else {\n        mouseDelta = (e.clientX - instance.__mousestartx) \/jQuery(window).width();\n        mouseSpeed = (instance.__mouseprevx - e.clientX) \/ (instance.__mousestartTime - (new Date()).getTime());\n        if(instance.__mousestartTO > 0) clearTimeout(instance.__mousestartTO);\n        instance.__mousestartTO = setTimeout(function() {\n          instance.__mousestart = false;\n          mouseDelta = 0;\n          instance.__mousestartTO = 0;\n        }, 200);\n      }\n      instance.__mouseprevx = e.clientX;\n    });\n    \n    initButtons();\n    initWidgets();\n    \n    instance.ready(initFloatWidgets);\n    \n    \/\/ \u041f\u0440\u043e\u0440\u0438\u0441\u043e\u0432\u043a\u0430, \u0435\u0451 \u043d\u0443\u0436\u043d\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u044c \u043f\u043e\u0441\u043b\u0435 \u0442\u043e\u0433\u043e \u043a\u0430\u043a \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u044b \u0432\u0441\u0435 \u043e\u043f\u0446\u0438\u0438 \u0438 \u043f\u043e\u0434\u0433\u0440\u0443\u0436\u0435\u043d\u044b \u0441\u0442\u0438\u043b\u0438\n    draw_pane_bubbles();\n  }\n  \n  function clearTimeouts(w) {\n    if(!w) w = window;\n    var s = w.setTimeout('void 0;', 1000);\n    for(var i = s; i > s - 100; i--) {\n      w.clearTimeout(i);\n    };\n  }\n  \n  function checkTime(name) {\n    var new_timer = (new Date()).getTime();\n    console.log(name + ': ' + '+' + (prev_timer? (new_timer - prev_timer) + ' ms, ': '') + \n                (new_timer - timer) + ' ms from start');\n    prev_timer = new_timer;\n  }\n  \/**\n  * \u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440\n  * @param __options - \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u0430\u043d\u0435\u043b\u0438, \u0445\u0435\u0448\n  * @param __panel_apply.buttons - \u0441\u043f\u0438\u0441\u043e\u043a \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u043a\u043d\u043e\u043f\u043e\u043a\n  * @param __panel_apply.widgets - \u0441\u043f\u0438\u0441\u043e\u043a \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0432\u0438\u0434\u0436\u0435\u0442\u043e\u0432\n  * @param __baseURL - \u0430\u0434\u0440\u0435\u0441, \u043e\u0442\u043a\u0443\u0434\u0430 \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u043b\u0430\u0441\u044c \u043f\u0430\u043d\u0435\u043b\u044c\n  *\/\n  function Panel2(__env, __baseURL) {\n    timer = (new Date()).getTime();\n    if(!instance )\n       instance = this;\n    else return instance;\n    try {\n      \/\/if(window.frameElement && !window.frameElement.panelContainer) return;\n    } catch(e) {}\n    \n    if(location.search.indexOf('gwpanel_test') != -1) {\n      environment = 'testing';\n    } else {\n      environment = localStorage.environment || __env;\n    }\n    version = panel_apply.version;\n    baseURL = __baseURL;\n    \n    var ar = document.domain.split('.');\n   \/\/ if(ar[ar.length - 2] != 'www') document.domain = ar.slice(ar.length - 2).join('.');\n    domain = ar.slice(ar.length - 2).join('.');\n\n    var cookies = document.cookie.split('; ');\n    instance.cookies = {};\n    for(var i = 0; i < cookies.length; i++) {\n      var parts = cookies[i].split('=');\n      instance.cookies[parts[0]] = parts[1];\n    }\n    \/\/\/ \u0424\u0443\u043d\u043a\u0446\u0438\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430\n    \/\/\/ \u0415\u0441\u043b\u0438 \u0432 localStorage \u043d\u0430 \u0442\u0435\u043a\u0443\u0449\u0435\u043c \u0434\u043e\u043c\u0435\u043d\u0435 \u0435\u0441\u0442\u044c \u043a\u043e\u043f\u0438\u044f \u043d\u0443\u0436\u043d\u044b\u0445 \u043e\u043f\u0446\u0438\u0439, \n    \/\/\/ \u0442\u043e \u044d\u0442\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u043f\u0443\u0449\u0435\u043d\u0430 \u0441\u0440\u0430\u0437\u0443\n    \/\/\/ \u0435\u0441\u043b\u0438 \u043a\u043e\u043f\u0438\u0438 \u043d\u0435\u0442, \u0442\u043e \u0441\u043f\u0435\u0440\u0432\u0430 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u043e\u043f\u0446\u0438\u0438 \u0438\u0437 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430 \u0441 ganjawars.ru\n    var __initFunc = function() {\n      \/\/ \u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0441\u043b\u0443\u0448\u0430\u0442\u0435\u043b\u0435\u0439 \u0441\u043e\u0431\u044b\u0442\u0438\u0439\n      for(var key in panel_apply.events) {\n        jQuery(panel_apply.events[key]).each(function(index, type) {\n          if(type.condition) {\n            try {\n              if(!eval(type.condition)) return;\n            } catch(e) {\n              instance.dispatchException(e, 'condition for loaded script error: ');\n              return;\n            }\n          }\n          instance.bind(type.event, function() {\n            var that = this;\n            var _args = arguments;\n            instance.loadScript(panel_apply.scripts[type.callback], function() {\n              if(typeof(instance[type.callback]) == 'undefined') {\n                throw('Function ' + type + ' in module ' + panel_apply.scripts[type] + ' not found');\n              } else {\n                instance[type.callback].apply(that, _args);\n              }\n            });\n          }, type.local);\n        });\n      }\n\n      \/\/ \u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043f\u043e\u0434\u0433\u0440\u0443\u0436\u0430\u0435\u043c\u044b\u0445 \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432\n      var pages = [];\n      if(typeof(panel_apply.pages[location.pathname]) == 'object') {\n        pages = panel_apply.pages[location.pathname];\n      }\n      if(typeof(panel_apply.pages['*']) == 'object') {\n        for(var i = 0; i < panel_apply.pages['*'].length; i++)\n          pages.push(panel_apply.pages['*'][i]);\n      }\n      jQuery(pages).each(function(index, func) {\n        if(typeof(func) == 'object') {\n          for(var key in func) {\n            var condition = func[key];\n            func = key;\n            break;\n          }\n          if(condition) {\n            try {\n              if(!eval(condition)) return;\n            } catch(e) {\n              instance.dispatchException(e, 'condition for loaded script error: ');\n              return;\n            }\n          }\n        }\n        instance.loadScript(panel_apply.scripts[func], function() {\n          if(typeof(instance[func]) == 'undefined') {\n            throw('Function ' + func + ' in module ' + panel_apply.scripts[func] + ' not found');\n          } else {\n            instance[func].apply(instance, [options[panel_apply.scripts[func].split('\/')[0]] || {}]);\n          }\n        });\n      });\n    }\n    checkTime('init_func');\n\n    if(environment == 'testing') {\n      var variantID = 'default';\n      optionsID = 'testing_' + instance.currentPlayerID() + '_default';\n      \/\/\/ \u0441\u043e\u0437\u0434\u0430\u0451\u043c \u0437\u0430\u043d\u043e\u0432\u043e \u043e\u043f\u0446\u0438\u0438 \u0435\u0441\u043b\u0438 \u044d\u0442\u043e \u043d\u0435 \u0437\u0430\u043f\u0443\u0441\u043a \u043f\u043e\u0434\u0442\u0435\u0441\u0442\u0430 \u0432\u043e \u0444\u0440\u0435\u0439\u043c\u0435\n      if(location.search.indexOf('continue') == -1) {\n        options = window.panelSettingsCollection.default;\n        instance.set(optionsID, options);\n      } else {\n        options = JSON.parse(localStorage[optionsID]) || \n                  window.panelSettingsCollection.default;\n      }\n      fastInitReady = true;\n    } else {\n      var variantID = 'options_variant_' + instance.currentPlayerID();\n      var __local_variant = localStorage[variantID];\n      \/\/\/ \u041e\u043f\u0446\u0438\u0438 \u0441\u043f\u0435\u0440\u0432\u0430 \u043f\u0440\u0438\u0432\u044f\u0437\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u043a \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044e (environment), \u0437\u0430\u0442\u0435\u043c \u043a ID \u0438\u0433\u0440\u043e\u043a\u0430\n      \/\/\/ \u0437\u0430\u0442\u0435\u043c \u043a \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u043c\u0443 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u0443, \u0435\u0441\u043b\u0438 \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d, \u0442\u043e \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u043c default\n      var fastInitReady = false;\n      if(__local_variant != null && \n        __local_variant.length > 0) {\n        optionsID = environment + '_' + instance.currentPlayerID() + '_' + \n                        __local_variant;\n        var __local_options = localStorage[optionsID];\n        if(__local_options != null && \n           __local_options.length > 0) {\n          jQuery.extend(options, JSON.parse(__local_options));\n          fastInitReady = true;\n        }\n      }\n    }\n    \/\/if(typeof(__options) == 'object') jQuery.extend(options, __options);\n    \/\/if(typeof(__panel_apply.buttons) == 'object') panel_apply.buttons = __panel_apply.buttons;\n    \/\/if(typeof(__panel_apply.widgets) == 'object') panel_apply.widgets = __panel_apply.widgets;\n\/*    if(!localStorage.options) {\n      localStorage.options = JSON.stringify(panelSettingsCollection.default);\n      localStorage.options_upd = (new Date).getTime();\n    } else if(localStorage.options) {\n      try {\n        var local_options = JSON.parse(localStorage.options);\n      } catch(e) {}\n      jQuery.extend(options, local_options);\n    }*\/\n    \/\/\/ \u0435\u0441\u043b\u0438 \u0431\u044b\u0441\u0442\u0440\u0430\u044f \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430\n    checkTime('fastInitReady');\n    if(fastInitReady) {\n      __initFunc();\n      checkTime('fastInit');\n    }\n\n    \/\/ \u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043a\u0440\u043e\u0441\u0441-\u0434\u043e\u043c\u0435\u043d\u043d\u043e\u0433\u043e \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0430\n    \/\/ \u0425\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435 \u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u043d\u0430 \u0432\u0441\u0435\u0445 \u043f\u043e\u0434\u0434\u043e\u043c\u0435\u043d\u0430\u0445 \u0431\u044b\u043b \u0434\u043e\u0441\u0442\u0443\u043f \u043a localStorage\n    \/\/ \u043d\u0430 \u0434\u043e\u043c\u0435\u043d\u0435 www.ganjawars.ru\n    \/\/ \u0415\u0441\u043b\u0438 \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0430, \u0442\u043e \u043c\u044b \u043d\u0438\u043a\u0430\u043a \u043d\u0435 \u0441\u043c\u043e\u0436\u0435\u043c \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u0441 quest.ganjawars.ru \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \n    \/\/ \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0438 \u0441\u043e\u0431\u044b\u0442\u0438\u044f \u0441 \u0434\u0440\u0443\u0433\u0438\u0445 \u0441\u0442\u0440\u0430\u043d\u0438\u0446, \u0438 \u0434\u0430\u0436\u0435 \u0442\u0443\u043f\u043e \u043d\u0435 \u0441\u043c\u043e\u0436\u0435\u043c \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u043f\u043e\u0447\u0442\u0443 \u0447\u0442\u043e\u0431\u044b \u0432\u044b\u0432\u0435\u0441\u0442\u0438\n    \/\/ \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f\n    instance.crossWindow = new __crossWindow(environment == 'production' || environment == 'deploy'? \n                                  '\/tmp\/panel2container.html':\n                                  '\/tmp\/panelcontainer.html', function() {\n      initialized = true;\n      windowID = instance.crossWindow.windowID;\n      checkTime('initialization Begin');\n      jQuery(initializeStack).each(function() {\n        try {\n          this();\n        } catch(e) {\n          instance.dispatchException(e);\n        }\n      });\n      checkTime('initialization Finish');\n    }, 'ganjawars.ru');\n\n    checkTime('crossWindow init');\n    \/\/\/ \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u043f\u043e\u043b\u043d\u043e\u0439 \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043e\u043a\u043d\u0430\n    instance.get(variantID, function(__variant) {\n      checkTime('get variantID ' + variantID);\n      if(!__variant) {\n        checkTime('set default variant for ' + __variant);\n        instance.set(variantID, 'default');\n        localStorage[variantID] = 'default';\n        __variant = 'default';\n      }\n      optionsID = environment + '_' + instance.currentPlayerID() + '_' + __variant;\n      instance.get(optionsID, function(__options) {\n        checkTime('get optionsID ' + optionsID);\n        if(__options != null && String(typeof(__options)).toLowerCase() == 'object') {\n          options = jQuery.extend(options, __options);\n        } else {\n          \/\/\/ \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0435 \u043e\u043f\u0446\u0438\u0438\n          options = jQuery.extend(options, window.panelSettingsCollection.default);\n          instance.set(optionsID, options);\n        }\n        localStorage[optionsID] = JSON.stringify(options);\n        if(!fastInitReady) {\n          \/\/\/ \u043c\u0435\u0434\u043b\u0435\u043d\u043d\u0430\u044f \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f\n          __initFunc();\n        }\n        is_ready = true;\n        checkTime('panel ready stack launch');\n\n        jQuery(readyStack).each(function() {\n          try {\n            this();\n          } catch(e) {\n            instance.dispatchException(e);\n          }\n        });\n        checkTime('panel ready stack finished');\n      });\n    });\n    checkTime('crossWindow init complete');\n\n    checkTime('crossWindow create');\n\n    \/\/ \u0441\u043b\u0435\u0434\u0438\u043c \u0437\u0430 \u0441\u043c\u0435\u043d\u043e\u0439 \u043e\u043f\u0446\u0438\u0439 \u0438\u0437 \u0434\u0440\u0443\u0433\u0438\u0445 \u043e\u043a\u043e\u043d\n    instance.bind('options_change', function(data) {\n      if(data.optionsID == optionsID && data.windowID != windowID) {\n        jQuery.extend(options, data.options);\n      }\n    });\n    \n    jQuery(document.body).addClass(window.location.pathname.replace(\/\\.\/g, '-').replace(\/\\\/\/g, '_').substr(1));\n    if(location.hostname != 'www.ganjawars.ru') {\n      var href = location.href;\n      if(href.charAt(location.href.length - 1) == '?' || href.charAt(location.href.length - 1) == '&')\n        href = location.href.substr(0, location.href.length - 1);\n      window.parent.postMessage(toJSON({'type': 'frame', 'title': document.title, 'href': href}), '*');\n    }\n\n    instance.ready(function() {\n      instance.loadCSS('panel.css');\n      initInterface();\n    });\n\n    \/\/\/ \u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0442\u0435\u0441\u0442\u043e\u0432 \u0435\u0441\u043b\u0438 \u0432 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 \u0443\u043a\u0430\u0437\u0430\u043d ?gwpanel_test \u0438 \u044d\u0442\u043e \u043d\u0435 \u0432\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u044b\u0439 \u0444\u0440\u0435\u0439\u043c\n    console.log(environment);\n    if(environment == 'testing' && location.search.indexOf('continue') == -1) {\n      \/\/alert('test');\n      instance.loadCSS('..\/..\/lib\/qunit-1.15.0.css');\n      instance.onload(function() {\n        instance.loadScript('lib\/qunit-1.15.0.js', function() {\n          QUnit.config.autostart = false;\n          $('<div id=\"qunit-fixture\"><\/div>').prependTo(document.body);\n          $('<div id=\"qunit\"><\/div>').prependTo(document.body);\n          instance.loadScript('panel\/panel_test.js', function() {\n            QUnit.start();\n          });\n        });\n      });\n    }\n      \/* \u043d\u0430\u043b\u043e \u043f\u0440\u0438\u0434\u0443\u043c\u0430\u0442\u044c \u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\n       * \u0430 \u043f\u043e\u043a\u0430, \u0442\u0443\u0442 \u0433\u0430\u0434\u0438\u043b\n       * \u0433\u043d\u043e\u043c \u0443\u0431\u0438\u0439\u0446\u0430\n       *\/\n  }\n  \n  \/******************************\n  *******\u041f\u0443\u0431\u043b\u0438\u0447\u043d\u044b\u0435 \u043c\u0435\u0442\u043e\u0434\u044b********\n  *******************************\/\n\n  jQuery.extend(Panel2.prototype, {\n    \/**\n    * \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0439. \u0415\u0441\u043b\u0438 \u0435\u0441\u0442\u044c \u043a\u043e\u043d\u0441\u043e\u043b\u044c, \u0442\u043e \u0432\u044b\u0432\u043e\u0434\u0438\u043c \u0432 \u043a\u043e\u043d\u0441\u043e\u043b\u044c.\n    *\/\n    dispatchException: function(e, comment) {\n      if(window.console) {\n        console.log((comment? comment + \" on \": '') + \n                    (new Error).stack.split(\"\\n\")[1]);\n        console.log(e);\n      }\n    },\n    \n    \/**\n    * \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0432\u0435\u0440\u0441\u0438\u0438\n    * @param __version - \u043d\u043e\u043c\u0435\u0440 \u0432\u0435\u0440\u0441\u0438\u0438 (\u0447\u0438\u0441\u043b\u043e)\n    * \u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u044e\u0437\u0435\u0440\u0441\u043a\u0440\u0438\u043f\u0442\u043e\u043c, \u043b\u0438\u0431\u043e \u043f\u043e\u0441\u043b\u0435 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0447\u0435\u0440\u0435\u0437 \u0441\u0435\u0440\u0432\u0435\u0440\n    *\/\n    setVersion: function(__version) {\n      version = __version;\n    },\n    \n    \/**\n    * \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 CSS-\u0444\u0430\u0439\u043b\u0430\n    * @param name - \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0441\u0442\u0438\u043b\u0435\u0439 (\u043f\u0443\u0442\u044c)\n    * @param name - \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0441\u0442\u0438\u043b\u0435\u0439, \u043f\u043e\u043a\u0430 \u043d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f\n    *\/\n    loadCSS: function(name, callback, failover) {\n      if(typeof(stylesheets[name]) != 'undefined') {\n        if(stylesheets[name].loaded) {\n          try {\n            callback();\n          } catch(e) {\n            instance.dispatchException(e, 'loadCSS callback error: ');\n          }\n        } else if(callback) stylesheets[name].callbacks.push(callback);\n        return;\n      }\n      stylesheets[name] = {callbacks: [], failovers: [], loaded: false};\n      if(callback) stylesheets[name].callbacks.push(callback);\n      if(failover) stylesheets[name].failovers.push(failover);\n\n      var ar = name.split('\/');\n      if(environment != 'deploy' && environment != 'dev' && \n          ar[0] == '..' && ar[1] == '..' && ar[2] == 'lib') {\n        ar = ar.splice(2);\n        var path = ar.join('\/');\n      } else {\n        var path = 'themes\/' + options.system.theme + '\/' + name;\n      }\n      window.__loadCSS(path, function() { instance.loadCSSComplete(name)}, failover);\n    },\n    \n    \/**\n    * \u041f\u043e\u0434\u0433\u0440\u0443\u0437\u043a\u0430 \u044e\u0437\u0435\u0440-\u0441\u043a\u0440\u0438\u043f\u0442\u0430\n    * @param name - \u043f\u0443\u0442\u044c \u043a \u0441\u043a\u0440\u0438\u043f\u0442\u0443, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \"home\/home.js\"\n    * @param callback - \u0444\u0443\u043d\u043a\u0446\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438\n    *\/\n    loadScript: function(name, callback, failover) {\n      if(typeof(scripts[name]) != 'undefined') {\n        if(scripts[name].loaded) {\n          try {\n            callback();\n          } catch(e) {\n            instance.dispatchException(e, 'loadScript callback error: ');\n          }\n        } else if(callback) scripts[name].callbacks.push(callback);\n        return;\n      }\n      scripts[name] = {callbacks: [], failovers: [], loaded: false};\n      if(callback) scripts[name].callbacks.push(callback);\n      if(failover) scripts[name].failovers.push(failover);\n\n      window.__loadScript(name, function() { instance.loadScriptComplete(name)});\n    },\n    \n    \/**\n    * \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u043a\u0440\u0438\u043f\u0442\u0430\n    * @param name - \u043f\u0443\u0442\u044c \u0441\u043a\u0440\u0438\u043f\u0442\u0430, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \"home\/home.js\"\n    *\/\n    loadScriptComplete: function(name) {\n      scripts[name].loaded = true;\n      for(var i = 0; i < scripts[name].callbacks.length; i++) {\n        try {\n          scripts[name].callbacks[i]();\n        } catch(e) {\n          instance.dispatchException(e, 'loadScript callback error: ');\n        }\n      }\n    },\n    \n    \/**\n    * \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u043e\u0448\u0438\u0431\u043a\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u043a\u0440\u0438\u043f\u0442\u0430\n    * @param name - \u043f\u0443\u0442\u044c \u0441\u043a\u0440\u0438\u043f\u0442\u0430, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \"home\/home.js\"\n    *\/\n    loadScriptFail: function(name, line) {\n      scripts[name].fail = true;\n      instance.failedScripts.push(name, line);\n      if(console.log) console.log('Failed to load script \"' + name + \n                                  '\" called on ' + line);\n      for(var i = 0; i < scripts[name].failovers.length; i++) {\n        try {\n          scripts[name].failovers[i]();\n        } catch(e) {\n          instance.dispatchException(e, 'failoverScript callback error: ');\n        }\n      }\n    },\n\n    \/**\n    * \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u0442\u0438\u043b\u0435\u0439\n    * @param name - \u043f\u0443\u0442\u044c \u0441\u043a\u0440\u0438\u043f\u0442\u0430, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \"home\/home.js\"\n    *\/\n    loadCSSComplete: function(name) {\n      stylesheets[name].loaded = true;\n      for(var i = 0; i < stylesheets[name].callbacks.length; i++) {\n        try {\n          stylesheets[name].callbacks[i]();\n        } catch(e) {\n          instance.dispatchException(e, 'loadCSS callback error: ');\n        }\n      }\n    },\n    \n    \/**\n    * \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u043e\u0448\u0438\u0431\u043a\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u043a\u0440\u0438\u043f\u0442\u0430\n    * @param name - \u043f\u0443\u0442\u044c \u0441\u043a\u0440\u0438\u043f\u0442\u0430, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \"home\/home.js\"\n    *\/\n    loadCSSFail: function(name, line) {\n      stylesheets[name].fail = true;\n      instance.failedScripts.push(name, line);\n      if(console.log) console.log('Failed to load css \"' + name + \n                                  '\" called on ' + line);\n      for(var i = 0; i < stylesheets[name].failovers.length; i++) {\n        try {\n          stylesheets[name].failovers[i]();\n        } catch(e) {\n          instance.dispatchException(e, 'failoverCSS callback error: ');\n        }\n      }\n    },\n    \/**\n    * \u0424\u0443\u043d\u043a\u0446\u0438\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u0444\u043e\u043a\u0443\u0441\u0430\n    * @param callback - \u0444\u0443\u043d\u043a\u0446\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u043f\u0443\u0449\u0435\u043d\u0430 \u0435\u0441\u043b\u0438 \u0442\u0435\u043a\u0443\u0449\u0435\u0435 \u043e\u043a\u043d\u043e \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u043c\n    *\/\n    checkFocused: function(callback) {\n      instance.crossWindow.get('focused', function(data) {\n        if(instance.crossWindow.windowID == data) {\n          try {\n            callback();\n          } catch(e) {\n            instance.dispatchException(e, 'Focused callback error: ');\n          }\n        }\n      });\n    },\n    \n    \/**\n    * \u0420\u0430\u0437\u0431\u043e\u0440 \u0441\u0442\u0440\u043e\u043a\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0432 \u0445\u0435\u0448 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432\n    * @param query - \u0441\u0442\u0440\u043e\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 ?foo=bar&foo1=bar\n    * @return \u0445\u0435\u0448, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 {\"foo\": \"bar\", \"foo1\": \"bar\"}\n    *\/\n    toQueryParams: function(query) {\n      if(query.charAt(0) == '?') query = query.substr(1);\n      var vars = query.split(\"&\");\n      var result = {};\n      for(var i = 0; i < vars.length; i++) {\n        var pair = vars[i].split(\"=\");\n        result[pair[0]] = pair[1];\n      }\n      return result;\n    },\n    \n    \/**\n    * \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0432 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435\n    * @param key - \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439\n    * @param value - \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439\n    * @param callback - \u0444\u0443\u043d\u043a\u0446\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u0437\u0432\u0430\u043d\u0430 \u043f\u043e\u0441\u043b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0439 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\n    *\/\n    set: function(key, value, callback) {\n      if(['options'].indexOf(key) != -1) {\n        throw('Error: you can\\'t set protected property directly');\n      }\n      \/\/\/ \u0415\u0441\u043b\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0435\u0441\u0442\u044c \u043d\u0430 \u0442\u0435\u043a\u0443\u0449\u0435\u043c \u0434\u043e\u043c\u0435\u043d\u0435, \u0442\u043e \u0432\u044b\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u043c \u0438 \u0435\u0433\u043e\n      if(typeof(localStorage[key]) != 'undefined') {\n        localStorage[key] = JSON.stringify(value);\n      }\n\n      var __callback = function() {\n        \/\/\/ \u0432\u044b\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u043c \u043d\u0430 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u0434\u043e\u043c\u0435\u043d \u0447\u0442\u043e\u0431\u044b \u0437\u0430\u0442\u0435\u043c \u0441\u0440\u0430\u0437\u0443 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0442\u044c\n        if(document.domain != 'ganjawars.ru') {\n          localStorage[key] = JSON.stringify(value);\n        }\n        if(callback) callback();\n      }\n      if(initialized) {\n        instance.crossWindow.set(key, value, __callback);\n      } else {\n        instance.onload(function() {\n          instance.crossWindow.set(key, value, __callback);\n        });\n      }\n    },\n    \n    \/**\n    * \u0421\u0447\u0438\u0442\u044b\u0432\u0430\u043d\u0438\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0438\u0437 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0430\n    * @param key - \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439\n    * @param callback - \u0444\u0443\u043d\u043a\u0446\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u0437\u0432\u0430\u043d\u0430 \u043f\u043e\u0441\u043b\u0435 \u0441\u0447\u0438\u0442\u044b\u0432\u0430\u043d\u0438\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\n    * \u0432 \u044d\u0442\u0443 \u0444\u0443\u043d\u043a\u0446\u0438\u044e \u043f\u0435\u0440\u0432\u044b\u043c \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u043c \u043f\u0435\u0440\u0435\u0434\u0430\u0451\u0442\u0441\u044f \u0441\u0447\u0438\u0442\u0430\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\n    *\/\n    get: function(key, callback) {\n      checkTime('get ' + key);\n      \/\/\/ \u041f\u044b\u0442\u0430\u0435\u043c\u0441\u044f \u043d\u0430\u0439\u0442\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043d\u0430 \u0442\u0435\u043a\u0443\u0449\u0435\u043c \u0434\u043e\u043c\u0435\u043d\u0435\n      if(typeof(localStorage[key]) != 'undefined' && \n         document.domain != 'ganjawars.ru') {\n        try {\n          var val = JSON.parse(localStorage[key]);\n          checkTime('get ' + key + ' from local storage');\n          callback(val);\n          return;\n        } catch(e) {\n          console.log(e);\n          localStorage.removeItem('key');\n        }\n      }\n      var __callback = function(value) {\n        localStorage[key] = JSON.stringify(value)\n        if(callback) callback(value);\n      }\n      \/\/\/ \u0415\u0441\u043b\u0438 \u043d\u0430 \u0442\u0435\u043a\u0443\u0449\u0435\u043c \u0434\u043e\u043c\u0435\u043d\u0435 \u043d\u0435\u0442, \u0442\u043e \u0437\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u043c \u0438\u0437 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0433\u043e\n      checkTime('begin to get ' + key + ' from main storage');\n      if(initialized) {\n        instance.crossWindow.get(key, __callback);\n      } else {\n        instance.onload(function() {\n          instance.crossWindow.get(key, __callback);\n        });\n      }\n    },\n    \n    \/**\n    * \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0438\u0437 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0430\n    * @param key - \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439\n    * @param callback - \u0444\u0443\u043d\u043a\u0446\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u0437\u0432\u0430\u043d\u0430 \u043f\u043e\u0441\u043b\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\n    *\/    \n    del: function(key, callback) {\n      if(typeof(localStorage[key]) != 'undefined') {\n        localStorage.removeItem(key);\n      }\n      var __key = key;\n      var __callback = callback;\n      instance.crossWindow.del(key, callback);\n    },\n    \/**\n    * \u0417\u0430\u043f\u0443\u0441\u043a \u0441\u043e\u0431\u044b\u0442\u0438\u044f\n    * @param type - \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f\n    * @param data - \u0434\u0430\u043d\u043d\u044b\u0435, \u0432 \u043b\u044e\u0431\u043e\u043c \u0432\u0438\u0434\u0435 - \u043e\u0431\u044a\u0435\u043a\u0442\/\u0445\u0435\u0448\/\u043c\u0430\u0441\u0441\u0438\u0432\/\u0441\u0442\u0440\u043e\u043a\u0430\n    * @param local - \u0444\u043b\u0430\u0433 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u044f, \u0435\u0441\u043b\u0438 =true, \n    *                \u0442\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u0435 \u043e\u0442\u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u0432 \u0442\u0435\u043a\u0443\u0449\u0435\u043c \u043e\u043a\u043d\u0435\n    *\/\n    triggerEvent: function(type, data, local) {\n      return instance.crossWindow.triggerEvent(type, data, local);\n    },\n    \n    \/**\n    * \u041f\u0440\u0438\u0432\u044f\u0437\u043a\u0430 \u043a \u0441\u043e\u0431\u044b\u0442\u0438\u044f\u043c\n    * @param type - \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f\n    * @param callback - \u0441\u043b\u0443\u0448\u0430\u0442\u0435\u043b\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u044f\n    *                   \u043f\u0435\u0440\u0432\u044b\u043c \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u043c \u0432 \u0441\u043b\u0443\u0448\u0430\u0442\u0435\u043b\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u044f \u043f\u0435\u0440\u0435\u0434\u0430\u044e\u0442\u0441\u044f \u0434\u0430\u043d\u043d\u044b\u0435\n    * @return listenerID - \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0441\u043b\u0443\u0448\u0430\u0442\u0435\u043b\u044f (\u0434\u043b\u044f \u043e\u0442\u0432\u044f\u0437\u043a\u0438)\n    *\/\n    bind: function(type, callback) {\n      if(instance.crossWindow) {\n        return instance.crossWindow.bind(type, callback);\n      } else {\n        \/\/\/ \u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c ID \u043f\u0440\u0438\u0432\u044f\u0437\u043a\u0438 \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e\n        var callerFunc = (new Error).stack.split(\"\\n\")[1];\n        var listenerID = (callerFunc.substring(0, callerFunc.indexOf(\"@\")).replace(\/[<>]+\/g, '') \n                          || \"anoynmous\") + '_' + (new Date).getTime() + '_preinit';\n        if(!listenersStack[type]) listenersStack[type] = {};\n        var index = 0;\n        while(listenersStack[type][listenerID]) {\n          listenerID += index++;\n        }\n\n\n        instance.ready(function() {\n          return instance.crossWindow.bind(type, callback, listenerID);\n        })\n      }\n    },\n    \n    \/**\n    * \u041e\u0442\u0432\u044f\u0437\u043a\u0430 \u043e\u0442 \u0441\u043e\u0431\u044b\u0442\u0438\u044f\n    * @param type - \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f\n    * @param listenerID - \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0441\u043b\u0443\u0448\u0430\u0442\u0435\u043b\u044f, \n    *                     \u0441\u0442\u0440\u043e\u043a\u0430, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0432\u0435\u0440\u043d\u0443\u043b\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f .bind()\n    *\/\n    unbind: function(type, listenerID) {\n      return instance.crossWindow.unbind(type, listenerID);\n    },\n    \n    \/**\n    * \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u043e\u043f\u0446\u0438\u0439\n    * @return \u0445\u0435\u0448 \u043e\u043f\u0446\u0438\u0439 (\u0437\u0430\u0449\u0438\u0449\u0451\u043d\u043d\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442, \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u0442\u043e\u043b\u044c\u043a\u043e \u0447\u0435\u0440\u0435\u0437 \u044d\u0442\u0443 \u0444\u0443\u043d\u043a\u0446\u0438\u044e)\n    *\/\n    getOptions: function() {\n      return options;\n    },\n    \/**\n    * \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u0430 \u043e\u043f\u0446\u0438\u0439\n    * @return \u0441\u0442\u0440\u043e\u043a\u0430 - \u043f\u043e\u043b\u043d\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u043f\u0446\u0438\u0439, \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f, \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\n    * \u0438 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043e\u043a\n    *\/\n    getOptionsID: function() {\n      return optionsID;\n    },\n    \/**\n    * \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u043e\u043f\u0446\u0438\u0439\n    * @param set_options - \u0445\u0435\u0448 \u0432\u0441\u0435\u0445 \u043e\u043f\u0446\u0438\u0439 \u043b\u0438\u0431\u043e \u0434\u043b\u044f \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u043c\u043e\u0434\u0443\u043b\u044f,\n    *                      \u0435\u0441\u043b\u0438 \u0443\u043a\u0430\u0437\u0430\u043d namespace\n    * @param namespace - \u0441\u0442\u0440\u043e\u043a\u0430, \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043c\u043e\u0434\u0443\u043b\u044f \u0438\u043b\u0438 \u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432\u0430 \u0438\u043c\u0451\u043d,\n    *                    \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u043c \u0445\u0440\u0430\u043d\u044f\u0442\u0441\u044f \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0435 \u043e\u043f\u0446\u0438\u0438\n    *\/\n    setOptions: function(set_options, namespace, callback) {\n      if(typeof(optionsID) == 'undefined') {\n        console.log('wrong optionsID: ' + optionsID);\n        console.log((new Error).stack);\n        return;\n      }\n      if(namespace && typeof(namespace) != 'undefined') {\n        options[namespace] = set_options;\n      } else {\n        options = set_options;\n      }\n      var new_options = {};\n      for(var key in options) {\n        var type = String(typeof(options[key])).toLowerCase();\n        if(type != 'undefined' && options[key] !== null) {\n          new_options[key] = options[key];\n        }\n      }\n      options = new_options;\n\n      instance.set(optionsID, options, function() {\n        instance.triggerEvent('options_change', {options: options, \n                              optionsID: optionsID, windowID: windowID});\n        if(callback) {\n          callback();\n        }\n      });\n    },\n    \n    \/**\n    * \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u043e\u043f\u0446\u0438\u0439 \u0432\u0438\u0434\u0436\u0435\u0442\u0430\n    * @param set_options - \u0445\u0435\u0448 \u043e\u043f\u0446\u0438\u0439\n    * @param widget - jQuery-\u043e\u0431\u044a\u0435\u043a\u0442 \u0432\u0438\u0434\u0436\u0435\u0442\u0430, \u0434\u043b\u044f \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u043d\u0443\u0436\u043d\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043e\u043f\u0446\u0438\u0438\n    *\/\n    setWidgetOptions: function(set_options, widget) {\n      if(widget[0].widget.float) {\n        jQuery.extend(options.widgets[widget[0].widget.index].arguments, set_options);\n      } else {\n        jQuery.extend(options.panes[widget[0].widget.paneID].widgets[widget[0].widget.index].arguments, set_options);\n      }\n      instance.setOptions(options);\n    },\n    \n    \/**\n    * \u041f\u0435\u0440\u0435\u0445\u043e\u0434 \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435\n    * @param href - \u0441\u0441\u044b\u043b\u043a\u0430 \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0430\n    * \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u043d\u0443\u0436\u043d\u0430 \u0431\u044b\u043b\u0430 \u0434\u043b\u044f \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u0438 \u0441 \u0444\u0440\u0435\u0439\u043c\u043e\u0432\u043e\u0439 \u0432\u0435\u0440\u0441\u0438\u0435\u0439\n    * \u0432 \u0431\u0443\u0434\u0443\u0449\u0435\u043c \u0435\u0451 \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u043b\u044f \u0447\u0435\u0433\u043e-\u043d\u0438\u0431\u0443\u0434\u044c \u0435\u0449\u0451, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u0434\u043b\u044f \u0441\u043b\u0435\u0436\u0435\u043d\u0438\u044f\n    * \u0437\u0430 \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0430\u043c\u0438 \u0438 \u0441\u0431\u043e\u0440\u0430 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438\n    *\/\n    gotoHref: function(href) {\n      if(contentFrame) {\n        contentFrame.contentWindow.postMessage(toJSON({'type': 'location', 'href': href}), '*');\n        jQuery('.pane:visible').hide();\n        jQuery('.pane-bubble.active').removeClass('active');\n      } else {\n        location.href = href;\n      }\n    },\n    \n    \/**\n    * \u041c\u0435\u0442\u043e\u0434 \u0434\u043b\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u043f\u043e \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u0440\u0430\u0431\u043e\u0442\u044b \u043f\u0430\u043d\u0435\u043b\u0438\n    * @param callback - \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u0434\u043b\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430\n    * \u041f\u0440\u0438\u043c\u0435\u0440:\n    * __panel.ready(function() {\n    *   alert(\"\u041f\u0430\u043d\u0435\u043b\u044c \u0433\u043e\u0442\u043e\u0432\u0430 \u043a \u0440\u0430\u0431\u043e\u0442\u0435\");\n    * });\n    *\/\n    ready: function(callback) {\n      if(is_ready) {\n        try {\n          callback();\n        } catch(e) {\n          console.log((new Error).stack);\n          instance.dispatchException(e);\n        }\n      } else {\n        readyStack.push(callback);\n      }\n    },\n\n    \/**\n    * \u041c\u0435\u0442\u043e\u0434 \u0434\u043b\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u043f\u043e \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u0438 \u043f\u043e\u043b\u043d\u043e\u0439 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u043f\u0430\u043d\u0435\u043b\u0438, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0444\u0440\u0435\u0439\u043c\n    * @param callback - \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u0434\u043b\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430\n    * \u041f\u0440\u0438\u043c\u0435\u0440:\n    * __panel.ready(function() {\n    *   alert(\"\u041f\u0430\u043d\u0435\u043b\u044c \u0433\u043e\u0442\u043e\u0432\u0430 \u043a \u0440\u0430\u0431\u043e\u0442\u0435\");\n    * });\n    *\/\n    onload: function(callback) {\n      if(initialized) {\n        try {\n          callback();\n        } catch(e) {\n          console.log((new Error).stack);\n          instance.dispatchException(e);\n        }\n      } else {\n        initializeStack.push(callback);\n      }\n    },\n    \n    \/**\n    * \u0424\u0443\u043d\u043a\u0446\u0438\u044f \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0430\u0431\u0441\u043e\u043b\u044e\u0442\u043d\u044b\u0439 \u043f\u0443\u0442\u044c \u043a \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u0442\u0435\u043c\u0435\n    *\/\n    path_to_theme: function() {\n      return baseURL + '\/themes\/' + options.system.theme + '\/';\n    },\n\n    \/*\n    * \u0424\u0443\u043d\u043a\u0446\u0438\u044f \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043a\u0443\u043a\u0438 \u0432 \u0432\u0438\u0434\u0435 \u0445\u0435\u0448\u0430\n    *\/\n    getCookies: function() {\n        var cookie, i, length, keyValue;\n        if(__cookies != undefined) {\n            return __cookies;\n        }\n        __cookies = {};\n        cookie = document.cookie.split('; ');\n        for(i = 0, length = cookie.length; i < length; i++){\n            keyValue = cookie[i].split(\"=\");\n            __cookies[keyValue[0]] = encodeURIComponent(keyValue[1]);\n        }\n        return __cookies;\n    },\n    \/**\n    * \u0424\u0443\u043d\u043a\u0446\u0438\u044f \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 ID \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430 (\u0438\u0437 \u043a\u0443\u043a)\n    *\/\n    currentPlayerID: function() {\n      return instance.getCookies()['au'];\n    },\n    \/**\n    * \u0424\u0443\u043d\u043a\u0446\u0438\u044f \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0438\u043c\u044f \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430\n    *\/\n\n    currentPlayerName: function(callback) {\n      instance.get('panel_currentPlayerName', callback);\n    },\n\n\n\n    panel_homepage: function(){\n        var name, id;\n        if(location.search == \"?logged\"){\n            name = $('a[href*=\"info.php?id=\"]').get(0).textContent;\n            id = instance.currentPlayerID();\n            instance.set(\"panel_currentPlayerName\", name);\n            instance.triggerEvent(\"login\", {\"currentPlayerName\": name, \"currentPlayerID\": id});\n        }\n    },\n\n    panel_login: function(){\n        var name, id;\n        name = \"__notLogged\";\n        id = -1;\n        instance.set(\"panel_currentPlayerName\", name);\n        instance.triggerEvent(\"logout\", {\"currentPlayerName\": name, \"currentPlayerID\": id});\n    },\n    \/**\n    * \u041f\u0443\u0431\u043b\u0438\u0447\u043d\u044b\u0435 \u0430\u0442\u0442\u0440\u0438\u0431\u0443\u0442\u044b\n    *\/\n    \/\/\/ \u0421\u043a\u0440\u0438\u043f\u0442\u044b \u0441 \u043e\u0448\u0438\u0431\u043a\u0430\u043c\u0438\n    failedScripts: [],\n    \/\/\/ \u0421\u0442\u0438\u043b\u0438 \u0441 \u043e\u0448\u0438\u0431\u043a\u0430\u043c\u0438\n    failedStyles: []\n  });\n  \n  return Panel2;\n};\n","panel\/panel_buttons.js":"(function(panel) {\njQuery.extend(panel, {\n  \/\/ \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u0434\u043b\u044f \u0431\u0430\u0437\u043e\u0432\u043e\u0439 \u043a\u043d\u043e\u043f\u043a\u0438 - \u043f\u0435\u0440\u0435\u0445\u043e\u0434 \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435\n  panel_link: function(event, data) {\n    if(data.blank) {\n      window.open(data.link);\n    } else {\n      __panel.gotoHref(data.link);\n    }\n  },\n  panel_exit: function(event) {\n    location.href = 'http:\/\/www.ganjawars.ru\/logout.php';\n  }\n});\n})(window.__panel);","panel\/panel_test.js":"function waitPanelInitialization(__window, callback) {\n  \/\/ \u0416\u0434\u0451\u043c \u043f\u043e\u044f\u0432\u043b\u0435\u043d\u0438\u044f \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0433\u043e \u043e\u043a\u043d\u0430 CSS-\u043a\u0438 panel.css\n  var check = function() {\n    if(__window.__panel && __window.__panel.crossWindow) {\n      __window.__panel.onload(callback);\n      return;\n    }\n    setTimeout(check, 10);\n  }\n  check();\n}\n\nQUnit.assert.function_exists = function(needle, haystack, message) {\n  var exists = String(typeof(haystack)).toLowerCase() == 'function';\n  QUnit.push(exists, exists, needle, '\u0444\u0443\u043d\u043a\u0446\u0438\u044f ' + needle + ' \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442');\n}\n\nQUnit.test(\"\u0422\u0435\u0441\u0442 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 __panel\", function(assert) {\n  assert.equal('object', String(typeof(window.__panel)).toLowerCase(), \n    '\u043e\u0431\u044a\u0435\u043a\u0442 \u043f\u0430\u043d\u0435\u043b\u0438 \u0431\u044b\u043b \u0441\u043e\u0437\u0434\u0430\u043d');\n\n  $(['set', 'get', 'loadScript', 'loadScriptComplete', 'loadCSS', \n     'checkFocused', 'dispatchException', 'toQueryParams', 'triggerEvent', \n     'bind', 'unbind', 'getOptions', 'setOptions', 'setWidgetOptions', \n     'gotoHref', 'ready', 'onload', 'path_to_theme', 'currentPlayerID', \n     'currentPlayerName', 'getOptionsID', 'panel_homepage', 'panel_login']).each(function() {\n    assert.function_exists('__panel.' + this, __panel[this]);\n  })\n\n  assert.deepEqual(__panel.failedScripts, [], \n                  '\u043c\u0430\u0441\u0441\u0438\u0432 \u043d\u0435\u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u044b\u0445 \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c');\n  assert.deepEqual(__panel.failedStyles, [], \n                  '\u043c\u0430\u0441\u0441\u0438\u0432 \u043d\u0435\u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u044b\u0445 \u0441\u0442\u0438\u043b\u0435\u0439 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c');\n\n  assert.deepEqual(__panel.toQueryParams('foo=bar&bar=foo'), \n                   {'foo': 'bar', 'bar': 'foo'}, '__panel.toQueryParams');\n  assert.ok(__panel.currentPlayerID() > 0, 'ID \u0438\u0433\u0440\u043e\u043a\u0430 > 0');\n  assert.ok(String(__panel.getOptionsID()).indexOf(\"testing\") != -1, \n    'optionsID \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442 \"testing\"');\n});\n\nQUnit.test(\"\u0422\u0435\u0441\u0442 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 __panel.crossWindow\", function(assert) {\n  assert.equal('object', String(typeof(__panel.crossWindow)).toLowerCase(), \n    '\u043e\u0431\u044a\u0435\u043a\u0442 crossWindow \u0431\u044b\u043b \u0441\u043e\u0437\u0434\u0430\u043d');\n  $(['bind', 'get', 'set', 'triggerEvent', 'unbind']).each(function() {\n    assert.function_exists('__panel.' + this, __panel[this]);\n  });\n}); \n\nQUnit.asyncTest(\"\u0422\u0435\u0441\u0442 ready()\", function(assert) {\n  expect(1);\n  __panel.ready(function() {\n    assert.ok(true, \"\u0424\u0443\u043d\u043a\u0446\u0438\u044f \u043e\u0442\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0430 \u043f\u043e\u0441\u043b\u0435 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438\");\n    QUnit.start();\n  });\n});\n\nQUnit.asyncTest(\"\u0422\u0435\u0441\u0442 onload()\", function(assert) {\n  expect(2);\n  __panel.onload(function() {\n    assert.ok(true, \"\u0424\u0443\u043d\u043a\u0446\u0438\u044f \u043e\u0442\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0430 \u043f\u043e\u0441\u043b\u0435 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438\");\n    assert.equal('object', String(typeof(__panel.crossWindow)), \n                  '\u041e\u0431\u044a\u0435\u043a\u0442 __panel.crossWindow \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d');\n    QUnit.start();\n  });\n});\n\nQUnit.asyncTest(\"\u0422\u0435\u0441\u0442 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0438 \u0441\u0442\u0440\u043e\u043a\u0438\", function(assert) {\n  expect(2);\n  var rand = String(Math.random());\n  __panel.set(\"test1\", rand, function() {\n    assert.ok(true, \"\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e\");\n    __panel.get(\"test1\", function(value) {\n      assert.equal(rand, value, \"\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0442\u044c\");\n      QUnit.start();\n    });\n  });\n});\n\nQUnit.asyncTest(\"\u0422\u0435\u0441\u0442 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0438 \u0445\u0435\u0448\u0430\", function(assert) {\n  expect(2);\n  var hash = {'hash': {'1': 'test', 'test': 1}, \n              'array': [1, 'test', 0], \n              'string': 'string'};\n  __panel.set(\"test_hash\", hash, function() {\n    assert.ok(true, \"\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e\");\n    __panel.get(\"test_hash\", function(value) {\n      assert.deepEqual(hash, value, \"\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0442\u044c\");\n      QUnit.start();\n    });\n  });\n});\n\nQUnit.asyncTest(\"\u0422\u0435\u0441\u0442 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0438 \u043c\u0430\u0441\u0441\u0438\u0432\u0430\", function(assert) {\n  expect(2);\n  var ar = [1, 2, 'test'];\n  __panel.set(\"test_ar\", ar, function() {\n    assert.ok(true, \"\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e\");\n    __panel.get(\"test_ar\", function(value) {\n      assert.deepEqual(ar, value, \"\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0442\u044c\");\n      QUnit.start();\n    });\n  });\n});\n\n\nQUnit.asyncTest(\"\u0422\u0435\u0441\u0442 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0438 \u0434\u043b\u0438\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438\", function(assert) {\n  expect(2);\n  var huge_string = '';\n  for(var i = 0; i < 10000; i++) {\n    huge_string += ' ' + Math.random();\n  }\n  __panel.set(\"huge_string\", huge_string, function() {\n    assert.ok(true, \"\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e\");\n    __panel.get(\"huge_string\", function(value) {\n      assert.deepEqual(huge_string, value, \"\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0442\u044c\");\n      QUnit.start();\n    });\n  });\n});\n\nQUnit.asyncTest(\"\u0422\u0435\u0441\u0442 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0438 \u0431\u043e\u043b\u044c\u0448\u043e\u0433\u043e \u043c\u0430\u0441\u0441\u0438\u0432\u0430\", function(assert) {\n  expect(2);\n  var huge_array = [];\n  for(var i = 0; i < 10000; i++) {\n    huge_array.push(Math.random());\n  }\n\n  __panel.set(\"huge_array\", huge_array, function() {\n    assert.ok(true, \"\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e\");\n    __panel.get(\"huge_array\", function(value) {\n      assert.deepEqual(huge_array, value, \"\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0442\u044c\");\n      QUnit.start();\n    });\n  });\n});\n\nQUnit.asyncTest(\"\u0422\u0435\u0441\u0442 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0438 \u0440\u0443\u0441\u0441\u043a\u0438\u0445 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432\", function(assert) {\n  expect(2);\n  __panel.set(\"russian\", \"\u0442\u0435\u0441\u0442\", function() {\n    assert.ok(true, \"\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e\");\n    __panel.get(\"russian\", function(value) {\n      assert.deepEqual(\"\u0442\u0435\u0441\u0442\", value, \"\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0442\u044c\");\n      QUnit.start();\n    });\n  });\n});\n\nQUnit.asyncTest(\"\u0422\u0435\u0441\u0442 \u043e\u0447\u0438\u0441\u0442\u043a\u0438\", function(assert) {\n  var items = ['russian', 'huge_array', 'huge_string', 'test_ar', 'test_hash',\n               'test1'];\n  expect(items.length);\n  $(items).map(function(i, item) {\n    __panel.del(item, function() {\n      __panel.get(item, function(value) {\n        assert.deepEqual(null, value, '\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f ' + item + ' \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c');\n        if(item == items[items.length - 1]) {\n          QUnit.start();\n        }\n      });\n    });\n  });\n});\n\nQUnit.asyncTest(\"\u0422\u0435\u0441\u0442 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u0438\u0437 \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u043e\u043a\u043d\u0430\", function(assert) {\n  expect(1);\n  var eventdata = {'test': '\u0443\u0441\u043f\u0435\u0445'};\n  __panel.bind(\"self-event-test\", function(data) {\n    assert.deepEqual(eventdata, data, \"\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u043f\u0430\u0434\u0430\u0442\u044c\");\n    QUnit.start();\n  });\n  __panel.triggerEvent('self-event-test', eventdata);\n});\n\nQUnit.asyncTest(\"\u0422\u0435\u0441\u0442 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u0438\u0437 \u0447\u0443\u0436\u043e\u0433\u043e \u043e\u043a\u043d\u0430 (iframe)\", function(assert) {\n  expect(1);\n  var eventdata = {'foreign test': '\u0443\u0441\u043f\u0435\u0445'};\n  __panel.bind(\"foreign-event-test\", function(data) {\n    assert.deepEqual(eventdata, data, \"\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u043f\u0430\u0434\u0430\u0442\u044c\");\n    QUnit.start();\n  });\n\n  $('<iframe id=\"foreign-event-iframe\" src=\"' + document.location.href.split('?')[0]\n     + '?gwpanel_testing&continue\"><\/iframe>').load(function() {\n    var that = this;\n    waitPanelInitialization(this.contentWindow, function() {\n      that.contentWindow.__panel.triggerEvent('foreign-event-test', eventdata);\n    });\n  }).appendTo('#qunit-fixture');\n});\n\nQUnit.asyncTest(\"\u041c\u0430\u0441\u0441\u043e\u0432\u044b\u0439 \u0442\u0435\u0441\u0442 \u0441\u043e\u0431\u044b\u0442\u0438\u0439\", function(assert) {\n  expect(2);\n  var counter = 0;\n  var thread_counter = [0, 0, 0, 0];\n  var rand = Math.random();\n  __panel.bind('mass-event-test', function(data) {\n    if(data && data.test == 'mass event test' && data.salt == rand) {\n      counter++;\n      thread_counter[data.thread]++;\n      if(counter == 200) {\n        setTimeout(function() {\n          assert.equal(200, counter, '200 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u0438\u0437 \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u043e\u043a\u043d\u0430 \u0438 \u0438\u0437 \u0447\u0443\u0436\u043e\u0433\u043e \u0431\u044b\u043b\u043e \u0437\u0430\u043f\u0443\u0449\u0435\u043d\u043e');\n          assert.deepEqual(thread_counter, [50, 50, 50, 50], \n              '\u0412\u0441\u0435 \u043f\u043e\u0442\u043e\u043a\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e');\n          QUnit.start();\n        }, 1000);\n      }\n    } else {\n      assert.deepEqual(-1, data, '\u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435');\n    }\n  });\n  var thread = 0;\n  \/\/\/ \u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c 2 \u043f\u043e\u0442\u043e\u043a\u0430 \u043f\u043e 100 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439\n  for(var t = 0; t < 2; t++) {\n    setTimeout(function() {\n      for(var i = 0; i < 50; i++) {\n        __panel.triggerEvent('mass-event-test', \n          {'test': 'mass event test', 'salt': rand, 'index': i, 'thread': thread});\n      }\n      thread++;\n    }, 1);\n  }\n\n  $('<iframe id=\"foreign-event-iframe\" src=\"' + document.location.href.split('?')[0]\n     + '?gwpanel_testing&continue\"><\/iframe>').load(function() {\n    var that = this;\n    waitPanelInitialization(this.contentWindow, function() {\n      \/\/\/ \u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0435\u0449\u0451 2 \u043f\u043e\u0442\u043e\u043a\u0430 \u0438\u0437 \u0441\u043e\u0441\u0435\u0434\u043d\u0435\u0433\u043e \u043e\u043a\u043d\u0430\n      for(var t = 0; t < 2; t++) {\n        setTimeout(function() {\n          for(var i = 0; i < 50; i++) {\n            that.contentWindow.__panel.triggerEvent('mass-event-test', \n              {'test': 'mass event test', 'salt': rand, 'index': i, \n               'thread': thread});\n          }\n          thread++;\n        }, 1);\n      }\n    });\n  }).appendTo('#qunit-fixture');\n});\n\nQUnit.asyncTest(\"\u041e\u0442\u0432\u044f\u0437\u043a\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u0439\", function(assert) {\n  expect(1);\n  var eventdata = {'test': '\u0443\u0441\u043f\u0435\u0445'};\n  var listener_id = __panel.bind('event-unbind-test', function(data) {\n    assert.deepEqual(eventdata, data, \"\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u043f\u0430\u0434\u0430\u0442\u044c\");\n    __panel.unbind(\"event-unbind-test\", listener_id);\n    __panel.triggerEvent('event-unbind-test\"', eventdata);\n    QUnit.start();\n  });\n  __panel.triggerEvent('event-unbind-test', eventdata);\n});\n\nQUnit.asyncTest('\u041f\u043e\u0434\u0433\u0440\u0443\u0437\u043a\u0430 \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432', function(assert) {\n  expect(1);\n  __panel.loadScript('lib\/foobar.js', function () {\n    assert.deepEqual(__panel.__foo_bar_script, 'foo bar', '\u0421\u043a\u0440\u0438\u043f\u0442 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d');\n    QUnit.start();\n  }, function() {\n    console.log((new Error).stack);\n    assert.ok(false, '\u0421\u043a\u0440\u0438\u043f\u0442 \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d');\n    QUnit.start();\n  })\n});\n\nQUnit.asyncTest('\u041f\u043e\u0434\u0433\u0440\u0443\u0437\u043a\u0430 \u043e\u0448\u0438\u0431\u043e\u0447\u043d\u044b\u0445 \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432', function(assert) {\n  expect(1);\n  __panel.loadScript('lib\/foobar_unexists.js', function () {\n    assert.ok(false, '\u0421\u043a\u0440\u0438\u043f\u0442 \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d');\n    QUnit.start();\n  }, function() {\n    assert.ok(true, '\u0421\u043a\u0440\u0438\u043f\u0442 \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d');\n    QUnit.start();\n  })\n});\n\nQUnit.asyncTest('\u041f\u043e\u0434\u0433\u0440\u0443\u0437\u043a\u0430 \u0441\u0442\u0438\u043b\u0435\u0439', function(assert) {\n  expect(2);\n  $('#qunit-fixture').append('<div class=\"foo-bar\">test<\/div>');\n  assert.notEqual($('#qunit-fixture .foo-bar').css('font-size'), '32px', \n                     '\u0421\u0442\u0438\u043b\u0435\u0439 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c');\n  __panel.loadCSS('test.css', function () {\n    assert.deepEqual($('#qunit-fixture .foo-bar').css('font-size'), '32px', \n                     '\u0421\u0442\u0438\u043b\u0438 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u044b');\n    QUnit.start();\n  }, function() {\n    assert.ok(false, '\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0441\u0442\u0438\u043b\u0435\u0439 \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u0430');\n    QUnit.start();\n  })\n});\n\nif(window.opera || jQuery.browser.msie) {\n  QUnit.asyncTest('\u041f\u043e\u0434\u0433\u0440\u0443\u0437\u043a\u0430 \u043e\u0448\u0438\u0431\u043e\u0447\u043d\u044b\u0445 \u0441\u0442\u0438\u043b\u0435\u0439', function(assert) {\n    expect(1);\n    __panel.loadCSS('test_unexisted.css', function () {\n      assert.ok(false, '\u041d\u0435\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u0444\u0430\u0439\u043b \u0441\u0442\u0438\u043b\u0435\u0439 \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d');\n      QUnit.start();\n    }, function() {\n      assert.ok(true, '\u0421\u0442\u0438\u043b\u044c \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d');\n      QUnit.start();\n    })\n  });\n}\n\n\/*QUnit.asyncTest('\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0444\u043e\u043a\u0443\u0441\u0438\u0440\u043e\u0432\u043a\u0438', function(assert) {\n  expect(1);\n  __panel.onload(function() {\n    jQuery(window).focus();\n    __panel.checkFocused(function() {\n      assert.ok(true, '\u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u043e\u043a\u043d\u043e \u0432 \u0444\u043e\u043a\u0443\u0441\u0435');\n      QUnit.start();\n    });\n  });\n});*\/\n\nQUnit.asyncTest('\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0444\u043e\u043a\u0443\u0441\u0438\u0440\u043e\u0432\u043a\u0438 \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u043e\u043a\u043d\u0430', function(assert) {\n  expect(1);\n\n  $('<iframe id=\"foreign-event-iframe\" src=\"' + document.location.href.split('?')[0]\n     + '?gwpanel_testing&continue\"><\/iframe>').load(function() {\n    var that = this;\n    waitPanelInitialization(this.contentWindow, function() {\n      setTimeout(function() {\n        that.contentWindow.jQuery(that.contentWindow).focus();\n        that.contentWindow.__panel.checkFocused(function() {\n          assert.ok(true, '\u041d\u043e\u0432\u043e\u0435 \u043e\u0442\u043a\u0440\u044b\u0442\u043e\u0435 \u043e\u043a\u043d\u043e \u0432 \u0444\u043e\u043a\u0443\u0441\u0435');\n          window.__panel.checkFocused(function() {\n            assert.ok(false, '\u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u043e\u043a\u043d\u043e \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0432 \u0444\u043e\u043a\u0443\u0441\u0435');\n            QUnit.start();\n          });\n\n          QUnit.start();\n        });\n      }, 100);\n    });\n  }).appendTo('#qunit-fixture');\n\n\n});\n\nQUnit.asyncTest('\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0438 \u0441\u0447\u0438\u0442\u044b\u0432\u0430\u043d\u0438\u0435 \u043e\u043f\u0446\u0438\u0439', function(assert) {\n  expect(7);\n  \/\/\/ \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0437\u0430\u0449\u0438\u0449\u0451\u043d\u043d\u043e\u0439 \u043e\u043f\u0446\u0438\u0438\n  try {\n    __panel.set('options', {});\n    assert.ok(false, '\u0417\u0430\u0449\u0438\u0449\u0451\u043d\u043d\u0430\u044f \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0430');\n  } catch(e) {\n    __panel.dispatchException(e);\n    assert.ok(true, e.toString());\n  }\n  var options = __panel.getOptions();\n  assert.equal(String(typeof(options)).toLowerCase(), 'object', '\u043e\u043f\u0446\u0438\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u044b');\n  options['test_module'] = {'test1': 'test1'};\n  __panel.setOptions(options);\n  setTimeout(function() {\n    var new_options = __panel.getOptions();\n    assert.deepEqual(new_options['test_module'], {'test1': 'test1'}, \n                      '\u043e\u043f\u0446\u0438\u0438 \u0431\u044b\u043b\u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u044b');\n    new_options['test_module']['test1'] = 'test2';\n    __panel.setOptions(new_options['test_module'], 'test_module');\n    setTimeout(function() {\n      var new_options = __panel.getOptions();\n      assert.deepEqual(new_options['test_module'], {'test1': 'test2'}, \n                      '\u043e\u043f\u0446\u0438\u0438 \u0447\u0435\u0440\u0435\u0437 namespace \u0431\u044b\u043b\u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u044b');\n      \/\/\/ \u0443\u0434\u0430\u043b\u044f\u0435\u043c\n      new_options['test_module'] = undefined;\n      __panel.setOptions(new_options);\n      setTimeout(function() {\n        var new_options = __panel.getOptions();\n        assert.deepEqual('undefined', \n                          String(typeof(new_options['test_module'])).toLowerCase(), \n                          '\u043e\u043f\u0446\u0438\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u044b');\n        var local_options = JSON.parse(localStorage[__panel.getOptionsID()]);\n        assert.deepEqual('undefined', \n                          String(typeof(local_options['test_module'])).toLowerCase(), \n                          '\u043e\u043f\u0446\u0438\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u044b \u0438\u0437 localStorage');\n        $('<iframe id=\"goto-href-iframe\" src=\"' + document.location.href.split('?')[0]\n           + '?gwpanel_testing&continue\"><\/iframe>').load(function() {\n          var that = this;\n          waitPanelInitialization(this.contentWindow, function() {\n            var new_options = that.contentWindow.__panel.getOptions();\n            assert.deepEqual('undefined', \n                              String(typeof(new_options['test_module'])).toLowerCase(), \n                              '\u043e\u043f\u0446\u0438\u0438 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u044b');\n\n            QUnit.start();\n          });\n        }).appendTo('#qunit-fixture');\n      }, 100);\n    }, 100);\n  }, 100);\n});\n\nQUnit.asyncTest('\u043f\u0435\u0440\u0435\u0445\u043e\u0434 \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435', function(assert) {\n  expect(1);\n  var gotoURL = 'http:\/\/www.ganjawars.ru\/forum.php';\n  var gotoHref = false;\n  $('<iframe id=\"goto-href-iframe\" src=\"' + document.location.href.split('?')[0]\n     + '?gwpanel_testing&continue\"><\/iframe>').load(function() {\n    var that = this;\n    waitPanelInitialization(this.contentWindow, function() {\n      if(gotoHref) {\n        \/\/\/ \u0415\u0441\u043b\u0438 \u043c\u044b \u043f\u0435\u0440\u0435\u0448\u043b\u0438, \u0442\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u043c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435\n        assert.equal(gotoURL, that.contentWindow.location.href, \n                      '\u043f\u0435\u0440\u0435\u0445\u043e\u0434 \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0451\u043d');\n        QUnit.start();\n      } else {\n        \/\/\/ \u0415\u0441\u043b\u0438 \u043f\u0435\u0440\u0432\u044b\u0439 \u0437\u0430\u043f\u0443\u0441\u043a, \u0442\u043e \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u043c\n        gotoHref = true;\n        that.contentWindow.__panel.gotoHref(gotoURL);\n      }\n    });\n  }).appendTo('#qunit-fixture');\n\n});\n\n\/\/\/ \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430\nQUnit.test('\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0431\u0430\u0431\u0431\u043b\u043e\u0432', function(assert) {\n  var options = __panel.getOptions();\n  var activePanes = 0;\n  for(var i = 0; i < 4; i++) {\n    if(options.panes[i].widgets && options.panes[i].widgets.length + \n       options.panes[i].buttons && options.panes[i].buttons.length > 0) {\n      activePanes++;\n    }\n  }\n  assert.equal(activePanes, $('.pane-bubble:visible').length, \n    '\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u0438\u0434\u0438\u043c\u044b\u0445 \u0431\u0430\u0431\u0431\u043b\u043e\u0432');\n});\n\nQUnit.asyncTest('\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f \u0438 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f \u0431\u0430\u0431\u0431\u043b\u043e\u0432', function(assert) {\n  expect(8);\n  var options = jQuery.extend({}, panelSettingsCollection.default);\n  options.panes[0] = {\n    width: 6,\n    height: 4,\n    buttons: [{type: 'panel_link', top: 0, left: 0, title: '\u0424\u043e\u0440\u0443\u043c', \n    img: 'http:\/\/images.ganjawars.ru\/img\/forum\/f27.gif', \n    arguments: {\n      blank: 0,\n      link: 'http:\/\/www.ganjawars.ru\/forum.php'\n    }}],\n    widgets: []\n  };\n  __panel.setOptions(options);\n\n  $('<iframe id=\"goto-href-iframe\" src=\"' + document.location.href.split('?')[0]\n     + '?gwpanel_testing&continue\"><\/iframe>').load(function() {\n    var that = this;\n    waitPanelInitialization(this.contentWindow, function() {\n      (function($) {\n      \/\/\/ \u043a\u043b\u0438\u043a\u0430\u0435\u043c \u043f\u043e \u0431\u0430\u0431\u0431\u043b\u0443\n      $('.pane-bubble:first').click();\n      assert.ok($('.pane:visible').length > 0, '\u041e\u0442\u043a\u0440\u044b\u043b\u043e\u0441\u044c \u043e\u043a\u043e\u0448\u043a\u043e');\n      var that = this;\n      setTimeout(function() {\n        assert.ok($('.pane:visible').find('.button').length > 0,\n                  '\u041a\u043d\u043e\u043f\u043a\u0430 \u0432\u0438\u0434\u043d\u0430');\n        $('.pane-bubble:first').click();\n        assert.ok($('.pane:visible').length == 0, '\u0417\u0430\u043a\u0440\u044b\u043b\u043e\u0441\u044c \u043e\u043a\u043e\u0448\u043a\u043e');\n        $('.pane-bubble:first').click();\n        assert.ok($('.pane:visible').length > 0, '\u041e\u0442\u043a\u0440\u044b\u043b\u043e\u0441\u044c \u043e\u043a\u043e\u0448\u043a\u043e');\n        $(that.document.body).click();\n        assert.ok($('.pane:visible').length == 0, '\u0417\u0430\u043a\u0440\u044b\u043b\u043e\u0441\u044c \u043e\u043a\u043e\u0448\u043a\u043e \u043f\u043e \u043a\u043b\u0438\u043a\u0443 \u043f\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0443');\n\n        var e = $.Event('mousemove');\n        e.clientX = 500;\n        e.clientY = 500;\n\n        $(that).trigger(e);\n\n        var bubbleObject = $('.pane-bubble:first')[0];\n\n        var e = $.Event('mousemove');\n        e.clientX = bubbleObject.offsetLeft + 5;\n        e.clientY = bubbleObject.offsetTop + 50;\n        $(that).trigger(e);\n\n        $(bubbleObject).trigger('mouseover');\n        \n        assert.ok($('.pane:visible').length > 0, '\u041e\u0442\u043a\u0440\u044b\u043b\u043e\u0441\u044c \u043e\u043a\u043e\u0448\u043a\u043e \u043f\u0440\u0438 \u043d\u0430\u0432\u0435\u0434\u0435\u043d\u0438\u0438');\n        $('.pane-bubble:first').click();\n        assert.ok($('.pane:visible').length == 0, '\u0417\u0430\u043a\u0440\u044b\u043b\u043e\u0441\u044c \u043e\u043a\u043e\u0448\u043a\u043e');\n    \n        $(that).trigger(e);      \n        $(bubbleObject).trigger('mouseover');\n        assert.ok($('.pane:visible').length == 0, \n          '\u041f\u0440\u0438 \u043d\u0435\u0437\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u043c \u043d\u0430\u0432\u0435\u0434\u0435\u043d\u0438\u0438 \u043e\u0442\u043a\u0440\u044b\u0442\u044c\u0441\u044f \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e');\n\n        QUnit.start();\n      }, 100);\n    }).apply(that.contentWindow, [that.contentWindow.jQuery])\n    });\n  }).appendTo('#qunit-fixture').css({height: 1000, width: 1000}).show();\n  \n  \/\/$('#qunit-fixture').css({height: 1000, width: 1000, position: 'static'}).show();\n\n});\n\nQUnit.asyncTest('\u0422\u0435\u0441\u0442 drag-n-drop \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0442\u0430\u0441\u043a\u0438\u0432\u0430\u043d\u0438\u0438 \u043a\u043d\u043e\u043f\u043e\u043a', function(assert) {\n  var options = jQuery.extend({}, panelSettingsCollection.default);\n  options.panes[0] = {\n    width: 6,\n    height: 4,\n    buttons: [{type: 'panel_link', top: 0, left: 0, title: '\u0424\u043e\u0440\u0443\u043c', \n    img: 'http:\/\/images.ganjawars.ru\/img\/forum\/f27.gif', \n    arguments: {\n      blank: 0,\n      link: 'http:\/\/www.ganjawars.ru\/forum.php'\n    }}],\n    widgets: []\n  };\n  __panel.setOptions(options);\n\n  $('<iframe id=\"goto-href-iframe\" src=\"' + document.location.href.split('?')[0]\n     + '?gwpanel_testing&continue\"><\/iframe>').load(function() {\n    var that = this;\n    waitPanelInitialization(this.contentWindow, function() {\n      (function($) {\n      \/\/\/ \u043a\u043b\u0438\u043a\u0430\u0435\u043c \u043f\u043e \u0431\u0430\u0431\u0431\u043b\u0443\n      $('.pane-bubble:first').click();\n      var pane = $('.pane:visible');\n      assert.ok(pane.length > 0, '\u041e\u0442\u043a\u0440\u044b\u043b\u043e\u0441\u044c \u043e\u043a\u043e\u0448\u043a\u043e');\n      var that = this;\n      setTimeout(function() {\n        var button = pane.find('.button');\n        assert.ok(button.length > 0,\n                  '\u041a\u043d\u043e\u043f\u043a\u0430 \u0432\u0438\u0434\u043d\u0430');\n\n        var e = $.Event('mousemove');\n        var padding = parseInt(pane.css('padding'));\n        if(isNaN(padding)) padding = 0;\n        e.pageX = pane[0].offsetLeft + padding + 10;\n        e.pageY = pane[0].offsetTop + padding + 10;\n        $(that).trigger(e);\n\n        var mousedown = $.Event('mousedown');\n        \/\/\/ \u043b\u0435\u0432\u0430\u044f \u043a\u043d\u043e\u043f\u043a\u0430 \u043c\u044b\u0448\u0438\n        mousedown.which = 1;\n        mousedown.pageX = e.pageX;\n        mousedown.pageY = e.pageY;\n        var target = button.find('a');\n        mousedown.target = target[0];\n        button.trigger(mousedown);\n        var __window = that;\n\n        setTimeout(function() {\n          assert.ok(button.hasClass('ui-draggable'), 'Drag start');\n          assert.ok(pane.find('.pane-placeholder').length > 0, \n            '\u0415\u0441\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u043c\u0435\u0441\u0442\u0430 \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0442\u0430\u0441\u043a\u0438\u0432\u0430\u043d\u0438\u044f');\n\n          var mousemove = $.Event('mousemove');\n          mousemove.pageX = mousedown.pageX + 75;\n          mousemove.pageY = mousedown.pageY + 150;\n          __window.jQuery(__window.document).trigger(mousemove);\n\n          var mouseup = $.Event('mouseup');\n          mouseup.pageX = mousemove.pageX;\n          mouseup.pageY = mousemove.pageY;\n          button.trigger(mouseup);\n\n          assert.ok(!button.hasClass('ui-draggable'), 'Drag end');\n          assert.ok(pane.find('.pane-placeholder').length == 0, \n            '\u041d\u0435\u0442 \u043e\u0442\u043c\u0435\u0442\u043e\u043a \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0442\u0430\u0441\u043a\u0438\u0432\u0430\u043d\u0438\u044f');\n          assert.equal(__window.__panel.getOptions().panes[0].buttons[0].left, 1,\n            '\u041f\u043e\u0437\u0438\u0446\u0438\u044f \u043a\u043d\u043e\u043f\u043a\u0438 \u0441\u043b\u0435\u0432\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c = 1');\n          assert.equal(__window.__panel.getOptions().panes[0].buttons[0].top, 2, \n            '\u041f\u043e\u0437\u0438\u0446\u0438\u044f \u043a\u043d\u043e\u043f\u043a\u0438 \u0441\u043b\u0435\u0432\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c = 2');\n\n          QUnit.start();\n        }, 1000);\n      }, 100);\n      \/\/QUnit.start();\n    }).apply(that.contentWindow, [that.contentWindow.jQuery])\n    });\n  }).appendTo('#qunit-fixture').css({height: 1000, width: 1000}).show();\n  \n  \/\/$('#qunit-fixture').css({height: 1000, width: 1000, position: 'static'}).show();\n\n});\n\nQUnit.asyncTest('\u0422\u0435\u0441\u0442 drag-n-drop \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0442\u0430\u0441\u043a\u0438\u0432\u0430\u043d\u0438\u0438 \u0432\u0438\u0434\u0436\u0435\u0442\u043e\u0432', function(assert) {\n  var options = jQuery.extend({}, panelSettingsCollection.default);\n  \/\/\/ \u0414\u0435\u043b\u0430\u0435\u043c \u0431\u0435\u043a\u0430\u043f \u043e\u043f\u0446\u0438\u0439 \u043e\u043a\u043e\u043d\n  options.panes[0] = {\n    width: 6,\n    height: 4,\n    buttons: [],\n    widgets: [{\n      'type': 'npc_npc_z',\n      top: 0,\n      left: 0,\n      arguments: {\n        friends: [5, 11],\n        enemies: [1, 4, 7, 9],\n        undress: 1\n      }\n    }]\n  };\n  __panel.setOptions(options, undefined, function() {\n    $('<iframe id=\"goto-href-iframe\" src=\"' + document.location.href.split('?')[0]\n       + '?gwpanel_testing&continue\"><\/iframe>').load(function() {\n      var that = this;\n      waitPanelInitialization(this.contentWindow, function() {\n        (function($) {\n        \/\/\/ \u043a\u043b\u0438\u043a\u0430\u0435\u043c \u043f\u043e \u0431\u0430\u0431\u0431\u043b\u0443\n        $('.pane-bubble:first').click();\n\n        setTimeout(function() {\n        var pane = $('.pane:visible');\n        \/\/\/ \u0416\u0434\u0451\u043c \u043f\u0440\u043e\u0440\u0438\u0441\u043e\u0432\u043a\u0438 \u0432\u0438\u0434\u0436\u0435\u0442\u0430\n        setTimeout(function() {\n        (function($) {\n          assert.ok(pane.length > 0, '\u041e\u0442\u043a\u0440\u044b\u043b\u043e\u0441\u044c \u043e\u043a\u043e\u0448\u043a\u043e');\n          var widget = pane.find('.widget');\n\n          assert.ok(widget.length > 0,\n                    '\u0412\u0438\u0434\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u043d');\n\n          var e = $.Event('mousemove');\n          var padding = parseInt(pane.css('padding'));\n          if(isNaN(padding)) padding = 0;\n          e.pageX = pane[0].offsetLeft + padding + 30;\n          e.pageY = pane[0].offsetTop + padding + 30;\n          $(this).trigger(e);\n\n          var mousedown = $.Event('mousedown');\n          \/\/\/ \u043b\u0435\u0432\u0430\u044f \u043a\u043d\u043e\u043f\u043a\u0430 \u043c\u044b\u0448\u0438\n          mousedown.which = 1;\n          mousedown.pageX = e.pageX;\n          mousedown.pageY = e.pageY;\n          mousedown.target = widget[0].firstChild;\n          widget.trigger(mousedown);\n          var __window = this;\n\n          setTimeout(function() {\n            assert.ok(widget.hasClass('ui-draggable'), 'Drag start');\n            assert.ok(pane.find('.pane-placeholder').length > 0, \n              '\u0415\u0441\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u043c\u0435\u0441\u0442\u0430 \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0442\u0430\u0441\u043a\u0438\u0432\u0430\u043d\u0438\u044f');\n\n            var mousemove = $.Event('mousemove');\n            mousemove.pageX = mousedown.pageX + 75;\n            mousemove.pageY = mousedown.pageY + 150;\n            __window.jQuery(__window.document).trigger(mousemove);\n\n            var mouseup = $.Event('mouseup');\n            mouseup.pageX = mousemove.pageX;\n            mouseup.pageY = mousemove.pageY;\n            widget.trigger(mouseup);\n\n            assert.ok(!widget.hasClass('ui-draggable'), 'Drag end');\n            assert.ok(pane.find('.pane-placeholder').length == 0, \n              '\u041d\u0435\u0442 \u043e\u0442\u043c\u0435\u0442\u043e\u043a \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0442\u0430\u0441\u043a\u0438\u0432\u0430\u043d\u0438\u044f');\n            assert.equal(0, __window.__panel.getOptions().panes[0].widgets[0].left,\n              '\u041f\u043e\u0437\u0438\u0446\u0438\u044f \u0432\u0438\u0434\u0436\u0435\u0442\u0430 \u0441\u043b\u0435\u0432\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c = 0, \u0442.\u043a. \u0432\u0438\u0434\u0436\u0435\u0442 \u043d\u0430 \u0432\u0441\u044e \u0448\u0438\u0440\u0438\u043d\u0443');\n            assert.equal(2, __window.__panel.getOptions().panes[0].widgets[0].top,\n              '\u041f\u043e\u0437\u0438\u0446\u0438\u044f \u0432\u0438\u0434\u0436\u0435\u0442\u0430 \u0441\u043b\u0435\u0432\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c = 2');\n            QUnit.start();\n          }, 2000);\n        }).apply(that.contentWindow, [that.contentWindow.jQuery])}, 100);\n\n        }, 100);\n        \/\/QUnit.start();\n      }).apply(that.contentWindow, [that.contentWindow.jQuery])\n      });\n    }).appendTo('#qunit-fixture').css({height: 1000, width: 1000}).show();\n  });\n  \/\/$('#qunit-fixture').css({height: 1000, width: 1000, position: 'static'}).show();\n\n});\n\/\/\/ TODO: \u0442\u0435\u0441\u0442 setWidgetOptions\n\nQUnit.asyncTest(\"\u0422\u0435\u0441\u0442 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 __panel.currentPlayerName()\", function(assert) {\n  expect(1);\n  __panel.currentPlayerName(function(name) {\n    assert.equal('string', String(typeof(name)).toLowerCase(),\n        '\u0418\u043c\u044f \u0438\u0433\u0440\u043e\u043a\u0430 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e');\n    QUnit.start();\n  });\n});","stat\/stat.ach.js":"(function(panel) {\njQuery.extend(panel, {\n  stat_update_achievements: function() {\n    \n  },\n  \n  stat_draw_achievements: function() {\n    \n  },\n  \n  stat_get_achievements: function() {\n    \n  }\n})})(window.__panel);","stat\/stat.js":"(function(panel) {\njQuery.extend(panel, {\n  stat_check_update_achievements: function() {\n    __panel.get('stat_ach_upd', function(stat_ach_upd) {\n      if(!stat_ach_upd || stat_ach_upd < ((new Date).getTime() - 1800000)) {\n        __panel.loadScript('stat\/stat.ach.js', function() {\n          __panel.stat_get_achievements();\n        });\n        __panel.set('stat_ach_upd', (new Date).getTime());\n      }\n    });\n  }\n})})(window.__panel);","stat\/stat.personal.js":"(function(panel) {\n  var skillsTable, syndnode, expTable;\njQuery.extend(panel, {\n  stat_update_personal: function() {\n    \/\/\u041e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u043c \u0441\u0447\u0451\u0442\u0447\u0438\u043a\u0438 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435\n    skillsTable = jQuery('img[src*=\"skill_combat_pistols.gif\"]').get(0);\n    if(skillsTable != null){\n        skillsTable = skillsTable.offsetParent.offsetParent;\n    }else{\n        return false;\n    }\n    jQuery(skillsTable).css({position: 'relative'});\n    var matches = (skillsTable.textContent || skillsTable.innerText).match(\/[0-9\\\/]+ \\([0-9\\.]+\\)\\+[0-9\\.\\-]+\/g);\n      \/\/alert(matches);\n    if(!matches) return false;\n    var actualSkills = [];\n    for(var i = 0; i < matches.length; i++) {\n      actualSkills[i] = parseFloat(matches[i].split('(')[1].split(')')[0]);\n    }\n    var dayStart = new Date; dayStart.setHours(0); dayStart.setMinutes(0); dayStart.setSeconds(0); dayStart.setMilliseconds(0);\n    var monthStart = new Date; monthStart.setDate(1); monthStart.setHours(0); monthStart.setMinutes(0); monthStart.setSeconds(0);  monthStart.setMilliseconds(0);\n    __panel.get('stat_skills', function(stat) {\n      var changes = {};\n      var changed;\n      \n      if(!stat) {\n        \/\/ initializing stats\n        stat = {\n          start: actualSkills,\n          prev: actualSkills,\n          curr: actualSkills,\n          daily: {},\n          monthly: {}\n        };\n        stat.daily[dayStart.getTime()] = [0, 0, 0, 0, 0, 0];\n        stat.monthly[monthStart.getTime()] = [0, 0, 0, 0, 0, 0];\n        changed = true;\n      } else {\n        for(var i = 0; i < actualSkills.length; i++) {\n          var delta = 0;\n          if(stat.curr[i] < actualSkills[i]) {\n            stat.prev[i] = stat.curr[i];\n            stat.curr[i] = actualSkills[i];\n            changed = true;\n            delta = stat.curr[i] - stat.prev[i];\n            changes[i] = delta;\n            if(typeof(stat.daily[dayStart.getTime()]) != 'object') stat.daily[dayStart.getTime()] = [0, 0, 0, 0, 0, 0];\n            stat.daily[dayStart.getTime()][i] += delta;\n            if(typeof(stat.monthly[monthStart.getTime()]) != 'object') stat.monthly[monthStart.getTime()] = [0, 0, 0, 0, 0, 0];\n            stat.monthly[monthStart.getTime()][i] += delta;\n          } else {\n            delta = stat.curr[i] - stat.prev[i];\n          }\n          var overall = actualSkills[i] - stat.start[i];\n          if(overall > 0) {\n            overall = Math.round(overall * 100) \/ 100;\n            delta = Math.round(delta * 100) \/ 100;\n            var font = document.createElement('font');\n            var nobr = skillsTable.rows[i].cells[1].childNodes[0];\n            var child = nobr.childNodes[5];\n            if(!child.offsetWidth) child = nobr.childNodes[4];\n            var top = child.offsetTop + skillsTable.rows[i].cells[1].offsetHeight * i;\n            nobr.innerHTML += ' <font title=\"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043e \u0443\u043c\u0435\u043d\u0438\u0439 \u0437\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0431\u043e\u0439: ' + delta + '\" style=\"color: red; font-size: 8px; position: absolute; margin-left: 4px; top: ' + top + 'px;\">+' + overall + '<\/font>';\n          }\n        }\n      }\n      if(changed) {\n        __panel.set('stat_skills', stat, function() {\n          __panel.triggerEvent('stat_skills', {stat_skills: stat, changes: changes});\n        });\n      }\n    });\n\n    jQuery('span > nobr > a').each(function() {\n      if(this.href.indexOf('syndicate.php?id=') != -1) {\n        syndnode = this.parentNode.nextSibling;\n      }\n    });\n    \n    if(syndnode) {\n      \n      __panel.get('stat_syndexp', function(stat) {\n        var changes = {};\n        var changed;\n        \n        var text = String(syndnode.textContent || syndnode.innerText);\n        var r = text.split(' ');\n        var expCount = parseInt(r[2].slice(1, r[2].length - 1));\n        \n        if(!stat) {\n          \/\/ initializing stats\n          stat = {\n            start: expCount,\n            prev: expCount,\n            curr: expCount,\n            daily: {},\n            monthly: {}\n          };\n          stat.daily[dayStart.getTime()] = 0;\n          stat.monthly[monthStart.getTime()] = 0;\n          changed = true;\n          __panel.set('stat_syndexp', stat);\n        } else {\n          __panel.loadScript('data\/exp_table.js', function() {\n            for(var i = 0; i < __panel.expTable.length; i++) {\n              if(expCount < __panel.expTable[i]) {\n                var font = document.createElement('font');\n                font.style.color = '#809980';\n                font.style.fontSize = '10px';\n                var syndExp = (__panel.expTable[i] - expCount);\n                font.innerHTML = '&nbsp;+' + syndExp;\n                if(stat.curr < expCount) {\n                  stat.prev = stat.curr;\n                  stat.curr = expCount;\n                  var g = stat.curr - stat.prev;\n                  changed = true;\n                  if(isNaN(stat.daily[dayStart.getTime()])) stat.daily[dayStart.getTime()] = g;\n                  else stat.daily[dayStart.getTime()] += g;\n                  if(isNaN(stat.monthly[monthStart.getTime()])) stat.monthly[monthStart.getTime()] = g;\n                  else stat.monthly[monthStart.getTime()] += g;\n                } else {\n                  syndnode.appendChild(font);\n                }\n                var overall = stat.curr - stat.start;\n                var g = stat.curr - stat.prev;\n                if(overall > 0) {\n                  font.innerHTML += '&nbsp;<font title=\"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043e \u0441\u0438\u043d\u0434\u0438\u043a\u0430\u0442\u043d\u043e\u0433\u043e \u043e\u043f\u044b\u0442\u0430 \u0437\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0431\u043e\u0439: ' + g + '\" style=\"color: red;\">(+' + overall + ')<\/font>';\n                }\n                syndnode.appendChild(font);\n                changed = true;\n                break;\n              }\n            }\n            if(changed) {\n              __panel.set('stat_syndexp', stat, function() {\n                __panel.triggerEvent('stat_syndexp', {stat_syndexp: stat, exp: expCount});\n              });\n            }\n          });\n        }\n      });\n    }\n    \n    expTable = skillsTable.parentNode.previousSibling.getElementsByTagName('table')[0];\n    var actualExp = {};\n    try {\n      var text = jQuery(expTable).text();\n      actualExp.battle = parseFloat(text.match(\/\u0411\u043e\u0435\u0432\u043e\u0439 \u0443\u0440\u043e\u0432\u0435\u043d\u044c:[0-9]+[ ]\\(([0-9\\.]+)\\)\/)[1]);\n      actualExp.economic = parseFloat(text.match(\/\u042d\u043a\u043e\u043d\u043e\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0439:[0-9]+[ ]\\(([0-9\\.]+)\\)\/)[1]);\n      actualExp.product = parseFloat(text.match(\/\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439:[0-9]+[ ]\\(([0-9\\.]+)\\)\/)[1]);\n    } catch(e) {};\n    \n    __panel.get('stat_exp', function(stat) {\n      if(!stat) {\n        stat = {\n          battle: {curr: actualExp.battle, prev: actualExp.battle, start: actualExp.battle, daily: {}, monthly: {}},\n          economic: {curr: actualExp.economic, prev: actualExp.economic, start: actualExp.economic, daily: {}, monthly: {}},\n          product: {curr: actualExp.product, prev: actualExp.product, start: actualExp.product, daily: {}, monthly: {}}\n        }\n        __panel.set('stat_exp', stat);\n      } else {\n        var changed = false;\n        var i = 0;\n        for(key in actualExp) {\n          if(stat[key].curr < actualExp[key]) {\n            stat[key].prev = stat[key].curr;\n            stat[key].curr = actualExp[key];\n            var overall = stat[key].curr - stat[key].prev;\n            if(!stat[key].daily[dayStart]) stat[key].daily[dayStart] = overall;\n            else stat[key].daily[dayStart] += overall;\n            if(!stat[key].monthly[monthStart]) stat[key].monthly[monthStart] = overall;\n            else stat[key].monthly[monthStart] += overall;\n            changed = true;\n          };\n          var overall = actualExp[key] - stat[key].start;\n          var g = stat[key].curr - stat[key].prev;\n          if(overall > 0) {\n            overall = Math.round(overall * 100) \/ 100;\n            g = Math.round(g * 100) \/ 100;\n            var cell = expTable.rows[i].cells[3];\n            cell.innerHTML += ' <font title=\"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043e \u043e\u043f\u044b\u0442\u0430 \u0437\u0430 ' + (key == 'battle'? '\u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0431\u043e\u0439': (key == 'economic'? '\u043f\u043e\u0441\u043b\u0435\u0434\u043d\u044e\u044e \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044e': '\u043e\u0442\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0435 \u0447\u0430\u0441\u044b')) + ': ' + g + '\" style=\"color: red; font-size: 8px; position: absolute; margin: 2px 0 0 0;\">+' + overall + '<\/font>';\n          };\n          i++;\n        }\n        if(changed) {\n          __panel.set('stat_exp', stat, function() {\n            __panel.triggerEvent('stat_exp', {stat_exp: stat, exp: overall});\n          });\n        };   \n      }\n    });\n  },\n  \n  stat_update_info_personal: function() {\n    \/\/\u041e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u043c \u0441\u0447\u0451\u0442\u0447\u0438\u043a\u0438 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430\n    \n  },\n  \n  stat_draw_main_counters: function() {\n    \/\/\u0412\u044b\u0432\u043e\u0434\u0438\u043c \u0441\u0447\u0451\u0442\u0447\u0438\u043a\u0438 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435\n    \n  },\n  \n  stat_draw_info_counters: function() {\n    \/\/\u0412\u044b\u0432\u043e\u0434\u0438\u043c \u0441\u0447\u0451\u0442\u0447\u0438\u043a\u0438 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430\n    \n  }\n})})(window.__panel);","apply.js":"window.panel_apply = {\"pages\":{\"\\\/me\\\/\":[\"panel_homepage\",\"stat_update_personal\",\"stat_draw_main_counters\",\"stat_check_update_achievements\",{\"home_durability\":\"!options.home.nodura\"},\"map_sector\"],\"\\\/login.php\":[\"panel_login\"],\"\\\/info.php\":[\"stat_update_info_personal\",\"stat_draw_info_counters\",\"map_links\"],\"\\\/info.ach.php\":[\"stat_update_achievements\",\"stat_draw_achievements\"],\"\\\/walk.php\":[\"outland_init\"],\"\\\/walk.op.php\":[\"outland_init\"],\"\\\/walk.ep.php\":[\"outland_init\"],\"\\\/npc.php\":[\"npc_updStatus\",\"map_links\"],\"\\\/warlog.php\":[\"ncp_warlogCheck\"],\"*\":[\"home_health\"],\"\\\/map.move.php\":[\"map_mmupdate\"],\"\\\/map.moving.php\":[\"map_mmupdate\"],\"\\\/object.php\":[\"map_links\"],\"\\\/statlist.php\":[\"map_links\"],\"\\\/objects-bar.php\":[\"map_links\"],\"\\\/b0\\\/btl.php\":[\"battle_fix\",\"battle_init\"],\"\\\/b0\\\/b.php\":[\"battle_init\"]},\"scripts\":{\"panel_homepage\":\"panel\\\/panel.js\",\"panel_login\":\"panel\\\/panel.js\",\"stat_update_personal\":\"stat\\\/stat.personal.js\",\"stat_draw_main_counters\":\"stat\\\/stat.personal.js\",\"stat_check_update_achievements\":\"stat\\\/stat.js\",\"stat_update_info_personal\":\"stat\\\/stat.personal.js\",\"stat_draw_info_counters\":\"stat\\\/stat.personal.js\",\"stat_update_achievements\":\"stat\\\/stat.ach.js\",\"stat_draw_achievements\":\"stat\\\/stat.ach.js\",\"stat_get_achievements\":\"stat\\\/stat.ach.js\",\"outland_init\":\"outland\\\/outland.js\",\"npc_updStatus\":\"npc\\\/npc.js\",\"ncp_warlogCheck\":\"npc\\\/npc.js\",\"npc_battleEnd\":\"npc\\\/npc.js\",\"home_durability\":\"home\\\/home.js\",\"home_health\":\"home\\\/home_health.js\",\"map_sector\":\"map\\\/map.js\",\"map_mmupdate\":\"map\\\/map.js\",\"map_links\":\"map\\\/map.js\",\"battle_fix\":\"battle\\\/battle.js\",\"battle_init\":\"battle\\\/battle.js\"},\"events\":{\"stat_ach\":[{\"callback\":\"stat_get_achievements\",\"file\":\"stat.ach.js\",\"local\":true,\"event\":\"stat_ach\"}],\"npc_battleend\":[{\"file\":\"npc.js\",\"callback\":\"npc_battleEnd\",\"local\":true,\"event\":\"npc_battleend\"}]},\"widgets\":{\"home_health_widget\":{\"title\":\"\\u0418\\u043d\\u0434\\u0438\\u043a\\u0430\\u0442\\u043e\\u0440 \\u0432\\u044b\\u0437\\u0434\\u043e\\u0440\\u043e\\u0432\\u043b\\u0435\\u043d\\u0438\\u044f\",\"configure\":true,\"callback\":\"home_health_widget\",\"file\":\"home_widgets.js\",\"width\":2,\"height\":1,\"module\":\"home\"},\"npc_npc_z\":{\"title\":\"NPC [Z]\",\"configure\":true,\"callback\":\"npc_widget\",\"arguments\":[2],\"file\":\"npc_widgets.js\",\"width\":6,\"height\":2,\"module\":\"npc\"},\"npc_npc_g\":{\"title\":\"NPC [G]\",\"configure\":true,\"callback\":\"npc_widget\",\"arguments\":[1],\"file\":\"npc_widgets.js\",\"width\":6,\"height\":2,\"module\":\"npc\"},\"npc_npc_p\":{\"title\":\"NPC [P]\",\"configure\":true,\"callback\":\"npc_widget\",\"arguments\":[3],\"file\":\"npc_widgets.js\",\"width\":6,\"height\":2,\"module\":\"npc\"}},\"buttons\":{\"map_gohome\":{\"title\":\"\\u0414\\u043e\\u043c\\u043e\\u0439\",\"configure\":true,\"img\":\"icons\\\/home.png\",\"callback\":\"map_gohome\",\"file\":\"map_buttons.js\",\"module\":\"map\"},\"map_goport\":{\"title\":\"\\u0412 \\u043f\\u043e\\u0440\\u0442\",\"configure\":true,\"img\":\"icons\\\/anchor.png\",\"callback\":\"map_goport\",\"file\":\"map_buttons.js\",\"module\":\"map\"},\"map_goout\":{\"title\":\"Outland\",\"configure\":true,\"img\":\"icons\\\/outland.png\",\"callback\":\"map_goout\",\"file\":\"map_buttons.js\",\"module\":\"map\"},\"map_gooverlord\":{\"title\":\"Overlord\",\"configure\":true,\"img\":\"icons\\\/overlord.png\",\"callback\":\"map_gooverlord\",\"file\":\"map_buttons.js\",\"module\":\"map\"},\"panel_link\":{\"title\":\"\\u0421\\u0441\\u044b\\u043b\\u043a\\u0430\",\"configure\":true,\"callback\":\"panel_link\",\"file\":\"panel_buttons.js\",\"module\":\"panel\"},\"panel_settings\":{\"title\":\"\\u041d\\u0430\\u0441\\u0442\\u0440\\u043e\\u0439\\u043a\\u0438\",\"configure\":false,\"callback\":\"gotoHref\",\"callback_arguments\":\"http:\\\/\\\/gwpanel.org\\\/panel\\\/settings\",\"img\":\"icons\\\/settings.png\",\"module\":\"panel\"},\"panel_exit\":{\"title\":\"\\u0412\\u044b\\u0445\\u043e\\u0434\",\"configure\":false,\"callback\":\"panel_exit\",\"img\":\"icons\\\/exit.png\",\"module\":\"panel\"}}};","themes\/base\/outland\/outland.css":"\nbody.walk-php td > a > img, body.walk-op-php td > a > img {\n  background: url(http:\/\/gwpanel.org\/panel2\/themes\/base\/outland\/terrain.gif) no-repeat left top;\n}\n\nbody.walk-php td > a > img.attack, body.walk-op-php td > a > img.attack {\n  background: url(http:\/\/gwpanel.org\/panel2\/themes\/base\/outland\/t_a.gif) no-repeat left top;\n}\n\nbody.walk-php td > a > img.busy, body.walk-op-php td > a > img.busy {\n  background: url(http:\/\/images.ganjawars.ru\/q\/t_o.gif) no-repeat left top;\n}\n\nbody.walk-php div.move_topleft, body.walk-op-php div.move_topleft {\n  background: url(http:\/\/gwpanel.org\/panel2\/themes\/base\/outland\/nav.png) no-repeat 0px 0px;\n}\n\nbody.walk-php div.move_top, body.walk-op-php div.move_top {\n  background: url(http:\/\/gwpanel.org\/panel2\/themes\/base\/outland\/nav.png) no-repeat -25px 0px;\n}\n\nbody.walk-php div.move_topright, body.walk-op-php div.move_topright {\n  background: url(http:\/\/gwpanel.org\/panel2\/themes\/base\/outland\/nav.png) no-repeat -50px 0px;\n}\n\nbody.walk-php div.move_right, body.walk-op-php div.move_right {\n  background: url(http:\/\/gwpanel.org\/panel2\/themes\/base\/outland\/nav.png) no-repeat -50px -25px;\n}\n\nbody.walk-php div.move_bottomright, body.walk-op-php div.move_bottomright {\n  background: url(http:\/\/gwpanel.org\/panel2\/themes\/base\/outland\/nav.png) no-repeat -50px -50px;\n}\n\nbody.walk-php div.move_bottom, body.walk-op-php div.move_bottom {\n  background: url(http:\/\/gwpanel.org\/panel2\/themes\/base\/outland\/nav.png) no-repeat -25px -50px;\n}\n\nbody.walk-php div.move_bottomleft, body.walk-op-php div.move_bottomleft {\n  background: url(http:\/\/gwpanel.org\/panel2\/themes\/base\/outland\/nav.png) no-repeat 0px -50px;\n}\n\nbody.walk-php div.move_left, body.walk-op-php div.move_left {\n  background: url(http:\/\/gwpanel.org\/panel2\/themes\/base\/outland\/nav.png) no-repeat 0px -25px;\n}\n","themes\/base\/panel.css":".pane-bubble {\n  width: 1%;\n  min-width: 12px;\n  height: 25%;\n  position: fixed;\n  background: #B5E6B5;\n  opacity: 0.5;\n}\n\n.threads-php .pane-bubble, .forum-php .pane-bubble, .messages-php .pane-bubble {\n  opacity: 0.3;\n}\n.pane-bubble.left {\n  left: 0;\n  border-radius: 0 15px 15px 0;\n}\n\n.pane-bubble.right {\n  right: 0;\n  border-radius: 15px 0 0 15px;\n}\n\n.pane-bubble.top {\n  top: 17%;\n}\n\n.pane-bubble.bottom {\n  bottom: 17%;\n}\n\n.pane-bubble:hover, .pane-bubble.active {\n  background: #ebf7eb;\n  opacity: 1;\n}\n\n.threads-php .pane-bubble:hover, .threads-php .pane-bubble.active, .forum-php .pane-bubble:hover, .forum-php .pane-bubble.active, .messages-php .pane-bubble:hover, .messages-php .pane-bubble.active {\n  opacity: 0.7; \n}\n\n.pane {\n  background: #f0fff0;\n  opacity: 1;\n  border-radius: 15px;\n  position: fixed;\n  padding: 20px;\n  z-index: 3;\n}\n\n.pane .container {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: inline-block;\n}\n\n.pane.top {\n top: 17%; \n}\n\n.pane.bottom {\n bottom: 17%; \n}\n\n.pane.left {\n left: 2%; \n  box-shadow: 2px 2px 6px #000;\n}\n\n.pane.right {\n right: 2%; \n  box-shadow: -2px 2px 6px #000;\n}\n\n\n.pane .button {\n  display: inline-block;\n  width: 60px;\n  overflow: hidden;\n  text-align: center;\n  position: absolute;\n  z-index: 1;\n}\n\n.pane .button:hover {\n  background: #fff;\n  border-radius: 5px;\n  padding: 4px 0 0;\n  margin: -4px 0 0;\n}\n\n\n.pane .button a {\n  display: block;\n  cursor: pointer;\n  height: 85px;\n  overflow: hidden;\n}\n\n.pane .button h3 {\n  margin-top: 5px;\n  font-size: 12px;\n  line-height: 15px;\n  font-weight: normal;\n}\n\n.pane .button .img {\n  height: 51px;\n}\n\n.pane .widget {\n  overflow: hidden;\n  position: absolute;\n  z-index: 1;\n}\n\n.pane-placeholder {\n  position: absolute;\n  z-index: 0;\n  background: #fff;\n}\n\n.float-widget {\n  position: absolute;\n  background: #d0eed0;\n  opacity: .6;\n  border-radius: 10px;\n  z-index: 2;\n}","themes\/base\/home\/home_widget.css":".home_health_widget {\n  padding: 10px;\n  width: 130px;\n}\n\n.home_health_widget img {\n  opacity: .2;\n  position: absolute;\n}\n\n.home_health_widget .progress-container {\n  width: 100px;\n  border: 1px solid #990000;\n  position: relative;\n  height: 30px;\n  float: right;\n  cursor: pointer;\n}\n\n.home_health_widget .progress-bar {\n  position: absolute;\n  height: 30px;\n  left: 0;\n  top: 0;\n  width: 0%;\n  background: #990000;\n  overflow: hidden;\n}\n\n.home_health_widget .progress-container .text {\n  font-size: 14px;\n  color: #990000;\n  font-weight: bold;\n  text-align: center;\n}\n\n.home_health_widget .progress-bar .progress-bar-text {\n  width: 100px;\n  text-align: center;\n  font-size: 14px;\n  color: #fff;\n  font-weight: bold;\n}","themes\/base\/npc\/npc_widget.css":".npc-widget {\n  padding-top: 4px;\n}\n\n.npc-widget a {\n  font-size: 14px;\n  line-height: 21px;\n}\n\n.npc-widget .enemy a {\n  color: #990000;\n}\n\n.npc-widget .links a {\n  padding: 0 4px;\n}\n\n.npc-widget .links img {\n  width: 12px;\n}","themes\/base\/test.css":".foo-bar {\n  font-size: 32px;\n}","lib\/qunit-1.15.0.css":"\/*!\n * QUnit 1.15.0\n * http:\/\/qunitjs.com\/\n *\n * Copyright 2014 jQuery Foundation and other contributors\n * Released under the MIT license\n * http:\/\/jquery.org\/license\n *\n * Date: 2014-08-08T16:00Z\n *\/\n\n\/** Font Family and Sizes *\/\n\n#qunit-tests, #qunit-header, #qunit-banner, #qunit-testrunner-toolbar, #qunit-userAgent, #qunit-testresult {\n\tfont-family: \"Helvetica Neue Light\", \"HelveticaNeue-Light\", \"Helvetica Neue\", Calibri, Helvetica, Arial, sans-serif;\n}\n\n#qunit-testrunner-toolbar, #qunit-userAgent, #qunit-testresult, #qunit-tests li { font-size: small; }\n#qunit-tests { font-size: smaller; }\n\n\n\/** Resets *\/\n\n#qunit-tests, #qunit-header, #qunit-banner, #qunit-userAgent, #qunit-testresult, #qunit-modulefilter {\n\tmargin: 0;\n\tpadding: 0;\n}\n\n\n\/** Header *\/\n\n#qunit-header {\n\tpadding: 0.5em 0 0.5em 1em;\n\n\tcolor: #8699A4;\n\tbackground-color: #0D3349;\n\n\tfont-size: 1.5em;\n\tline-height: 1em;\n\tfont-weight: 400;\n\n\tborder-radius: 5px 5px 0 0;\n}\n\n#qunit-header a {\n\ttext-decoration: none;\n\tcolor: #C2CCD1;\n}\n\n#qunit-header a:hover,\n#qunit-header a:focus {\n\tcolor: #FFF;\n}\n\n#qunit-testrunner-toolbar label {\n\tdisplay: inline-block;\n\tpadding: 0 0.5em 0 0.1em;\n}\n\n#qunit-banner {\n\theight: 5px;\n}\n\n#qunit-testrunner-toolbar {\n\tpadding: 0.5em 1em 0.5em 1em;\n\tcolor: #5E740B;\n\tbackground-color: #EEE;\n\toverflow: hidden;\n}\n\n#qunit-userAgent {\n\tpadding: 0.5em 1em 0.5em 1em;\n\tbackground-color: #2B81AF;\n\tcolor: #FFF;\n\ttext-shadow: rgba(0, 0, 0, 0.5) 2px 2px 1px;\n}\n\n#qunit-modulefilter-container {\n\tfloat: right;\n}\n\n\/** Tests: Pass\/Fail *\/\n\n#qunit-tests {\n\tlist-style-position: inside;\n}\n\n#qunit-tests li {\n\tpadding: 0.4em 1em 0.4em 1em;\n\tborder-bottom: 1px solid #FFF;\n\tlist-style-position: inside;\n}\n\n#qunit-tests.hidepass li.pass, #qunit-tests.hidepass li.running  {\n\tdisplay: none;\n}\n\n#qunit-tests li strong {\n\tcursor: pointer;\n}\n\n#qunit-tests li a {\n\tpadding: 0.5em;\n\tcolor: #C2CCD1;\n\ttext-decoration: none;\n}\n#qunit-tests li a:hover,\n#qunit-tests li a:focus {\n\tcolor: #000;\n}\n\n#qunit-tests li .runtime {\n\tfloat: right;\n\tfont-size: smaller;\n}\n\n.qunit-assert-list {\n\tmargin-top: 0.5em;\n\tpadding: 0.5em;\n\n\tbackground-color: #FFF;\n\n\tborder-radius: 5px;\n}\n\n.qunit-collapsed {\n\tdisplay: none;\n}\n\n#qunit-tests table {\n\tborder-collapse: collapse;\n\tmargin-top: 0.2em;\n}\n\n#qunit-tests th {\n\ttext-align: right;\n\tvertical-align: top;\n\tpadding: 0 0.5em 0 0;\n}\n\n#qunit-tests td {\n\tvertical-align: top;\n}\n\n#qunit-tests pre {\n\tmargin: 0;\n\twhite-space: pre-wrap;\n\tword-wrap: break-word;\n}\n\n#qunit-tests del {\n\tbackground-color: #E0F2BE;\n\tcolor: #374E0C;\n\ttext-decoration: none;\n}\n\n#qunit-tests ins {\n\tbackground-color: #FFCACA;\n\tcolor: #500;\n\ttext-decoration: none;\n}\n\n\/*** Test Counts *\/\n\n#qunit-tests b.counts                       { color: #000; }\n#qunit-tests b.passed                       { color: #5E740B; }\n#qunit-tests b.failed                       { color: #710909; }\n\n#qunit-tests li li {\n\tpadding: 5px;\n\tbackground-color: #FFF;\n\tborder-bottom: none;\n\tlist-style-position: inside;\n}\n\n\/*** Passing Styles *\/\n\n#qunit-tests li li.pass {\n\tcolor: #3C510C;\n\tbackground-color: #FFF;\n\tborder-left: 10px solid #C6E746;\n}\n\n#qunit-tests .pass                          { color: #528CE0; background-color: #D2E0E6; }\n#qunit-tests .pass .test-name               { color: #366097; }\n\n#qunit-tests .pass .test-actual,\n#qunit-tests .pass .test-expected           { color: #999; }\n\n#qunit-banner.qunit-pass                    { background-color: #C6E746; }\n\n\/*** Failing Styles *\/\n\n#qunit-tests li li.fail {\n\tcolor: #710909;\n\tbackground-color: #FFF;\n\tborder-left: 10px solid #EE5757;\n\twhite-space: pre;\n}\n\n#qunit-tests > li:last-child {\n\tborder-radius: 0 0 5px 5px;\n}\n\n#qunit-tests .fail                          { color: #000; background-color: #EE5757; }\n#qunit-tests .fail .test-name,\n#qunit-tests .fail .module-name             { color: #000; }\n\n#qunit-tests .fail .test-actual             { color: #EE5757; }\n#qunit-tests .fail .test-expected           { color: #008000; }\n\n#qunit-banner.qunit-fail                    { background-color: #EE5757; }\n\n\n\/** Result *\/\n\n#qunit-testresult {\n\tpadding: 0.5em 1em 0.5em 1em;\n\n\tcolor: #2B81AF;\n\tbackground-color: #D2E0E6;\n\n\tborder-bottom: 1px solid #FFF;\n}\n#qunit-testresult .module-name {\n\tfont-weight: 700;\n}\n\n\/** Fixture *\/\n\n#qunit-fixture {\n\tposition: absolute;\n\ttop: -10000px;\n\tleft: -10000px;\n\twidth: 1000px;\n\theight: 1000px;\n}\n"}